   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 2
  13              		.file	"hal_usb.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.set_address,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	set_address:
  26              	.LVL0:
  27              	.LFB279:
  28              		.file 1 "lib/chibios/os/hal/src/hal_usb.c"
   1:lib/chibios/os/hal/src/hal_usb.c **** /*
   2:lib/chibios/os/hal/src/hal_usb.c ****     ChibiOS - Copyright (C) 2006..2018 Giovanni Di Sirio
   3:lib/chibios/os/hal/src/hal_usb.c **** 
   4:lib/chibios/os/hal/src/hal_usb.c ****     Licensed under the Apache License, Version 2.0 (the "License");
   5:lib/chibios/os/hal/src/hal_usb.c ****     you may not use this file except in compliance with the License.
   6:lib/chibios/os/hal/src/hal_usb.c ****     You may obtain a copy of the License at
   7:lib/chibios/os/hal/src/hal_usb.c **** 
   8:lib/chibios/os/hal/src/hal_usb.c ****         http://www.apache.org/licenses/LICENSE-2.0
   9:lib/chibios/os/hal/src/hal_usb.c **** 
  10:lib/chibios/os/hal/src/hal_usb.c ****     Unless required by applicable law or agreed to in writing, software
  11:lib/chibios/os/hal/src/hal_usb.c ****     distributed under the License is distributed on an "AS IS" BASIS,
  12:lib/chibios/os/hal/src/hal_usb.c ****     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  13:lib/chibios/os/hal/src/hal_usb.c ****     See the License for the specific language governing permissions and
  14:lib/chibios/os/hal/src/hal_usb.c ****     limitations under the License.
  15:lib/chibios/os/hal/src/hal_usb.c **** */
  16:lib/chibios/os/hal/src/hal_usb.c **** 
  17:lib/chibios/os/hal/src/hal_usb.c **** /**
  18:lib/chibios/os/hal/src/hal_usb.c ****  * @file    hal_usb.c
  19:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   USB Driver code.
  20:lib/chibios/os/hal/src/hal_usb.c ****  *
  21:lib/chibios/os/hal/src/hal_usb.c ****  * @addtogroup USB
  22:lib/chibios/os/hal/src/hal_usb.c ****  * @{
  23:lib/chibios/os/hal/src/hal_usb.c ****  */
  24:lib/chibios/os/hal/src/hal_usb.c **** 
  25:lib/chibios/os/hal/src/hal_usb.c **** #include <string.h>
  26:lib/chibios/os/hal/src/hal_usb.c **** 
  27:lib/chibios/os/hal/src/hal_usb.c **** #include "hal.h"
  28:lib/chibios/os/hal/src/hal_usb.c **** 
  29:lib/chibios/os/hal/src/hal_usb.c **** #if (HAL_USE_USB == TRUE) || defined(__DOXYGEN__)
  30:lib/chibios/os/hal/src/hal_usb.c **** 
  31:lib/chibios/os/hal/src/hal_usb.c **** /*===========================================================================*/
  32:lib/chibios/os/hal/src/hal_usb.c **** /* Driver local definitions.                                                 */
  33:lib/chibios/os/hal/src/hal_usb.c **** /*===========================================================================*/
  34:lib/chibios/os/hal/src/hal_usb.c **** 
  35:lib/chibios/os/hal/src/hal_usb.c **** /*===========================================================================*/
  36:lib/chibios/os/hal/src/hal_usb.c **** /* Driver exported variables.                                                */
  37:lib/chibios/os/hal/src/hal_usb.c **** /*===========================================================================*/
  38:lib/chibios/os/hal/src/hal_usb.c **** 
  39:lib/chibios/os/hal/src/hal_usb.c **** /*===========================================================================*/
  40:lib/chibios/os/hal/src/hal_usb.c **** /* Driver local variables and types.                                         */
  41:lib/chibios/os/hal/src/hal_usb.c **** /*===========================================================================*/
  42:lib/chibios/os/hal/src/hal_usb.c **** 
  43:lib/chibios/os/hal/src/hal_usb.c **** static const uint8_t zero_status[] = {0x00, 0x00};
  44:lib/chibios/os/hal/src/hal_usb.c **** static const uint8_t active_status[] = {0x00, 0x00};
  45:lib/chibios/os/hal/src/hal_usb.c **** static const uint8_t halted_status[] = {0x01, 0x00};
  46:lib/chibios/os/hal/src/hal_usb.c **** 
  47:lib/chibios/os/hal/src/hal_usb.c **** /*===========================================================================*/
  48:lib/chibios/os/hal/src/hal_usb.c **** /* Driver local functions.                                                   */
  49:lib/chibios/os/hal/src/hal_usb.c **** /*===========================================================================*/
  50:lib/chibios/os/hal/src/hal_usb.c **** 
  51:lib/chibios/os/hal/src/hal_usb.c **** static uint16_t get_hword(uint8_t *p) {
  52:lib/chibios/os/hal/src/hal_usb.c ****   uint16_t hw;
  53:lib/chibios/os/hal/src/hal_usb.c **** 
  54:lib/chibios/os/hal/src/hal_usb.c ****   hw  = (uint16_t)*p++;
  55:lib/chibios/os/hal/src/hal_usb.c ****   hw |= (uint16_t)*p << 8U;
  56:lib/chibios/os/hal/src/hal_usb.c ****   return hw;
  57:lib/chibios/os/hal/src/hal_usb.c **** }
  58:lib/chibios/os/hal/src/hal_usb.c **** 
  59:lib/chibios/os/hal/src/hal_usb.c **** /**
  60:lib/chibios/os/hal/src/hal_usb.c ****  * @brief  SET ADDRESS transaction callback.
  61:lib/chibios/os/hal/src/hal_usb.c ****  *
  62:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] usbp      pointer to the @p USBDriver object
  63:lib/chibios/os/hal/src/hal_usb.c ****  */
  64:lib/chibios/os/hal/src/hal_usb.c **** static void set_address(USBDriver *usbp) {
  29              		.loc 1 64 42 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  65:lib/chibios/os/hal/src/hal_usb.c **** 
  66:lib/chibios/os/hal/src/hal_usb.c ****   usbp->address = usbp->setup[2];
  33              		.loc 1 66 3 view .LVU1
  64:lib/chibios/os/hal/src/hal_usb.c **** 
  34              		.loc 1 64 42 is_stmt 0 view .LVU2
  35 0000 10B5     		push	{r4, lr}
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 4, -8
  38              		.cfi_offset 14, -4
  64:lib/chibios/os/hal/src/hal_usb.c **** 
  39              		.loc 1 64 42 view .LVU3
  40 0002 0446     		mov	r4, r0
  41              		.loc 1 66 17 view .LVU4
  42 0004 90F87630 		ldrb	r3, [r0, #118]	@ zero_extendqisi2
  43 0008 80F87E30 		strb	r3, [r0, #126]
  67:lib/chibios/os/hal/src/hal_usb.c ****   usb_lld_set_address(usbp);
  44              		.loc 1 67 3 is_stmt 1 view .LVU5
  45 000c FFF7FEFF 		bl	usb_lld_set_address
  46              	.LVL1:
  68:lib/chibios/os/hal/src/hal_usb.c ****   _usb_isr_invoke_event_cb(usbp, USB_EVENT_ADDRESS);
  47              		.loc 1 68 3 view .LVU6
  48 0010 6368     		ldr	r3, [r4, #4]
  49 0012 1B68     		ldr	r3, [r3]
  50 0014 13B1     		cbz	r3, .L2
  51              		.loc 1 68 3 discriminator 1 view .LVU7
  52 0016 0121     		movs	r1, #1
  53 0018 2046     		mov	r0, r4
  54 001a 9847     		blx	r3
  55              	.LVL2:
  56              	.L2:
  57              		.loc 1 68 52 discriminator 3 view .LVU8
  69:lib/chibios/os/hal/src/hal_usb.c ****   usbp->state = USB_SELECTED;
  58              		.loc 1 69 3 discriminator 3 view .LVU9
  59              		.loc 1 69 15 is_stmt 0 discriminator 3 view .LVU10
  60 001c 0323     		movs	r3, #3
  61 001e 2370     		strb	r3, [r4]
  70:lib/chibios/os/hal/src/hal_usb.c **** }
  62              		.loc 1 70 1 discriminator 3 view .LVU11
  63 0020 10BD     		pop	{r4, pc}
  64              		.loc 1 70 1 discriminator 3 view .LVU12
  65              		.cfi_endproc
  66              	.LFE279:
  68              		.section	.text.usbInit,"ax",%progbits
  69              		.align	1
  70              		.global	usbInit
  71              		.syntax unified
  72              		.thumb
  73              		.thumb_func
  74              		.fpu fpv4-sp-d16
  76              	usbInit:
  77              	.LFB281:
  71:lib/chibios/os/hal/src/hal_usb.c **** 
  72:lib/chibios/os/hal/src/hal_usb.c **** /**
  73:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   Standard requests handler.
  74:lib/chibios/os/hal/src/hal_usb.c ****  * @details This is the standard requests default handler, most standard
  75:lib/chibios/os/hal/src/hal_usb.c ****  *          requests are handled here, the user can override the standard
  76:lib/chibios/os/hal/src/hal_usb.c ****  *          handling using the @p requests_hook_cb hook in the
  77:lib/chibios/os/hal/src/hal_usb.c ****  *          @p USBConfig structure.
  78:lib/chibios/os/hal/src/hal_usb.c ****  *
  79:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] usbp      pointer to the @p USBDriver object
  80:lib/chibios/os/hal/src/hal_usb.c ****  * @return              The request handling exit code.
  81:lib/chibios/os/hal/src/hal_usb.c ****  * @retval false        Request not recognized by the handler or error.
  82:lib/chibios/os/hal/src/hal_usb.c ****  * @retval true         Request handled.
  83:lib/chibios/os/hal/src/hal_usb.c ****  */
  84:lib/chibios/os/hal/src/hal_usb.c **** static bool default_handler(USBDriver *usbp) {
  85:lib/chibios/os/hal/src/hal_usb.c ****   const USBDescriptor *dp;
  86:lib/chibios/os/hal/src/hal_usb.c **** 
  87:lib/chibios/os/hal/src/hal_usb.c ****   /* Decoding the request.*/
  88:lib/chibios/os/hal/src/hal_usb.c ****   switch ((((uint32_t)usbp->setup[0] & (USB_RTYPE_RECIPIENT_MASK |
  89:lib/chibios/os/hal/src/hal_usb.c ****                                         USB_RTYPE_TYPE_MASK)) |
  90:lib/chibios/os/hal/src/hal_usb.c ****            ((uint32_t)usbp->setup[1] << 8U))) {
  91:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_DEVICE | ((uint32_t)USB_REQ_GET_STATUS << 8):
  92:lib/chibios/os/hal/src/hal_usb.c ****     /* Just returns the current status word.*/
  93:lib/chibios/os/hal/src/hal_usb.c ****     usbSetupTransfer(usbp, (uint8_t *)&usbp->status, 2, NULL);
  94:lib/chibios/os/hal/src/hal_usb.c ****     return true;
  95:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_DEVICE | ((uint32_t)USB_REQ_CLEAR_FEATURE << 8):
  96:lib/chibios/os/hal/src/hal_usb.c ****     /* Only the DEVICE_REMOTE_WAKEUP is handled here, any other feature
  97:lib/chibios/os/hal/src/hal_usb.c ****        number is handled as an error.*/
  98:lib/chibios/os/hal/src/hal_usb.c ****     if (usbp->setup[2] == USB_FEATURE_DEVICE_REMOTE_WAKEUP) {
  99:lib/chibios/os/hal/src/hal_usb.c ****       usbp->status &= ~2U;
 100:lib/chibios/os/hal/src/hal_usb.c ****       usbSetupTransfer(usbp, NULL, 0, NULL);
 101:lib/chibios/os/hal/src/hal_usb.c ****       return true;
 102:lib/chibios/os/hal/src/hal_usb.c ****     }
 103:lib/chibios/os/hal/src/hal_usb.c ****     return false;
 104:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_DEVICE | ((uint32_t)USB_REQ_SET_FEATURE << 8):
 105:lib/chibios/os/hal/src/hal_usb.c ****     /* Only the DEVICE_REMOTE_WAKEUP is handled here, any other feature
 106:lib/chibios/os/hal/src/hal_usb.c ****        number is handled as an error.*/
 107:lib/chibios/os/hal/src/hal_usb.c ****     if (usbp->setup[2] == USB_FEATURE_DEVICE_REMOTE_WAKEUP) {
 108:lib/chibios/os/hal/src/hal_usb.c ****       usbp->status |= 2U;
 109:lib/chibios/os/hal/src/hal_usb.c ****       usbSetupTransfer(usbp, NULL, 0, NULL);
 110:lib/chibios/os/hal/src/hal_usb.c ****       return true;
 111:lib/chibios/os/hal/src/hal_usb.c ****     }
 112:lib/chibios/os/hal/src/hal_usb.c ****     return false;
 113:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_DEVICE | ((uint32_t)USB_REQ_SET_ADDRESS << 8):
 114:lib/chibios/os/hal/src/hal_usb.c ****     /* The SET_ADDRESS handling can be performed here or postponed after
 115:lib/chibios/os/hal/src/hal_usb.c ****        the status packed depending on the USB_SET_ADDRESS_MODE low
 116:lib/chibios/os/hal/src/hal_usb.c ****        driver setting.*/
 117:lib/chibios/os/hal/src/hal_usb.c **** #if USB_SET_ADDRESS_MODE == USB_EARLY_SET_ADDRESS
 118:lib/chibios/os/hal/src/hal_usb.c ****     if ((usbp->setup[0] == USB_RTYPE_RECIPIENT_DEVICE) &&
 119:lib/chibios/os/hal/src/hal_usb.c ****         (usbp->setup[1] == USB_REQ_SET_ADDRESS)) {
 120:lib/chibios/os/hal/src/hal_usb.c ****       set_address(usbp);
 121:lib/chibios/os/hal/src/hal_usb.c ****     }
 122:lib/chibios/os/hal/src/hal_usb.c ****     usbSetupTransfer(usbp, NULL, 0, NULL);
 123:lib/chibios/os/hal/src/hal_usb.c **** #else
 124:lib/chibios/os/hal/src/hal_usb.c ****     usbSetupTransfer(usbp, NULL, 0, set_address);
 125:lib/chibios/os/hal/src/hal_usb.c **** #endif
 126:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 127:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_DEVICE | ((uint32_t)USB_REQ_GET_DESCRIPTOR << 8):
 128:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_INTERFACE | ((uint32_t)USB_REQ_GET_DESCRIPTOR << 8):
 129:lib/chibios/os/hal/src/hal_usb.c ****     /* Handling descriptor requests from the host.*/
 130:lib/chibios/os/hal/src/hal_usb.c ****     dp = usbp->config->get_descriptor_cb(usbp, usbp->setup[3],
 131:lib/chibios/os/hal/src/hal_usb.c ****                                          usbp->setup[2],
 132:lib/chibios/os/hal/src/hal_usb.c ****                                          get_hword(&usbp->setup[4]));
 133:lib/chibios/os/hal/src/hal_usb.c ****     if (dp == NULL) {
 134:lib/chibios/os/hal/src/hal_usb.c ****       return false;
 135:lib/chibios/os/hal/src/hal_usb.c ****     }
 136:lib/chibios/os/hal/src/hal_usb.c ****     /*lint -save -e9005 [11.8] Removing const is fine.*/
 137:lib/chibios/os/hal/src/hal_usb.c ****     usbSetupTransfer(usbp, (uint8_t *)dp->ud_string, dp->ud_size, NULL);
 138:lib/chibios/os/hal/src/hal_usb.c ****     /*lint -restore*/
 139:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 140:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_DEVICE | ((uint32_t)USB_REQ_GET_CONFIGURATION << 8):
 141:lib/chibios/os/hal/src/hal_usb.c ****     /* Returning the last selected configuration.*/
 142:lib/chibios/os/hal/src/hal_usb.c ****     usbSetupTransfer(usbp, &usbp->configuration, 1, NULL);
 143:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 144:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_DEVICE | ((uint32_t)USB_REQ_SET_CONFIGURATION << 8):
 145:lib/chibios/os/hal/src/hal_usb.c **** #if defined(USB_SET_CONFIGURATION_OLD_BEHAVIOR)
 146:lib/chibios/os/hal/src/hal_usb.c ****     /* Handling configuration selection from the host only if it is different
 147:lib/chibios/os/hal/src/hal_usb.c ****        from the current configuration.*/
 148:lib/chibios/os/hal/src/hal_usb.c ****     if (usbp->configuration != usbp->setup[2])
 149:lib/chibios/os/hal/src/hal_usb.c **** #endif
 150:lib/chibios/os/hal/src/hal_usb.c ****     {
 151:lib/chibios/os/hal/src/hal_usb.c ****       /* If the USB device is already active then we have to perform the clear
 152:lib/chibios/os/hal/src/hal_usb.c ****          procedure on the current configuration.*/
 153:lib/chibios/os/hal/src/hal_usb.c ****       if (usbp->state == USB_ACTIVE) {
 154:lib/chibios/os/hal/src/hal_usb.c ****         /* Current configuration cleared.*/
 155:lib/chibios/os/hal/src/hal_usb.c ****         osalSysLockFromISR ();
 156:lib/chibios/os/hal/src/hal_usb.c ****         usbDisableEndpointsI(usbp);
 157:lib/chibios/os/hal/src/hal_usb.c ****         osalSysUnlockFromISR ();
 158:lib/chibios/os/hal/src/hal_usb.c ****         usbp->configuration = 0U;
 159:lib/chibios/os/hal/src/hal_usb.c ****         usbp->state = USB_SELECTED;
 160:lib/chibios/os/hal/src/hal_usb.c ****         _usb_isr_invoke_event_cb(usbp, USB_EVENT_UNCONFIGURED);
 161:lib/chibios/os/hal/src/hal_usb.c ****       }
 162:lib/chibios/os/hal/src/hal_usb.c ****       if (usbp->setup[2] != 0U) {
 163:lib/chibios/os/hal/src/hal_usb.c ****         /* New configuration.*/
 164:lib/chibios/os/hal/src/hal_usb.c ****         usbp->configuration = usbp->setup[2];
 165:lib/chibios/os/hal/src/hal_usb.c ****         usbp->state = USB_ACTIVE;
 166:lib/chibios/os/hal/src/hal_usb.c ****         _usb_isr_invoke_event_cb(usbp, USB_EVENT_CONFIGURED);
 167:lib/chibios/os/hal/src/hal_usb.c ****       }
 168:lib/chibios/os/hal/src/hal_usb.c ****     }
 169:lib/chibios/os/hal/src/hal_usb.c ****     usbSetupTransfer(usbp, NULL, 0, NULL);
 170:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 171:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_INTERFACE | ((uint32_t)USB_REQ_GET_STATUS << 8):
 172:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_ENDPOINT | ((uint32_t)USB_REQ_SYNCH_FRAME << 8):
 173:lib/chibios/os/hal/src/hal_usb.c ****     /* Just sending two zero bytes, the application can change the behavior
 174:lib/chibios/os/hal/src/hal_usb.c ****        using a hook..*/
 175:lib/chibios/os/hal/src/hal_usb.c ****     /*lint -save -e9005 [11.8] Removing const is fine.*/
 176:lib/chibios/os/hal/src/hal_usb.c ****     usbSetupTransfer(usbp, (uint8_t *)zero_status, 2, NULL);
 177:lib/chibios/os/hal/src/hal_usb.c ****     /*lint -restore*/
 178:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 179:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_ENDPOINT | ((uint32_t)USB_REQ_GET_STATUS << 8):
 180:lib/chibios/os/hal/src/hal_usb.c ****     /* Sending the EP status.*/
 181:lib/chibios/os/hal/src/hal_usb.c ****     if ((usbp->setup[4] & 0x80U) != 0U) {
 182:lib/chibios/os/hal/src/hal_usb.c ****       switch (usb_lld_get_status_in(usbp, usbp->setup[4] & 0x0FU)) {
 183:lib/chibios/os/hal/src/hal_usb.c ****       case EP_STATUS_STALLED:
 184:lib/chibios/os/hal/src/hal_usb.c ****         /*lint -save -e9005 [11.8] Removing const is fine.*/
 185:lib/chibios/os/hal/src/hal_usb.c ****         usbSetupTransfer(usbp, (uint8_t *)halted_status, 2, NULL);
 186:lib/chibios/os/hal/src/hal_usb.c ****         /*lint -restore*/
 187:lib/chibios/os/hal/src/hal_usb.c ****         return true;
 188:lib/chibios/os/hal/src/hal_usb.c ****       case EP_STATUS_ACTIVE:
 189:lib/chibios/os/hal/src/hal_usb.c ****         /*lint -save -e9005 [11.8] Removing const is fine.*/
 190:lib/chibios/os/hal/src/hal_usb.c ****         usbSetupTransfer(usbp, (uint8_t *)active_status, 2, NULL);
 191:lib/chibios/os/hal/src/hal_usb.c ****         /*lint -restore*/
 192:lib/chibios/os/hal/src/hal_usb.c ****         return true;
 193:lib/chibios/os/hal/src/hal_usb.c ****       case EP_STATUS_DISABLED:
 194:lib/chibios/os/hal/src/hal_usb.c ****       default:
 195:lib/chibios/os/hal/src/hal_usb.c ****         return false;
 196:lib/chibios/os/hal/src/hal_usb.c ****       }
 197:lib/chibios/os/hal/src/hal_usb.c ****     }
 198:lib/chibios/os/hal/src/hal_usb.c ****     else {
 199:lib/chibios/os/hal/src/hal_usb.c ****       switch (usb_lld_get_status_out(usbp, usbp->setup[4] & 0x0FU)) {
 200:lib/chibios/os/hal/src/hal_usb.c ****       case EP_STATUS_STALLED:
 201:lib/chibios/os/hal/src/hal_usb.c ****         /*lint -save -e9005 [11.8] Removing const is fine.*/
 202:lib/chibios/os/hal/src/hal_usb.c ****         usbSetupTransfer(usbp, (uint8_t *)halted_status, 2, NULL);
 203:lib/chibios/os/hal/src/hal_usb.c ****         /*lint -restore*/
 204:lib/chibios/os/hal/src/hal_usb.c ****         return true;
 205:lib/chibios/os/hal/src/hal_usb.c ****       case EP_STATUS_ACTIVE:
 206:lib/chibios/os/hal/src/hal_usb.c ****         /*lint -save -e9005 [11.8] Removing const is fine.*/
 207:lib/chibios/os/hal/src/hal_usb.c ****         usbSetupTransfer(usbp, (uint8_t *)active_status, 2, NULL);
 208:lib/chibios/os/hal/src/hal_usb.c ****         /*lint -restore*/
 209:lib/chibios/os/hal/src/hal_usb.c ****         return true;
 210:lib/chibios/os/hal/src/hal_usb.c ****       case EP_STATUS_DISABLED:
 211:lib/chibios/os/hal/src/hal_usb.c ****       default:
 212:lib/chibios/os/hal/src/hal_usb.c ****         return false;
 213:lib/chibios/os/hal/src/hal_usb.c ****       }
 214:lib/chibios/os/hal/src/hal_usb.c ****     }
 215:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_ENDPOINT | ((uint32_t)USB_REQ_CLEAR_FEATURE << 8):
 216:lib/chibios/os/hal/src/hal_usb.c ****     /* Only ENDPOINT_HALT is handled as feature.*/
 217:lib/chibios/os/hal/src/hal_usb.c ****     if (usbp->setup[2] != USB_FEATURE_ENDPOINT_HALT) {
 218:lib/chibios/os/hal/src/hal_usb.c ****       return false;
 219:lib/chibios/os/hal/src/hal_usb.c ****     }
 220:lib/chibios/os/hal/src/hal_usb.c ****     /* Clearing the EP status, not valid for EP0, it is ignored in that case.*/
 221:lib/chibios/os/hal/src/hal_usb.c ****     if ((usbp->setup[4] & 0x0FU) != 0U) {
 222:lib/chibios/os/hal/src/hal_usb.c ****       if ((usbp->setup[4] & 0x80U) != 0U) {
 223:lib/chibios/os/hal/src/hal_usb.c ****         usb_lld_clear_in(usbp, usbp->setup[4] & 0x0FU);
 224:lib/chibios/os/hal/src/hal_usb.c ****       }
 225:lib/chibios/os/hal/src/hal_usb.c ****       else {
 226:lib/chibios/os/hal/src/hal_usb.c ****         usb_lld_clear_out(usbp, usbp->setup[4] & 0x0FU);
 227:lib/chibios/os/hal/src/hal_usb.c ****       }
 228:lib/chibios/os/hal/src/hal_usb.c ****     }
 229:lib/chibios/os/hal/src/hal_usb.c ****     usbSetupTransfer(usbp, NULL, 0, NULL);
 230:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 231:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_ENDPOINT | ((uint32_t)USB_REQ_SET_FEATURE << 8):
 232:lib/chibios/os/hal/src/hal_usb.c ****     /* Only ENDPOINT_HALT is handled as feature.*/
 233:lib/chibios/os/hal/src/hal_usb.c ****     if (usbp->setup[2] != USB_FEATURE_ENDPOINT_HALT) {
 234:lib/chibios/os/hal/src/hal_usb.c ****       return false;
 235:lib/chibios/os/hal/src/hal_usb.c ****     }
 236:lib/chibios/os/hal/src/hal_usb.c ****     /* Stalling the EP, not valid for EP0, it is ignored in that case.*/
 237:lib/chibios/os/hal/src/hal_usb.c ****     if ((usbp->setup[4] & 0x0FU) != 0U) {
 238:lib/chibios/os/hal/src/hal_usb.c ****       if ((usbp->setup[4] & 0x80U) != 0U) {
 239:lib/chibios/os/hal/src/hal_usb.c ****         usb_lld_stall_in(usbp, usbp->setup[4] & 0x0FU);
 240:lib/chibios/os/hal/src/hal_usb.c ****       }
 241:lib/chibios/os/hal/src/hal_usb.c ****       else {
 242:lib/chibios/os/hal/src/hal_usb.c ****         usb_lld_stall_out(usbp, usbp->setup[4] & 0x0FU);
 243:lib/chibios/os/hal/src/hal_usb.c ****       }
 244:lib/chibios/os/hal/src/hal_usb.c ****     }
 245:lib/chibios/os/hal/src/hal_usb.c ****     usbSetupTransfer(usbp, NULL, 0, NULL);
 246:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 247:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_DEVICE | ((uint32_t)USB_REQ_SET_DESCRIPTOR << 8):
 248:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_INTERFACE | ((uint32_t)USB_REQ_CLEAR_FEATURE << 8):
 249:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_INTERFACE | ((uint32_t)USB_REQ_SET_FEATURE << 8):
 250:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_INTERFACE | ((uint32_t)USB_REQ_GET_INTERFACE << 8):
 251:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_INTERFACE | ((uint32_t)USB_REQ_SET_INTERFACE << 8):
 252:lib/chibios/os/hal/src/hal_usb.c ****     /* All the above requests are not handled here, if you need them then
 253:lib/chibios/os/hal/src/hal_usb.c ****        use the hook mechanism and provide handling.*/
 254:lib/chibios/os/hal/src/hal_usb.c ****   default:
 255:lib/chibios/os/hal/src/hal_usb.c ****     return false;
 256:lib/chibios/os/hal/src/hal_usb.c ****   }
 257:lib/chibios/os/hal/src/hal_usb.c **** }
 258:lib/chibios/os/hal/src/hal_usb.c **** 
 259:lib/chibios/os/hal/src/hal_usb.c **** /*===========================================================================*/
 260:lib/chibios/os/hal/src/hal_usb.c **** /* Driver exported functions.                                                */
 261:lib/chibios/os/hal/src/hal_usb.c **** /*===========================================================================*/
 262:lib/chibios/os/hal/src/hal_usb.c **** 
 263:lib/chibios/os/hal/src/hal_usb.c **** /**
 264:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   USB Driver initialization.
 265:lib/chibios/os/hal/src/hal_usb.c ****  * @note    This function is implicitly invoked by @p halInit(), there is
 266:lib/chibios/os/hal/src/hal_usb.c ****  *          no need to explicitly initialize the driver.
 267:lib/chibios/os/hal/src/hal_usb.c ****  *
 268:lib/chibios/os/hal/src/hal_usb.c ****  * @init
 269:lib/chibios/os/hal/src/hal_usb.c ****  */
 270:lib/chibios/os/hal/src/hal_usb.c **** void usbInit(void) {
  78              		.loc 1 270 20 is_stmt 1 view -0
  79              		.cfi_startproc
  80              		@ args = 0, pretend = 0, frame = 0
  81              		@ frame_needed = 0, uses_anonymous_args = 0
  82              		@ link register save eliminated.
 271:lib/chibios/os/hal/src/hal_usb.c **** 
 272:lib/chibios/os/hal/src/hal_usb.c ****   usb_lld_init();
  83              		.loc 1 272 3 view .LVU14
  84 0000 FFF7FEBF 		b	usb_lld_init
  85              	.LVL3:
  86              		.cfi_endproc
  87              	.LFE281:
  89              		.section	.text.usbObjectInit,"ax",%progbits
  90              		.align	1
  91              		.global	usbObjectInit
  92              		.syntax unified
  93              		.thumb
  94              		.thumb_func
  95              		.fpu fpv4-sp-d16
  97              	usbObjectInit:
  98              	.LVL4:
  99              	.LFB282:
 273:lib/chibios/os/hal/src/hal_usb.c **** }
 274:lib/chibios/os/hal/src/hal_usb.c **** 
 275:lib/chibios/os/hal/src/hal_usb.c **** /**
 276:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   Initializes the standard part of a @p USBDriver structure.
 277:lib/chibios/os/hal/src/hal_usb.c ****  *
 278:lib/chibios/os/hal/src/hal_usb.c ****  * @param[out] usbp     pointer to the @p USBDriver object
 279:lib/chibios/os/hal/src/hal_usb.c ****  *
 280:lib/chibios/os/hal/src/hal_usb.c ****  * @init
 281:lib/chibios/os/hal/src/hal_usb.c ****  */
 282:lib/chibios/os/hal/src/hal_usb.c **** void usbObjectInit(USBDriver *usbp) {
 100              		.loc 1 282 37 view -0
 101              		.cfi_startproc
 102              		@ args = 0, pretend = 0, frame = 0
 103              		@ frame_needed = 0, uses_anonymous_args = 0
 283:lib/chibios/os/hal/src/hal_usb.c ****   unsigned i;
 104              		.loc 1 283 3 view .LVU16
 284:lib/chibios/os/hal/src/hal_usb.c **** 
 285:lib/chibios/os/hal/src/hal_usb.c ****   usbp->state        = USB_STOP;
 105              		.loc 1 285 3 view .LVU17
 282:lib/chibios/os/hal/src/hal_usb.c ****   unsigned i;
 106              		.loc 1 282 37 is_stmt 0 view .LVU18
 107 0000 10B5     		push	{r4, lr}
 108              		.cfi_def_cfa_offset 8
 109              		.cfi_offset 4, -8
 110              		.cfi_offset 14, -4
 111              		.loc 1 285 22 view .LVU19
 112 0002 0123     		movs	r3, #1
 282:lib/chibios/os/hal/src/hal_usb.c ****   unsigned i;
 113              		.loc 1 282 37 view .LVU20
 114 0004 0446     		mov	r4, r0
 286:lib/chibios/os/hal/src/hal_usb.c ****   usbp->config       = NULL;
 287:lib/chibios/os/hal/src/hal_usb.c ****   for (i = 0; i < (unsigned)USB_MAX_ENDPOINTS; i++) {
 288:lib/chibios/os/hal/src/hal_usb.c ****     usbp->in_params[i]  = NULL;
 115              		.loc 1 288 25 view .LVU21
 116 0006 3822     		movs	r2, #56
 285:lib/chibios/os/hal/src/hal_usb.c ****   usbp->config       = NULL;
 117              		.loc 1 285 22 view .LVU22
 118 0008 00F82C3B 		strb	r3, [r0], #44
 119              	.LVL5:
 286:lib/chibios/os/hal/src/hal_usb.c ****   usbp->config       = NULL;
 120              		.loc 1 286 3 is_stmt 1 view .LVU23
 287:lib/chibios/os/hal/src/hal_usb.c ****     usbp->in_params[i]  = NULL;
 121              		.loc 1 287 3 view .LVU24
 287:lib/chibios/os/hal/src/hal_usb.c ****     usbp->in_params[i]  = NULL;
 122              		.loc 1 287 15 view .LVU25
 123              		.loc 1 288 25 is_stmt 0 view .LVU26
 124 000c 0021     		movs	r1, #0
 125 000e FFF7FEFF 		bl	memset
 126              	.LVL6:
 289:lib/chibios/os/hal/src/hal_usb.c ****     usbp->out_params[i] = NULL;
 290:lib/chibios/os/hal/src/hal_usb.c ****   }
 291:lib/chibios/os/hal/src/hal_usb.c ****   usbp->transmitting = 0;
 127              		.loc 1 291 3 is_stmt 1 view .LVU27
 292:lib/chibios/os/hal/src/hal_usb.c ****   usbp->receiving    = 0;
 128              		.loc 1 292 3 view .LVU28
 286:lib/chibios/os/hal/src/hal_usb.c ****   for (i = 0; i < (unsigned)USB_MAX_ENDPOINTS; i++) {
 129              		.loc 1 286 22 is_stmt 0 view .LVU29
 130 0012 0023     		movs	r3, #0
 291:lib/chibios/os/hal/src/hal_usb.c ****   usbp->receiving    = 0;
 131              		.loc 1 291 22 view .LVU30
 132 0014 C4E90133 		strd	r3, r3, [r4, #4]
 293:lib/chibios/os/hal/src/hal_usb.c **** }
 133              		.loc 1 293 1 view .LVU31
 134 0018 10BD     		pop	{r4, pc}
 135              		.loc 1 293 1 view .LVU32
 136              		.cfi_endproc
 137              	.LFE282:
 139              		.section	.text.usbStart,"ax",%progbits
 140              		.align	1
 141              		.global	usbStart
 142              		.syntax unified
 143              		.thumb
 144              		.thumb_func
 145              		.fpu fpv4-sp-d16
 147              	usbStart:
 148              	.LVL7:
 149              	.LFB283:
 294:lib/chibios/os/hal/src/hal_usb.c **** 
 295:lib/chibios/os/hal/src/hal_usb.c **** /**
 296:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   Configures and activates the USB peripheral.
 297:lib/chibios/os/hal/src/hal_usb.c ****  *
 298:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] usbp      pointer to the @p USBDriver object
 299:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] config    pointer to the @p USBConfig object
 300:lib/chibios/os/hal/src/hal_usb.c ****  *
 301:lib/chibios/os/hal/src/hal_usb.c ****  * @api
 302:lib/chibios/os/hal/src/hal_usb.c ****  */
 303:lib/chibios/os/hal/src/hal_usb.c **** void usbStart(USBDriver *usbp, const USBConfig *config) {
 150              		.loc 1 303 57 is_stmt 1 view -0
 151              		.cfi_startproc
 152              		@ args = 0, pretend = 0, frame = 0
 153              		@ frame_needed = 0, uses_anonymous_args = 0
 304:lib/chibios/os/hal/src/hal_usb.c ****   unsigned i;
 154              		.loc 1 304 3 view .LVU34
 305:lib/chibios/os/hal/src/hal_usb.c **** 
 306:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgCheck((usbp != NULL) && (config != NULL));
 155              		.loc 1 306 3 view .LVU35
 156              		.loc 1 306 3 view .LVU36
 157              		.loc 1 306 3 view .LVU37
 307:lib/chibios/os/hal/src/hal_usb.c **** 
 308:lib/chibios/os/hal/src/hal_usb.c ****   osalSysLock();
 158              		.loc 1 308 3 view .LVU38
 159              	.LBB287:
 160              	.LBI287:
 161              		.file 2 "./lib/chibios/os/hal/osal/rt-nil/osal.h"
   1:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /*
   2:./lib/chibios/os/hal/osal/rt-nil/osal.h ****     ChibiOS - Copyright (C) 2006..2018 Giovanni Di Sirio
   3:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
   4:./lib/chibios/os/hal/osal/rt-nil/osal.h ****     Licensed under the Apache License, Version 2.0 (the "License");
   5:./lib/chibios/os/hal/osal/rt-nil/osal.h ****     you may not use this file except in compliance with the License.
   6:./lib/chibios/os/hal/osal/rt-nil/osal.h ****     You may obtain a copy of the License at
   7:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
   8:./lib/chibios/os/hal/osal/rt-nil/osal.h ****         http://www.apache.org/licenses/LICENSE-2.0
   9:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
  10:./lib/chibios/os/hal/osal/rt-nil/osal.h ****     Unless required by applicable law or agreed to in writing, software
  11:./lib/chibios/os/hal/osal/rt-nil/osal.h ****     distributed under the License is distributed on an "AS IS" BASIS,
  12:./lib/chibios/os/hal/osal/rt-nil/osal.h ****     WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  13:./lib/chibios/os/hal/osal/rt-nil/osal.h ****     See the License for the specific language governing permissions and
  14:./lib/chibios/os/hal/osal/rt-nil/osal.h ****     limitations under the License.
  15:./lib/chibios/os/hal/osal/rt-nil/osal.h **** */
  16:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
  17:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
  18:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @file    osal.h
  19:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   OSAL module header.
  20:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
  21:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @addtogroup OSAL
  22:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @{
  23:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
  24:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
  25:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #ifndef OSAL_H
  26:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_H
  27:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
  28:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #include <stddef.h>
  29:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #include <stdint.h>
  30:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #include <stdbool.h>
  31:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
  32:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #include "ch.h"
  33:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
  34:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
  35:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /* Module constants.                                                         */
  36:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
  37:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
  38:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
  39:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @name    Common constants
  40:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @{
  41:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
  42:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #if !defined(FALSE) || defined(__DOXYGEN__)
  43:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define FALSE                               0
  44:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
  45:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
  46:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #if !defined(TRUE) || defined(__DOXYGEN__)
  47:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define TRUE                                1
  48:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
  49:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
  50:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_SUCCESS                        false
  51:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_FAILED                         true
  52:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /** @} */
  53:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
  54:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #if 0
  55:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
  56:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @name    Messages
  57:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @{
  58:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
  59:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define MSG_OK                              (msg_t)0
  60:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define MSG_TIMEOUT                         (msg_t)-1
  61:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define MSG_RESET                           (msg_t)-2
  62:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /** @} */
  63:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
  64:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
  65:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #if 0
  66:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
  67:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @name    Special time constants
  68:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @{
  69:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
  70:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define TIME_IMMEDIATE                      ((sysinterval_t)0)
  71:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define TIME_INFINITE                       ((sysinterval_t)-1)
  72:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /** @} */
  73:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
  74:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
  75:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
  76:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @name    Systick modes.
  77:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @{
  78:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
  79:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_ST_MODE_NONE                   0
  80:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_ST_MODE_PERIODIC               1
  81:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_ST_MODE_FREERUNNING            2
  82:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /** @} */
  83:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
  84:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
  85:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @name    Systick parameters.
  86:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @{
  87:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
  88:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
  89:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Size in bits of the @p systick_t type.
  90:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
  91:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_ST_RESOLUTION                  CH_CFG_ST_RESOLUTION
  92:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
  93:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
  94:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Required systick frequency or resolution.
  95:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
  96:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_ST_FREQUENCY                   CH_CFG_ST_FREQUENCY
  97:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
  98:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
  99:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Systick mode required by the underlying OS.
 100:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 101:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #if (CH_CFG_ST_TIMEDELTA == 0) || defined(__DOXYGEN__)
 102:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_ST_MODE                        OSAL_ST_MODE_PERIODIC
 103:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #else
 104:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_ST_MODE                        OSAL_ST_MODE_FREERUNNING
 105:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
 106:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /** @} */
 107:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 108:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 109:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /* Module pre-compile time settings.                                         */
 110:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 111:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 112:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 113:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /* Derived constants and error checks.                                       */
 114:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 115:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 116:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #if !(OSAL_ST_MODE == OSAL_ST_MODE_NONE) &&                                 \
 117:./lib/chibios/os/hal/osal/rt-nil/osal.h ****     !(OSAL_ST_MODE == OSAL_ST_MODE_PERIODIC) &&                             \
 118:./lib/chibios/os/hal/osal/rt-nil/osal.h ****     !(OSAL_ST_MODE == OSAL_ST_MODE_FREERUNNING)
 119:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #error "invalid OSAL_ST_MODE setting in osal.h"
 120:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
 121:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 122:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #if (OSAL_ST_RESOLUTION != 16) && (OSAL_ST_RESOLUTION != 32)
 123:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #error "invalid OSAL_ST_RESOLUTION, must be 16 or 32"
 124:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
 125:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 126:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 127:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /* Module data structures and types.                                         */
 128:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 129:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 130:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #if 0
 131:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 132:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Type of a system status word.
 133:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 134:./lib/chibios/os/hal/osal/rt-nil/osal.h **** typedef uint32_t syssts_t;
 135:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
 136:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 137:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #if 0
 138:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 139:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Type of a message.
 140:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 141:./lib/chibios/os/hal/osal/rt-nil/osal.h **** typedef int32_t msg_t;
 142:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
 143:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 144:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #if 0
 145:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 146:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Type of system time counter.
 147:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 148:./lib/chibios/os/hal/osal/rt-nil/osal.h **** typedef uint32_t systime_t;
 149:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
 150:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 151:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #if 0
 152:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 153:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Type of system time interval.
 154:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 155:./lib/chibios/os/hal/osal/rt-nil/osal.h **** typedef uint32_t sysinterval_t;
 156:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
 157:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 158:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #if 0
 159:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 160:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Type of realtime counter.
 161:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 162:./lib/chibios/os/hal/osal/rt-nil/osal.h **** typedef uint32_t rtcnt_t;
 163:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
 164:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 165:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #if 0
 166:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 167:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Type of a thread reference.
 168:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 169:./lib/chibios/os/hal/osal/rt-nil/osal.h **** typedef thread_t * thread_reference_t;
 170:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
 171:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 172:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #if 0
 173:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 174:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Type of an event flags mask.
 175:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 176:./lib/chibios/os/hal/osal/rt-nil/osal.h **** typedef uint32_t eventflags_t;
 177:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
 178:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 179:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #if (CH_CFG_USE_EVENTS == FALSE) || defined(__DOXYGEN__)
 180:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 181:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Type of an event flags object.
 182:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The content of this structure is not part of the API and should
 183:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          not be relied upon. Implementers may define this structure in
 184:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          an entirely different way.
 185:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    Retrieval and clearing of the flags are not defined in this
 186:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          API and are implementation-dependent.
 187:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 188:./lib/chibios/os/hal/osal/rt-nil/osal.h **** typedef struct event_source event_source_t;
 189:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 190:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 191:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Type of an event source callback.
 192:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    This type is not part of the OSAL API and is provided
 193:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          exclusively as an example and for convenience.
 194:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 195:./lib/chibios/os/hal/osal/rt-nil/osal.h **** typedef void (*eventcallback_t)(event_source_t *esp);
 196:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 197:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 198:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Events source object.
 199:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The content of this structure is not part of the API and should
 200:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          not be relied upon. Implementers may define this structure in
 201:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          an entirely different way.
 202:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    Retrieval and clearing of the flags are not defined in this
 203:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          API and are implementation-dependent.
 204:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 205:./lib/chibios/os/hal/osal/rt-nil/osal.h **** struct event_source {
 206:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   volatile eventflags_t flags;      /**< @brief Stored event flags.         */
 207:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   eventcallback_t       cb;         /**< @brief Event source callback.      */
 208:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   void                  *param;     /**< @brief User defined field.         */
 209:./lib/chibios/os/hal/osal/rt-nil/osal.h **** };
 210:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif /* CH_CFG_USE_EVENTS == FALSE */
 211:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 212:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 213:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Type of a mutex.
 214:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    If the OS does not support mutexes or there is no OS then the
 215:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          mechanism can be simulated.
 216:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 217:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #if CH_CFG_USE_MUTEXES || defined(__DOXYGEN__)
 218:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #elif CH_CFG_USE_SEMAPHORES
 219:./lib/chibios/os/hal/osal/rt-nil/osal.h **** typedef semaphore_t mutex_t;
 220:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #else
 221:./lib/chibios/os/hal/osal/rt-nil/osal.h **** typedef uint32_t mutex_t;
 222:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
 223:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 224:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #if 0
 225:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 226:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Type of a thread queue.
 227:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @details A thread queue is a queue of sleeping threads, queued threads
 228:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          can be dequeued one at time or all together.
 229:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    In this implementation it is implemented as a single reference
 230:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          because there are no real threads.
 231:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 232:./lib/chibios/os/hal/osal/rt-nil/osal.h **** typedef struct {
 233:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   thread_reference_t    tr;
 234:./lib/chibios/os/hal/osal/rt-nil/osal.h **** } threads_queue_t;
 235:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
 236:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 237:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 238:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /* Module macros.                                                            */
 239:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 240:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 241:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 242:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @name    Debug related macros
 243:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @{
 244:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 245:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 246:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Condition assertion.
 247:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @details If the condition check fails then the OSAL panics with a
 248:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          message and halts.
 249:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The condition is tested only if the @p OSAL_ENABLE_ASSERTIONS
 250:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          switch is enabled.
 251:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The remark string is not currently used except for putting a
 252:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          comment in the code about the assertion.
 253:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 254:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] c         the condition to be verified to be true
 255:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] remark    a remark string
 256:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 257:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @api
 258:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 259:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define osalDbgAssert(c, remark) chDbgAssert(c, remark)
 260:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 261:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 262:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Function parameters check.
 263:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @details If the condition check fails then the OSAL panics and halts.
 264:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The condition is tested only if the @p OSAL_ENABLE_CHECKS switch
 265:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          is enabled.
 266:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 267:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] c         the condition to be verified to be true
 268:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 269:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @api
 270:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 271:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define osalDbgCheck(c) chDbgCheck(c)
 272:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 273:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 274:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   I-Class state check.
 275:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    Not implemented in this simplified OSAL.
 276:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 277:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define osalDbgCheckClassI() chDbgCheckClassI()
 278:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 279:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 280:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   S-Class state check.
 281:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    Not implemented in this simplified OSAL.
 282:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 283:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define osalDbgCheckClassS() chDbgCheckClassS()
 284:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /** @} */
 285:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 286:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 287:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @name    IRQ service routines wrappers
 288:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @{
 289:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 290:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 291:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Priority level verification macro.
 292:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 293:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_IRQ_IS_VALID_PRIORITY(n) CH_IRQ_IS_VALID_KERNEL_PRIORITY(n)
 294:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 295:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 296:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   IRQ prologue code.
 297:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @details This macro must be inserted at the start of all IRQ handlers.
 298:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 299:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_IRQ_PROLOGUE() CH_IRQ_PROLOGUE()
 300:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 301:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 302:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   IRQ epilogue code.
 303:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @details This macro must be inserted at the end of all IRQ handlers.
 304:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 305:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_IRQ_EPILOGUE() CH_IRQ_EPILOGUE()
 306:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 307:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 308:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   IRQ handler function declaration.
 309:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @details This macro hides the details of an ISR function declaration.
 310:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 311:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] id        a vector name as defined in @p vectors.s
 312:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 313:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_IRQ_HANDLER(id) CH_IRQ_HANDLER(id)
 314:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /** @} */
 315:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 316:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 317:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @name    Time conversion utilities
 318:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @{
 319:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 320:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 321:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Seconds to system ticks.
 322:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @details Converts from seconds to system ticks number.
 323:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The result is rounded upward to the next tick boundary.
 324:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 325:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] secs      number of seconds
 326:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @return              The number of ticks.
 327:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 328:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @api
 329:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 330:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_S2I(secs) TIME_S2I(secs)
 331:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 332:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 333:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Milliseconds to system ticks.
 334:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @details Converts from milliseconds to system ticks number.
 335:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The result is rounded upward to the next tick boundary.
 336:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 337:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] msecs     number of milliseconds
 338:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @return              The number of ticks.
 339:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 340:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @api
 341:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 342:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_MS2I(msecs) TIME_MS2I(msecs)
 343:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 344:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 345:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Microseconds to system ticks.
 346:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @details Converts from microseconds to system ticks number.
 347:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The result is rounded upward to the next tick boundary.
 348:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 349:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] usecs     number of microseconds
 350:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @return              The number of ticks.
 351:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 352:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @api
 353:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 354:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_US2I(usecs) TIME_US2I(usecs)
 355:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /** @} */
 356:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 357:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 358:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @name    Time conversion utilities for the realtime counter
 359:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @{
 360:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 361:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 362:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Seconds to realtime counter.
 363:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @details Converts from seconds to realtime counter cycles.
 364:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The macro assumes that @p freq >= @p 1.
 365:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 366:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] freq      clock frequency, in Hz, of the realtime counter
 367:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] sec       number of seconds
 368:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @return              The number of cycles.
 369:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 370:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @api
 371:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 372:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_S2RTC(freq, sec) S2RTC(freq, sec)
 373:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 374:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 375:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Milliseconds to realtime counter.
 376:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @details Converts from milliseconds to realtime counter cycles.
 377:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The result is rounded upward to the next millisecond boundary.
 378:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The macro assumes that @p freq >= @p 1000.
 379:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 380:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] freq      clock frequency, in Hz, of the realtime counter
 381:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] msec      number of milliseconds
 382:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @return              The number of cycles.
 383:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 384:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @api
 385:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 386:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_MS2RTC(freq, msec) MS2RTC(freq, msec)
 387:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 388:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 389:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Microseconds to realtime counter.
 390:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @details Converts from microseconds to realtime counter cycles.
 391:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The result is rounded upward to the next microsecond boundary.
 392:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The macro assumes that @p freq >= @p 1000000.
 393:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 394:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] freq      clock frequency, in Hz, of the realtime counter
 395:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] usec      number of microseconds
 396:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @return              The number of cycles.
 397:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 398:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @api
 399:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 400:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define OSAL_US2RTC(freq, usec) US2RTC(freq, usec)
 401:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /** @} */
 402:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 403:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 404:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @name    Sleep macros using absolute time
 405:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @{
 406:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 407:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 408:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Delays the invoking thread for the specified number of seconds.
 409:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The specified time is rounded up to a value allowed by the real
 410:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          system tick clock.
 411:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The maximum specifiable value is implementation dependent.
 412:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 413:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] secs      time in seconds, must be different from zero
 414:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 415:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @api
 416:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 417:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define osalThreadSleepSeconds(secs) osalThreadSleep(OSAL_S2I(secs))
 418:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 419:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 420:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Delays the invoking thread for the specified number of
 421:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          milliseconds.
 422:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The specified time is rounded up to a value allowed by the real
 423:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          system tick clock.
 424:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The maximum specifiable value is implementation dependent.
 425:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 426:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] msecs     time in milliseconds, must be different from zero
 427:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 428:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @api
 429:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 430:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define osalThreadSleepMilliseconds(msecs) osalThreadSleep(OSAL_MS2I(msecs))
 431:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 432:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 433:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Delays the invoking thread for the specified number of
 434:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          microseconds.
 435:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The specified time is rounded up to a value allowed by the real
 436:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          system tick clock.
 437:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The maximum specifiable value is implementation dependent.
 438:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 439:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] usecs     time in microseconds, must be different from zero
 440:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 441:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @api
 442:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 443:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #define osalThreadSleepMicroseconds(usecs) osalThreadSleep(OSAL_US2I(usecs))
 444:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /** @} */
 445:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 446:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 447:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /* External declarations.                                                    */
 448:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 449:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 450:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #ifdef __cplusplus
 451:./lib/chibios/os/hal/osal/rt-nil/osal.h **** extern "C" {
 452:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
 453:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 454:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #ifdef __cplusplus
 455:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 456:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
 457:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 458:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 459:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /* Module inline functions.                                                  */
 460:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /*===========================================================================*/
 461:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 462:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 463:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   OSAL module initialization.
 464:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 465:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @api
 466:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 467:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline void osalInit(void) {
 468:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 469:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 470:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 471:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 472:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   System halt with error message.
 473:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 474:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] reason    the halt message pointer
 475:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 476:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @api
 477:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 478:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline void osalSysHalt(const char *reason) {
 479:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 480:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   chSysHalt(reason);
 481:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 482:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 483:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 484:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Disables interrupts globally.
 485:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 486:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @special
 487:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 488:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline void osalSysDisable(void) {
 489:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 490:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   chSysDisable();
 491:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 492:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 493:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 494:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Enables interrupts globally.
 495:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 496:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @special
 497:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 498:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline void osalSysEnable(void) {
 499:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 500:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   chSysEnable();
 501:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 502:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 503:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 504:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Enters a critical zone from thread context.
 505:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    This function cannot be used for reentrant critical zones.
 506:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 507:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @special
 508:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 509:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline void osalSysLock(void) {
 162              		.loc 2 509 20 view .LVU39
 163              	.LBE287:
 510:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 511:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   chSysLock();
 164              		.loc 2 511 3 view .LVU40
 165              	.LBB303:
 166              	.LBB288:
 167              	.LBI288:
 168              		.file 3 "./lib/chibios/os/rt/include/chsys.h"
   1:./lib/chibios/os/rt/include/chsys.h **** /*
   2:./lib/chibios/os/rt/include/chsys.h ****     ChibiOS - Copyright (C) 2006..2018 Giovanni Di Sirio.
   3:./lib/chibios/os/rt/include/chsys.h **** 
   4:./lib/chibios/os/rt/include/chsys.h ****     This file is part of ChibiOS.
   5:./lib/chibios/os/rt/include/chsys.h **** 
   6:./lib/chibios/os/rt/include/chsys.h ****     ChibiOS is free software; you can redistribute it and/or modify
   7:./lib/chibios/os/rt/include/chsys.h ****     it under the terms of the GNU General Public License as published by
   8:./lib/chibios/os/rt/include/chsys.h ****     the Free Software Foundation; either version 3 of the License, or
   9:./lib/chibios/os/rt/include/chsys.h ****     (at your option) any later version.
  10:./lib/chibios/os/rt/include/chsys.h **** 
  11:./lib/chibios/os/rt/include/chsys.h ****     ChibiOS is distributed in the hope that it will be useful,
  12:./lib/chibios/os/rt/include/chsys.h ****     but WITHOUT ANY WARRANTY; without even the implied warranty of
  13:./lib/chibios/os/rt/include/chsys.h ****     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  14:./lib/chibios/os/rt/include/chsys.h ****     GNU General Public License for more details.
  15:./lib/chibios/os/rt/include/chsys.h **** 
  16:./lib/chibios/os/rt/include/chsys.h ****     You should have received a copy of the GNU General Public License
  17:./lib/chibios/os/rt/include/chsys.h ****     along with this program.  If not, see <http://www.gnu.org/licenses/>.
  18:./lib/chibios/os/rt/include/chsys.h **** */
  19:./lib/chibios/os/rt/include/chsys.h **** 
  20:./lib/chibios/os/rt/include/chsys.h **** /**
  21:./lib/chibios/os/rt/include/chsys.h ****  * @file    rt/include/chsys.h
  22:./lib/chibios/os/rt/include/chsys.h ****  * @brief   System related macros and structures.
  23:./lib/chibios/os/rt/include/chsys.h ****  *
  24:./lib/chibios/os/rt/include/chsys.h ****  * @addtogroup system
  25:./lib/chibios/os/rt/include/chsys.h ****  * @{
  26:./lib/chibios/os/rt/include/chsys.h ****  */
  27:./lib/chibios/os/rt/include/chsys.h **** 
  28:./lib/chibios/os/rt/include/chsys.h **** #ifndef CHSYS_H
  29:./lib/chibios/os/rt/include/chsys.h **** #define CHSYS_H
  30:./lib/chibios/os/rt/include/chsys.h **** 
  31:./lib/chibios/os/rt/include/chsys.h **** /*lint -sem(chSysHalt, r_no)*/
  32:./lib/chibios/os/rt/include/chsys.h **** 
  33:./lib/chibios/os/rt/include/chsys.h **** /*===========================================================================*/
  34:./lib/chibios/os/rt/include/chsys.h **** /* Module constants.                                                         */
  35:./lib/chibios/os/rt/include/chsys.h **** /*===========================================================================*/
  36:./lib/chibios/os/rt/include/chsys.h **** 
  37:./lib/chibios/os/rt/include/chsys.h **** /**
  38:./lib/chibios/os/rt/include/chsys.h ****  * @name    Masks of executable integrity checks.
  39:./lib/chibios/os/rt/include/chsys.h ****  * @{
  40:./lib/chibios/os/rt/include/chsys.h ****  */
  41:./lib/chibios/os/rt/include/chsys.h **** #define CH_INTEGRITY_RLIST                  1U
  42:./lib/chibios/os/rt/include/chsys.h **** #define CH_INTEGRITY_VTLIST                 2U
  43:./lib/chibios/os/rt/include/chsys.h **** #define CH_INTEGRITY_REGISTRY               4U
  44:./lib/chibios/os/rt/include/chsys.h **** #define CH_INTEGRITY_PORT                   8U
  45:./lib/chibios/os/rt/include/chsys.h **** /** @} */
  46:./lib/chibios/os/rt/include/chsys.h **** 
  47:./lib/chibios/os/rt/include/chsys.h **** /*===========================================================================*/
  48:./lib/chibios/os/rt/include/chsys.h **** /* Module pre-compile time settings.                                         */
  49:./lib/chibios/os/rt/include/chsys.h **** /*===========================================================================*/
  50:./lib/chibios/os/rt/include/chsys.h **** 
  51:./lib/chibios/os/rt/include/chsys.h **** /*===========================================================================*/
  52:./lib/chibios/os/rt/include/chsys.h **** /* Derived constants and error checks.                                       */
  53:./lib/chibios/os/rt/include/chsys.h **** /*===========================================================================*/
  54:./lib/chibios/os/rt/include/chsys.h **** 
  55:./lib/chibios/os/rt/include/chsys.h **** /*===========================================================================*/
  56:./lib/chibios/os/rt/include/chsys.h **** /* Module data structures and types.                                         */
  57:./lib/chibios/os/rt/include/chsys.h **** /*===========================================================================*/
  58:./lib/chibios/os/rt/include/chsys.h **** 
  59:./lib/chibios/os/rt/include/chsys.h **** /*===========================================================================*/
  60:./lib/chibios/os/rt/include/chsys.h **** /* Module macros.                                                            */
  61:./lib/chibios/os/rt/include/chsys.h **** /*===========================================================================*/
  62:./lib/chibios/os/rt/include/chsys.h **** 
  63:./lib/chibios/os/rt/include/chsys.h **** /**
  64:./lib/chibios/os/rt/include/chsys.h ****  * @name    ISRs abstraction macros
  65:./lib/chibios/os/rt/include/chsys.h ****  */
  66:./lib/chibios/os/rt/include/chsys.h **** /**
  67:./lib/chibios/os/rt/include/chsys.h ****  * @brief   Priority level validation macro.
  68:./lib/chibios/os/rt/include/chsys.h ****  * @details This macro determines if the passed value is a valid priority
  69:./lib/chibios/os/rt/include/chsys.h ****  *          level for the underlying architecture.
  70:./lib/chibios/os/rt/include/chsys.h ****  *
  71:./lib/chibios/os/rt/include/chsys.h ****  * @param[in] prio      the priority level
  72:./lib/chibios/os/rt/include/chsys.h ****  * @return              Priority range result.
  73:./lib/chibios/os/rt/include/chsys.h ****  * @retval false        if the priority is invalid or if the architecture
  74:./lib/chibios/os/rt/include/chsys.h ****  *                      does not support priorities.
  75:./lib/chibios/os/rt/include/chsys.h ****  * @retval true         if the priority is valid.
  76:./lib/chibios/os/rt/include/chsys.h ****  */
  77:./lib/chibios/os/rt/include/chsys.h **** #if defined(PORT_IRQ_IS_VALID_PRIORITY) || defined(__DOXYGEN__)
  78:./lib/chibios/os/rt/include/chsys.h **** #define CH_IRQ_IS_VALID_PRIORITY(prio)                                      \
  79:./lib/chibios/os/rt/include/chsys.h ****   PORT_IRQ_IS_VALID_PRIORITY(prio)
  80:./lib/chibios/os/rt/include/chsys.h **** #else
  81:./lib/chibios/os/rt/include/chsys.h **** #define CH_IRQ_IS_VALID_PRIORITY(prio) false
  82:./lib/chibios/os/rt/include/chsys.h **** #endif
  83:./lib/chibios/os/rt/include/chsys.h **** 
  84:./lib/chibios/os/rt/include/chsys.h **** /**
  85:./lib/chibios/os/rt/include/chsys.h ****  * @brief   Priority level validation macro.
  86:./lib/chibios/os/rt/include/chsys.h ****  * @details This macro determines if the passed value is a valid priority
  87:./lib/chibios/os/rt/include/chsys.h ****  *          level that cannot preempt the kernel critical zone.
  88:./lib/chibios/os/rt/include/chsys.h ****  *
  89:./lib/chibios/os/rt/include/chsys.h ****  * @param[in] prio      the priority level
  90:./lib/chibios/os/rt/include/chsys.h ****  * @return              Priority range result.
  91:./lib/chibios/os/rt/include/chsys.h ****  * @retval false        if the priority is invalid or if the architecture
  92:./lib/chibios/os/rt/include/chsys.h ****  *                      does not support priorities.
  93:./lib/chibios/os/rt/include/chsys.h ****  * @retval true         if the priority is valid.
  94:./lib/chibios/os/rt/include/chsys.h ****  */
  95:./lib/chibios/os/rt/include/chsys.h **** #if defined(PORT_IRQ_IS_VALID_KERNEL_PRIORITY) || defined(__DOXYGEN__)
  96:./lib/chibios/os/rt/include/chsys.h **** #define CH_IRQ_IS_VALID_KERNEL_PRIORITY(prio)                               \
  97:./lib/chibios/os/rt/include/chsys.h ****   PORT_IRQ_IS_VALID_KERNEL_PRIORITY(prio)
  98:./lib/chibios/os/rt/include/chsys.h **** #else
  99:./lib/chibios/os/rt/include/chsys.h **** #define CH_IRQ_IS_VALID_KERNEL_PRIORITY(prio) false
 100:./lib/chibios/os/rt/include/chsys.h **** #endif
 101:./lib/chibios/os/rt/include/chsys.h **** 
 102:./lib/chibios/os/rt/include/chsys.h **** /**
 103:./lib/chibios/os/rt/include/chsys.h ****  * @brief   IRQ handler enter code.
 104:./lib/chibios/os/rt/include/chsys.h ****  * @note    Usually IRQ handlers functions are also declared naked.
 105:./lib/chibios/os/rt/include/chsys.h ****  * @note    On some architectures this macro can be empty.
 106:./lib/chibios/os/rt/include/chsys.h ****  *
 107:./lib/chibios/os/rt/include/chsys.h ****  * @special
 108:./lib/chibios/os/rt/include/chsys.h ****  */
 109:./lib/chibios/os/rt/include/chsys.h **** #define CH_IRQ_PROLOGUE()                                                   \
 110:./lib/chibios/os/rt/include/chsys.h ****   PORT_IRQ_PROLOGUE();                                                      \
 111:./lib/chibios/os/rt/include/chsys.h ****   CH_CFG_IRQ_PROLOGUE_HOOK();                                               \
 112:./lib/chibios/os/rt/include/chsys.h ****   _stats_increase_irq();                                                    \
 113:./lib/chibios/os/rt/include/chsys.h ****   _trace_isr_enter(__func__);                                               \
 114:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_enter_isr()
 115:./lib/chibios/os/rt/include/chsys.h **** 
 116:./lib/chibios/os/rt/include/chsys.h **** /**
 117:./lib/chibios/os/rt/include/chsys.h ****  * @brief   IRQ handler exit code.
 118:./lib/chibios/os/rt/include/chsys.h ****  * @note    Usually IRQ handlers function are also declared naked.
 119:./lib/chibios/os/rt/include/chsys.h ****  * @note    This macro usually performs the final reschedule by using
 120:./lib/chibios/os/rt/include/chsys.h ****  *          @p chSchIsPreemptionRequired() and @p chSchDoReschedule().
 121:./lib/chibios/os/rt/include/chsys.h ****  *
 122:./lib/chibios/os/rt/include/chsys.h ****  * @special
 123:./lib/chibios/os/rt/include/chsys.h ****  */
 124:./lib/chibios/os/rt/include/chsys.h **** #define CH_IRQ_EPILOGUE()                                                   \
 125:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_leave_isr();                                                   \
 126:./lib/chibios/os/rt/include/chsys.h ****   _trace_isr_leave(__func__);                                               \
 127:./lib/chibios/os/rt/include/chsys.h ****   CH_CFG_IRQ_EPILOGUE_HOOK();                                               \
 128:./lib/chibios/os/rt/include/chsys.h ****   PORT_IRQ_EPILOGUE()
 129:./lib/chibios/os/rt/include/chsys.h **** 
 130:./lib/chibios/os/rt/include/chsys.h **** /**
 131:./lib/chibios/os/rt/include/chsys.h ****  * @brief   Standard normal IRQ handler declaration.
 132:./lib/chibios/os/rt/include/chsys.h ****  * @note    @p id can be a function name or a vector number depending on the
 133:./lib/chibios/os/rt/include/chsys.h ****  *          port implementation.
 134:./lib/chibios/os/rt/include/chsys.h ****  *
 135:./lib/chibios/os/rt/include/chsys.h ****  * @special
 136:./lib/chibios/os/rt/include/chsys.h ****  */
 137:./lib/chibios/os/rt/include/chsys.h **** #define CH_IRQ_HANDLER(id) PORT_IRQ_HANDLER(id)
 138:./lib/chibios/os/rt/include/chsys.h **** /** @} */
 139:./lib/chibios/os/rt/include/chsys.h **** 
 140:./lib/chibios/os/rt/include/chsys.h **** /**
 141:./lib/chibios/os/rt/include/chsys.h ****  * @name    Fast ISRs abstraction macros
 142:./lib/chibios/os/rt/include/chsys.h ****  */
 143:./lib/chibios/os/rt/include/chsys.h **** /**
 144:./lib/chibios/os/rt/include/chsys.h ****  * @brief   Standard fast IRQ handler declaration.
 145:./lib/chibios/os/rt/include/chsys.h ****  * @note    @p id can be a function name or a vector number depending on the
 146:./lib/chibios/os/rt/include/chsys.h ****  *          port implementation.
 147:./lib/chibios/os/rt/include/chsys.h ****  * @note    Not all architectures support fast interrupts.
 148:./lib/chibios/os/rt/include/chsys.h ****  *
 149:./lib/chibios/os/rt/include/chsys.h ****  * @special
 150:./lib/chibios/os/rt/include/chsys.h ****  */
 151:./lib/chibios/os/rt/include/chsys.h **** #define CH_FAST_IRQ_HANDLER(id) PORT_FAST_IRQ_HANDLER(id)
 152:./lib/chibios/os/rt/include/chsys.h **** /** @} */
 153:./lib/chibios/os/rt/include/chsys.h **** 
 154:./lib/chibios/os/rt/include/chsys.h **** /**
 155:./lib/chibios/os/rt/include/chsys.h ****  * @name    Time conversion utilities for the realtime counter
 156:./lib/chibios/os/rt/include/chsys.h ****  * @{
 157:./lib/chibios/os/rt/include/chsys.h ****  */
 158:./lib/chibios/os/rt/include/chsys.h **** /**
 159:./lib/chibios/os/rt/include/chsys.h ****  * @brief   Seconds to realtime counter.
 160:./lib/chibios/os/rt/include/chsys.h ****  * @details Converts from seconds to realtime counter cycles.
 161:./lib/chibios/os/rt/include/chsys.h ****  * @note    The macro assumes that @p freq >= @p 1.
 162:./lib/chibios/os/rt/include/chsys.h ****  *
 163:./lib/chibios/os/rt/include/chsys.h ****  * @param[in] freq      clock frequency, in Hz, of the realtime counter
 164:./lib/chibios/os/rt/include/chsys.h ****  * @param[in] sec       number of seconds
 165:./lib/chibios/os/rt/include/chsys.h ****  * @return              The number of cycles.
 166:./lib/chibios/os/rt/include/chsys.h ****  *
 167:./lib/chibios/os/rt/include/chsys.h ****  * @api
 168:./lib/chibios/os/rt/include/chsys.h ****  */
 169:./lib/chibios/os/rt/include/chsys.h **** #define S2RTC(freq, sec) ((freq) * (sec))
 170:./lib/chibios/os/rt/include/chsys.h **** 
 171:./lib/chibios/os/rt/include/chsys.h **** /**
 172:./lib/chibios/os/rt/include/chsys.h ****  * @brief   Milliseconds to realtime counter.
 173:./lib/chibios/os/rt/include/chsys.h ****  * @details Converts from milliseconds to realtime counter cycles.
 174:./lib/chibios/os/rt/include/chsys.h ****  * @note    The result is rounded upward to the next millisecond boundary.
 175:./lib/chibios/os/rt/include/chsys.h ****  * @note    The macro assumes that @p freq >= @p 1000.
 176:./lib/chibios/os/rt/include/chsys.h ****  *
 177:./lib/chibios/os/rt/include/chsys.h ****  * @param[in] freq      clock frequency, in Hz, of the realtime counter
 178:./lib/chibios/os/rt/include/chsys.h ****  * @param[in] msec      number of milliseconds
 179:./lib/chibios/os/rt/include/chsys.h ****  * @return              The number of cycles.
 180:./lib/chibios/os/rt/include/chsys.h ****  *
 181:./lib/chibios/os/rt/include/chsys.h ****  * @api
 182:./lib/chibios/os/rt/include/chsys.h ****  */
 183:./lib/chibios/os/rt/include/chsys.h **** #define MS2RTC(freq, msec) (rtcnt_t)((((freq) + 999UL) / 1000UL) * (msec))
 184:./lib/chibios/os/rt/include/chsys.h **** 
 185:./lib/chibios/os/rt/include/chsys.h **** /**
 186:./lib/chibios/os/rt/include/chsys.h ****  * @brief   Microseconds to realtime counter.
 187:./lib/chibios/os/rt/include/chsys.h ****  * @details Converts from microseconds to realtime counter cycles.
 188:./lib/chibios/os/rt/include/chsys.h ****  * @note    The result is rounded upward to the next microsecond boundary.
 189:./lib/chibios/os/rt/include/chsys.h ****  * @note    The macro assumes that @p freq >= @p 1000000.
 190:./lib/chibios/os/rt/include/chsys.h ****  *
 191:./lib/chibios/os/rt/include/chsys.h ****  * @param[in] freq      clock frequency, in Hz, of the realtime counter
 192:./lib/chibios/os/rt/include/chsys.h ****  * @param[in] usec      number of microseconds
 193:./lib/chibios/os/rt/include/chsys.h ****  * @return              The number of cycles.
 194:./lib/chibios/os/rt/include/chsys.h ****  *
 195:./lib/chibios/os/rt/include/chsys.h ****  * @api
 196:./lib/chibios/os/rt/include/chsys.h ****  */
 197:./lib/chibios/os/rt/include/chsys.h **** #define US2RTC(freq, usec) (rtcnt_t)((((freq) + 999999UL) / 1000000UL) * (usec))
 198:./lib/chibios/os/rt/include/chsys.h **** 
 199:./lib/chibios/os/rt/include/chsys.h **** /**
 200:./lib/chibios/os/rt/include/chsys.h ****  * @brief   Realtime counter cycles to seconds.
 201:./lib/chibios/os/rt/include/chsys.h ****  * @details Converts from realtime counter cycles number to seconds.
 202:./lib/chibios/os/rt/include/chsys.h ****  * @note    The result is rounded up to the next second boundary.
 203:./lib/chibios/os/rt/include/chsys.h ****  * @note    The macro assumes that @p freq >= @p 1.
 204:./lib/chibios/os/rt/include/chsys.h ****  *
 205:./lib/chibios/os/rt/include/chsys.h ****  * @param[in] freq      clock frequency, in Hz, of the realtime counter
 206:./lib/chibios/os/rt/include/chsys.h ****  * @param[in] n         number of cycles
 207:./lib/chibios/os/rt/include/chsys.h ****  * @return              The number of seconds.
 208:./lib/chibios/os/rt/include/chsys.h ****  *
 209:./lib/chibios/os/rt/include/chsys.h ****  * @api
 210:./lib/chibios/os/rt/include/chsys.h ****  */
 211:./lib/chibios/os/rt/include/chsys.h **** #define RTC2S(freq, n) ((((n) - 1UL) / (freq)) + 1UL)
 212:./lib/chibios/os/rt/include/chsys.h **** 
 213:./lib/chibios/os/rt/include/chsys.h **** /**
 214:./lib/chibios/os/rt/include/chsys.h ****  * @brief   Realtime counter cycles to milliseconds.
 215:./lib/chibios/os/rt/include/chsys.h ****  * @details Converts from realtime counter cycles number to milliseconds.
 216:./lib/chibios/os/rt/include/chsys.h ****  * @note    The result is rounded up to the next millisecond boundary.
 217:./lib/chibios/os/rt/include/chsys.h ****  * @note    The macro assumes that @p freq >= @p 1000.
 218:./lib/chibios/os/rt/include/chsys.h ****  *
 219:./lib/chibios/os/rt/include/chsys.h ****  * @param[in] freq      clock frequency, in Hz, of the realtime counter
 220:./lib/chibios/os/rt/include/chsys.h ****  * @param[in] n         number of cycles
 221:./lib/chibios/os/rt/include/chsys.h ****  * @return              The number of milliseconds.
 222:./lib/chibios/os/rt/include/chsys.h ****  *
 223:./lib/chibios/os/rt/include/chsys.h ****  * @api
 224:./lib/chibios/os/rt/include/chsys.h ****  */
 225:./lib/chibios/os/rt/include/chsys.h **** #define RTC2MS(freq, n) ((((n) - 1UL) / ((freq) / 1000UL)) + 1UL)
 226:./lib/chibios/os/rt/include/chsys.h **** 
 227:./lib/chibios/os/rt/include/chsys.h **** /**
 228:./lib/chibios/os/rt/include/chsys.h ****  * @brief   Realtime counter cycles to microseconds.
 229:./lib/chibios/os/rt/include/chsys.h ****  * @details Converts from realtime counter cycles number to microseconds.
 230:./lib/chibios/os/rt/include/chsys.h ****  * @note    The result is rounded up to the next microsecond boundary.
 231:./lib/chibios/os/rt/include/chsys.h ****  * @note    The macro assumes that @p freq >= @p 1000000.
 232:./lib/chibios/os/rt/include/chsys.h ****  *
 233:./lib/chibios/os/rt/include/chsys.h ****  * @param[in] freq      clock frequency, in Hz, of the realtime counter
 234:./lib/chibios/os/rt/include/chsys.h ****  * @param[in] n         number of cycles
 235:./lib/chibios/os/rt/include/chsys.h ****  * @return              The number of microseconds.
 236:./lib/chibios/os/rt/include/chsys.h ****  *
 237:./lib/chibios/os/rt/include/chsys.h ****  * @api
 238:./lib/chibios/os/rt/include/chsys.h ****  */
 239:./lib/chibios/os/rt/include/chsys.h **** #define RTC2US(freq, n) ((((n) - 1UL) / ((freq) / 1000000UL)) + 1UL)
 240:./lib/chibios/os/rt/include/chsys.h **** /** @} */
 241:./lib/chibios/os/rt/include/chsys.h **** 
 242:./lib/chibios/os/rt/include/chsys.h **** /**
 243:./lib/chibios/os/rt/include/chsys.h ****  * @brief   Returns the current value of the system real time counter.
 244:./lib/chibios/os/rt/include/chsys.h ****  * @note    This function is only available if the port layer supports the
 245:./lib/chibios/os/rt/include/chsys.h ****  *          option @p PORT_SUPPORTS_RT.
 246:./lib/chibios/os/rt/include/chsys.h ****  *
 247:./lib/chibios/os/rt/include/chsys.h ****  * @return              The value of the system realtime counter of
 248:./lib/chibios/os/rt/include/chsys.h ****  *                      type rtcnt_t.
 249:./lib/chibios/os/rt/include/chsys.h ****  *
 250:./lib/chibios/os/rt/include/chsys.h ****  * @xclass
 251:./lib/chibios/os/rt/include/chsys.h ****  */
 252:./lib/chibios/os/rt/include/chsys.h **** #if (PORT_SUPPORTS_RT == TRUE) || defined(__DOXYGEN__)
 253:./lib/chibios/os/rt/include/chsys.h **** #define chSysGetRealtimeCounterX() (rtcnt_t)port_rt_get_counter_value()
 254:./lib/chibios/os/rt/include/chsys.h **** #endif
 255:./lib/chibios/os/rt/include/chsys.h **** 
 256:./lib/chibios/os/rt/include/chsys.h **** /**
 257:./lib/chibios/os/rt/include/chsys.h ****  * @brief   Performs a context switch.
 258:./lib/chibios/os/rt/include/chsys.h ****  * @note    Not a user function, it is meant to be invoked by the scheduler
 259:./lib/chibios/os/rt/include/chsys.h ****  *          itself or from within the port layer.
 260:./lib/chibios/os/rt/include/chsys.h ****  *
 261:./lib/chibios/os/rt/include/chsys.h ****  * @param[in] ntp       the thread to be switched in
 262:./lib/chibios/os/rt/include/chsys.h ****  * @param[in] otp       the thread to be switched out
 263:./lib/chibios/os/rt/include/chsys.h ****  *
 264:./lib/chibios/os/rt/include/chsys.h ****  * @special
 265:./lib/chibios/os/rt/include/chsys.h ****  */
 266:./lib/chibios/os/rt/include/chsys.h **** #define chSysSwitch(ntp, otp) {                                             \
 267:./lib/chibios/os/rt/include/chsys.h ****                                                                             \
 268:./lib/chibios/os/rt/include/chsys.h ****   _trace_switch(ntp, otp);                                                  \
 269:./lib/chibios/os/rt/include/chsys.h ****   _stats_ctxswc(ntp, otp);                                                  \
 270:./lib/chibios/os/rt/include/chsys.h ****   CH_CFG_CONTEXT_SWITCH_HOOK(ntp, otp);                                     \
 271:./lib/chibios/os/rt/include/chsys.h ****   port_switch(ntp, otp);                                                    \
 272:./lib/chibios/os/rt/include/chsys.h **** }
 273:./lib/chibios/os/rt/include/chsys.h **** 
 274:./lib/chibios/os/rt/include/chsys.h **** /*===========================================================================*/
 275:./lib/chibios/os/rt/include/chsys.h **** /* External declarations.                                                    */
 276:./lib/chibios/os/rt/include/chsys.h **** /*===========================================================================*/
 277:./lib/chibios/os/rt/include/chsys.h **** 
 278:./lib/chibios/os/rt/include/chsys.h **** #if !defined(__DOXYGEN__)
 279:./lib/chibios/os/rt/include/chsys.h **** extern stkalign_t ch_idle_thread_wa[];
 280:./lib/chibios/os/rt/include/chsys.h **** #endif
 281:./lib/chibios/os/rt/include/chsys.h **** 
 282:./lib/chibios/os/rt/include/chsys.h **** #ifdef __cplusplus
 283:./lib/chibios/os/rt/include/chsys.h **** extern "C" {
 284:./lib/chibios/os/rt/include/chsys.h **** #endif
 285:./lib/chibios/os/rt/include/chsys.h ****   void chSysInit(void);
 286:./lib/chibios/os/rt/include/chsys.h ****   bool chSysIntegrityCheckI(unsigned testmask);
 287:./lib/chibios/os/rt/include/chsys.h ****   void chSysTimerHandlerI(void);
 288:./lib/chibios/os/rt/include/chsys.h ****   syssts_t chSysGetStatusAndLockX(void);
 289:./lib/chibios/os/rt/include/chsys.h ****   void chSysRestoreStatusX(syssts_t sts);
 290:./lib/chibios/os/rt/include/chsys.h **** #if PORT_SUPPORTS_RT == TRUE
 291:./lib/chibios/os/rt/include/chsys.h ****   bool chSysIsCounterWithinX(rtcnt_t cnt, rtcnt_t start, rtcnt_t end);
 292:./lib/chibios/os/rt/include/chsys.h ****   void chSysPolledDelayX(rtcnt_t cycles);
 293:./lib/chibios/os/rt/include/chsys.h **** #endif
 294:./lib/chibios/os/rt/include/chsys.h **** #ifdef __cplusplus
 295:./lib/chibios/os/rt/include/chsys.h **** }
 296:./lib/chibios/os/rt/include/chsys.h **** #endif
 297:./lib/chibios/os/rt/include/chsys.h **** 
 298:./lib/chibios/os/rt/include/chsys.h **** /*===========================================================================*/
 299:./lib/chibios/os/rt/include/chsys.h **** /* Module inline functions.                                                  */
 300:./lib/chibios/os/rt/include/chsys.h **** /*===========================================================================*/
 301:./lib/chibios/os/rt/include/chsys.h **** 
 302:./lib/chibios/os/rt/include/chsys.h **** /**
 303:./lib/chibios/os/rt/include/chsys.h ****  * @brief   Raises the system interrupt priority mask to the maximum level.
 304:./lib/chibios/os/rt/include/chsys.h ****  * @details All the maskable interrupt sources are disabled regardless their
 305:./lib/chibios/os/rt/include/chsys.h ****  *          hardware priority.
 306:./lib/chibios/os/rt/include/chsys.h ****  * @note    Do not invoke this API from within a kernel lock.
 307:./lib/chibios/os/rt/include/chsys.h ****  *
 308:./lib/chibios/os/rt/include/chsys.h ****  * @special
 309:./lib/chibios/os/rt/include/chsys.h ****  */
 310:./lib/chibios/os/rt/include/chsys.h **** static inline void chSysDisable(void) {
 311:./lib/chibios/os/rt/include/chsys.h **** 
 312:./lib/chibios/os/rt/include/chsys.h ****   port_disable();
 313:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_disable();
 314:./lib/chibios/os/rt/include/chsys.h **** }
 315:./lib/chibios/os/rt/include/chsys.h **** 
 316:./lib/chibios/os/rt/include/chsys.h **** /**
 317:./lib/chibios/os/rt/include/chsys.h ****  * @brief   Raises the system interrupt priority mask to system level.
 318:./lib/chibios/os/rt/include/chsys.h ****  * @details The interrupt sources that should not be able to preempt the kernel
 319:./lib/chibios/os/rt/include/chsys.h ****  *          are disabled, interrupt sources with higher priority are still
 320:./lib/chibios/os/rt/include/chsys.h ****  *          enabled.
 321:./lib/chibios/os/rt/include/chsys.h ****  * @note    Do not invoke this API from within a kernel lock.
 322:./lib/chibios/os/rt/include/chsys.h ****  * @note    This API is no replacement for @p chSysLock(), the @p chSysLock()
 323:./lib/chibios/os/rt/include/chsys.h ****  *          could do more than just disable the interrupts.
 324:./lib/chibios/os/rt/include/chsys.h ****  *
 325:./lib/chibios/os/rt/include/chsys.h ****  * @special
 326:./lib/chibios/os/rt/include/chsys.h ****  */
 327:./lib/chibios/os/rt/include/chsys.h **** static inline void chSysSuspend(void) {
 328:./lib/chibios/os/rt/include/chsys.h **** 
 329:./lib/chibios/os/rt/include/chsys.h ****   port_suspend();
 330:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_suspend();
 331:./lib/chibios/os/rt/include/chsys.h **** }
 332:./lib/chibios/os/rt/include/chsys.h **** 
 333:./lib/chibios/os/rt/include/chsys.h **** /**
 334:./lib/chibios/os/rt/include/chsys.h ****  * @brief   Lowers the system interrupt priority mask to user level.
 335:./lib/chibios/os/rt/include/chsys.h ****  * @details All the interrupt sources are enabled.
 336:./lib/chibios/os/rt/include/chsys.h ****  * @note    Do not invoke this API from within a kernel lock.
 337:./lib/chibios/os/rt/include/chsys.h ****  * @note    This API is no replacement for @p chSysUnlock(), the
 338:./lib/chibios/os/rt/include/chsys.h ****  *          @p chSysUnlock() could do more than just enable the interrupts.
 339:./lib/chibios/os/rt/include/chsys.h ****  *
 340:./lib/chibios/os/rt/include/chsys.h ****  * @special
 341:./lib/chibios/os/rt/include/chsys.h ****  */
 342:./lib/chibios/os/rt/include/chsys.h **** static inline void chSysEnable(void) {
 343:./lib/chibios/os/rt/include/chsys.h **** 
 344:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_enable();
 345:./lib/chibios/os/rt/include/chsys.h ****   port_enable();
 346:./lib/chibios/os/rt/include/chsys.h **** }
 347:./lib/chibios/os/rt/include/chsys.h **** 
 348:./lib/chibios/os/rt/include/chsys.h **** /**
 349:./lib/chibios/os/rt/include/chsys.h ****  * @brief   Enters the kernel lock state.
 350:./lib/chibios/os/rt/include/chsys.h ****  *
 351:./lib/chibios/os/rt/include/chsys.h ****  * @special
 352:./lib/chibios/os/rt/include/chsys.h ****  */
 353:./lib/chibios/os/rt/include/chsys.h **** static inline void chSysLock(void) {
 169              		.loc 3 353 20 view .LVU41
 170              	.LBE288:
 171              	.LBE303:
 354:./lib/chibios/os/rt/include/chsys.h **** 
 355:./lib/chibios/os/rt/include/chsys.h ****   port_lock();
 172              		.loc 3 355 3 view .LVU42
 173              	.LBB304:
 174              	.LBB299:
 175              	.LBB289:
 176              	.LBI289:
 177              		.file 4 "./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h"
   1:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /*
   2:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     ChibiOS - Copyright (C) 2006..2018 Giovanni Di Sirio.
   3:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
   4:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     This file is part of ChibiOS.
   5:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
   6:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     ChibiOS is free software; you can redistribute it and/or modify
   7:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     it under the terms of the GNU General Public License as published by
   8:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     the Free Software Foundation; either version 3 of the License, or
   9:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     (at your option) any later version.
  10:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
  11:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     ChibiOS is distributed in the hope that it will be useful,
  12:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     but WITHOUT ANY WARRANTY; without even the implied warranty of
  13:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  14:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     GNU General Public License for more details.
  15:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
  16:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     You should have received a copy of the GNU General Public License
  17:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     along with this program.  If not, see <http://www.gnu.org/licenses/>.
  18:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** */
  19:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
  20:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
  21:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @file    chcore_v7m.h
  22:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   ARMv7-M architecture port macros and structures.
  23:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *
  24:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @addtogroup ARMCMx_V7M_CORE
  25:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @{
  26:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
  27:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
  28:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #ifndef CHCORE_V7M_H
  29:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define CHCORE_V7M_H
  30:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
  31:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /*===========================================================================*/
  32:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /* Module constants.                                                         */
  33:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /*===========================================================================*/
  34:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
  35:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
  36:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @name    Port Capabilities and Constants
  37:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @{
  38:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
  39:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
  40:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   This port supports a realtime counter.
  41:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
  42:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_SUPPORTS_RT                TRUE
  43:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
  44:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
  45:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Natural alignment constant.
  46:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @note    It is the minimum alignment for pointer-size variables.
  47:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
  48:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_NATURAL_ALIGN              sizeof (void *)
  49:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
  50:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
  51:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Stack alignment constant.
  52:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @note    It is the alignment required for the stack pointer.
  53:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
  54:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_STACK_ALIGN                sizeof (stkalign_t)
  55:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
  56:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
  57:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Working Areas alignment constant.
  58:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @note    It is the alignment to be enforced for thread working areas.
  59:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
  60:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_WORKING_AREA_ALIGN         ((PORT_ENABLE_GUARD_PAGES == TRUE) ?\
  61:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****                                          32U : PORT_STACK_ALIGN)
  62:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /** @} */
  63:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
  64:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
  65:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Disabled value for BASEPRI register.
  66:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
  67:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define CORTEX_BASEPRI_DISABLED         0U
  68:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
  69:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /*===========================================================================*/
  70:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /* Module pre-compile time settings.                                         */
  71:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /*===========================================================================*/
  72:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
  73:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
  74:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Implements a syscall interface on SVC.
  75:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
  76:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if !defined(PORT_USE_SYSCALL) || defined(__DOXYGEN__)
  77:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_USE_SYSCALL                FALSE
  78:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
  79:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
  80:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
  81:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Number of MPU regions to be saved/restored during context switch.
  82:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @note    The first region is always region zero.
  83:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @note    The use of this option has an overhead of 8 bytes for each
  84:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          region for each thread.
  85:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @note    Allowed values are 0..4, zero means none.
  86:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
  87:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if !defined(PORT_SWITCHED_REGIONS_NUMBER) || defined(__DOXYGEN__)
  88:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_SWITCHED_REGIONS_NUMBER    0
  89:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
  90:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
  91:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
  92:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Enables stack overflow guard pages using MPU.
  93:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @note    This option can only be enabled if also option
  94:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          @p CH_DBG_ENABLE_STACK_CHECK is enabled.
  95:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @note    The use of this option has an overhead of 32 bytes for each
  96:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          thread.
  97:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
  98:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if !defined(PORT_ENABLE_GUARD_PAGES) || defined(__DOXYGEN__)
  99:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_ENABLE_GUARD_PAGES         FALSE
 100:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 101:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 102:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 103:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   MPU region to be used to stack guards.
 104:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @note    Make sure this region is not included in the
 105:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          @p PORT_SWITCHED_REGIONS_NUMBER regions range.
 106:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 107:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if !defined(PORT_USE_GUARD_MPU_REGION) || defined(__DOXYGEN__)
 108:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_USE_GUARD_MPU_REGION       MPU_REGION_7
 109:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 110:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 111:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 112:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Stack size for the system idle thread.
 113:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @details This size depends on the idle thread implementation, usually
 114:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          the idle thread should take no more space than those reserved
 115:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          by @p PORT_INT_REQUIRED_STACK.
 116:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @note    In this port it is set to 16 because the idle thread does have
 117:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          a stack frame when compiling without optimizations. You may
 118:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          reduce this value to zero when compiling with optimizations.
 119:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 120:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if !defined(PORT_IDLE_THREAD_STACK_SIZE) || defined(__DOXYGEN__)
 121:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_IDLE_THREAD_STACK_SIZE     16
 122:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 123:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 124:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 125:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Per-thread stack overhead for interrupts servicing.
 126:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @details This constant is used in the calculation of the correct working
 127:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          area size.
 128:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @note    In this port this value is conservatively set to 64 because the
 129:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          function @p chSchDoReschedule() can have a stack frame, especially
 130:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          with compiler optimizations disabled. The value can be reduced
 131:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          when compiler optimizations are enabled.
 132:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 133:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if !defined(PORT_INT_REQUIRED_STACK) || defined(__DOXYGEN__)
 134:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_INT_REQUIRED_STACK         64
 135:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 136:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 137:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 138:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Enables the use of the WFI instruction in the idle thread loop.
 139:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 140:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if !defined(CORTEX_ENABLE_WFI_IDLE)
 141:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define CORTEX_ENABLE_WFI_IDLE          FALSE
 142:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 143:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 144:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 145:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   FPU support in context switch.
 146:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @details Activating this option activates the FPU support in the kernel.
 147:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 148:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if !defined(CORTEX_USE_FPU)
 149:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define CORTEX_USE_FPU                  CORTEX_HAS_FPU
 150:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #elif (CORTEX_USE_FPU == TRUE) && (CORTEX_HAS_FPU == FALSE)
 151:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /* This setting requires an FPU presence check in case it is externally
 152:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****    redefined.*/
 153:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #error "the selected core does not have an FPU"
 154:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 155:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 156:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 157:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Simplified priority handling flag.
 158:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @details Activating this option makes the Kernel work in compact mode.
 159:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          In compact mode interrupts are disabled globally instead of
 160:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          raising the priority mask to some intermediate level.
 161:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 162:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if !defined(CORTEX_SIMPLIFIED_PRIORITY)
 163:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define CORTEX_SIMPLIFIED_PRIORITY      FALSE
 164:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 165:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 166:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 167:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   SVCALL handler priority.
 168:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @note    The default SVCALL handler priority is defaulted to
 169:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          @p CORTEX_MAXIMUM_PRIORITY+1, this reserves the
 170:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          @p CORTEX_MAXIMUM_PRIORITY priority level as fast interrupts
 171:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          priority level.
 172:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 173:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if !defined(CORTEX_PRIORITY_SVCALL)
 174:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define CORTEX_PRIORITY_SVCALL          (CORTEX_MAXIMUM_PRIORITY + 1U)
 175:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #elif !PORT_IRQ_IS_VALID_PRIORITY(CORTEX_PRIORITY_SVCALL)
 176:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /* If it is externally redefined then better perform a validity check on it.*/
 177:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #error "invalid priority level specified for CORTEX_PRIORITY_SVCALL"
 178:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 179:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 180:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 181:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   NVIC PRIGROUP initialization expression.
 182:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @details The default assigns all available priority bits as preemption
 183:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          priority with no sub-priority.
 184:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 185:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if !defined(CORTEX_PRIGROUP_INIT) || defined(__DOXYGEN__)
 186:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define CORTEX_PRIGROUP_INIT            (7 - CORTEX_PRIORITY_BITS)
 187:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 188:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 189:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /*===========================================================================*/
 190:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /* Derived constants and error checks.                                       */
 191:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /*===========================================================================*/
 192:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 193:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if (PORT_SWITCHED_REGIONS_NUMBER < 0) || (PORT_SWITCHED_REGIONS_NUMBER > 4)
 194:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #error "invalid PORT_SWITCHED_REGIONS_NUMBER value"
 195:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 196:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 197:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if !defined(_FROM_ASM_)
 198:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 199:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   MPU guard page size.
 200:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 201:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if (PORT_ENABLE_GUARD_PAGES == TRUE) || defined(__DOXYGEN__)
 202:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #if CH_DBG_ENABLE_STACK_CHECK == FALSE
 203:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     #error "PORT_ENABLE_GUARD_PAGES requires CH_DBG_ENABLE_STACK_CHECK"
 204:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #endif
 205:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #if __MPU_PRESENT == 0
 206:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     #error "MPU not present in current device"
 207:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #endif
 208:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #define PORT_GUARD_PAGE_SIZE          32U
 209:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else
 210:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #define PORT_GUARD_PAGE_SIZE          0U
 211:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 212:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif /* !defined(_FROM_ASM_) */
 213:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 214:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 215:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @name    Architecture and Compiler
 216:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @{
 217:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 218:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if (CORTEX_MODEL == 3) || defined(__DOXYGEN__)
 219:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 220:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #if !defined(CH_CUSTOMER_LIC_PORT_CM3)
 221:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     #error "CH_CUSTOMER_LIC_PORT_CM3 not defined"
 222:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #endif
 223:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 224:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #if CH_CUSTOMER_LIC_PORT_CM3 == FALSE
 225:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     #error "ChibiOS Cortex-M3 port not licensed"
 226:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #endif
 227:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 228:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 229:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Macro defining the specific ARM architecture.
 230:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 231:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_ARCHITECTURE_ARM_v7M
 232:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 233:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 234:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Name of the implemented architecture.
 235:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 236:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_ARCHITECTURE_NAME          "ARMv7-M"
 237:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 238:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 239:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Name of the architecture variant.
 240:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 241:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if (PORT_ENABLE_GUARD_PAGES == FALSE) || defined(__DOXYGEN__)
 242:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #define PORT_CORE_VARIANT_NAME        "Cortex-M3"
 243:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else
 244:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #define PORT_CORE_VARIANT_NAME        "Cortex-M3 (MPU)"
 245:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 246:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 247:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #elif (CORTEX_MODEL == 4)
 248:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 249:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #if !defined(CH_CUSTOMER_LIC_PORT_CM4)
 250:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     #error "CH_CUSTOMER_LIC_PORT_CM4 not defined"
 251:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #endif
 252:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 253:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #if CH_CUSTOMER_LIC_PORT_CM4 == FALSE
 254:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #error "ChibiOS Cortex-M4 port not licensed"
 255:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #endif
 256:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 257:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #define PORT_ARCHITECTURE_ARM_v7ME
 258:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #define PORT_ARCHITECTURE_NAME        "ARMv7E-M"
 259:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #if CORTEX_USE_FPU
 260:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     #if PORT_ENABLE_GUARD_PAGES == FALSE
 261:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****       #define PORT_CORE_VARIANT_NAME    "Cortex-M4F"
 262:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     #else
 263:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****       #define PORT_CORE_VARIANT_NAME    "Cortex-M4F (MPU)"
 264:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     #endif
 265:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #else
 266:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     #if PORT_ENABLE_GUARD_PAGES == FALSE
 267:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****       #define PORT_CORE_VARIANT_NAME    "Cortex-M4"
 268:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     #else
 269:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****       #define PORT_CORE_VARIANT_NAME    "Cortex-M4 (MPU)"
 270:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     #endif
 271:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #endif
 272:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 273:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #elif (CORTEX_MODEL == 7)
 274:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 275:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #if !defined(CH_CUSTOMER_LIC_PORT_CM7)
 276:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     #error "CH_CUSTOMER_LIC_PORT_CM7 not defined"
 277:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #endif
 278:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 279:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #if CH_CUSTOMER_LIC_PORT_CM7 == FALSE
 280:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     #error "ChibiOS Cortex-M7 port not licensed"
 281:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #endif
 282:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 283:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_ARCHITECTURE_ARM_v7ME
 284:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #define PORT_ARCHITECTURE_NAME        "ARMv7E-M"
 285:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #if CORTEX_USE_FPU
 286:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     #if PORT_ENABLE_GUARD_PAGES == FALSE
 287:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****       #define PORT_CORE_VARIANT_NAME    "Cortex-M7F"
 288:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     #else
 289:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****       #define PORT_CORE_VARIANT_NAME    "Cortex-M7F (MPU)"
 290:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     #endif
 291:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #else
 292:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     #if PORT_ENABLE_GUARD_PAGES == FALSE
 293:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****       #define PORT_CORE_VARIANT_NAME    "Cortex-M7"
 294:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     #else
 295:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****       #define PORT_CORE_VARIANT_NAME    "Cortex-M7 (MPU)"
 296:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     #endif
 297:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   #endif
 298:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 299:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 300:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 301:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Port-specific information string.
 302:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 303:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if (CORTEX_SIMPLIFIED_PRIORITY == FALSE) || defined(__DOXYGEN__)
 304:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_INFO                       "Advanced kernel mode"
 305:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else
 306:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_INFO                       "Compact kernel mode"
 307:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 308:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /** @} */
 309:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 310:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if (CORTEX_SIMPLIFIED_PRIORITY == FALSE) || defined(__DOXYGEN__)
 311:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 312:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Maximum usable priority for normal ISRs.
 313:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 314:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define CORTEX_MAX_KERNEL_PRIORITY      (CORTEX_PRIORITY_SVCALL + 1U)
 315:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 316:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 317:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   BASEPRI level within kernel lock.
 318:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 319:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define CORTEX_BASEPRI_KERNEL                                               \
 320:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   CORTEX_PRIO_MASK(CORTEX_MAX_KERNEL_PRIORITY)
 321:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else
 322:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 323:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define CORTEX_MAX_KERNEL_PRIORITY      0U
 324:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 325:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 326:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 327:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   PendSV priority level.
 328:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @note    This priority is enforced to be equal to
 329:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          @p CORTEX_MAX_KERNEL_PRIORITY, this handler always have the
 330:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          highest priority that cannot preempt the kernel.
 331:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 332:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define CORTEX_PRIORITY_PENDSV          CORTEX_MAX_KERNEL_PRIORITY
 333:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 334:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /*===========================================================================*/
 335:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /* Module data structures and types.                                         */
 336:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /*===========================================================================*/
 337:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 338:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /* The following code is not processed when the file is included from an
 339:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****    asm module.*/
 340:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if !defined(_FROM_ASM_)
 341:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 342:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /* The documentation of the following declarations is in chconf.h in order
 343:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****    to not have duplicated structure names into the documentation.*/
 344:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if !defined(__DOXYGEN__)
 345:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** struct port_extctx {
 346:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      r0;
 347:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      r1;
 348:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      r2;
 349:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      r3;
 350:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      r12;
 351:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      lr_thd;
 352:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      pc;
 353:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      xpsr;
 354:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if CORTEX_USE_FPU
 355:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s0;
 356:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s1;
 357:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s2;
 358:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s3;
 359:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s4;
 360:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s5;
 361:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s6;
 362:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s7;
 363:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s8;
 364:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s9;
 365:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s10;
 366:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s11;
 367:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s12;
 368:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s13;
 369:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s14;
 370:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s15;
 371:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      fpscr;
 372:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      reserved;
 373:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif /* CORTEX_USE_FPU */
 374:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** };
 375:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 376:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if (PORT_USE_SYSCALL == TRUE) || defined(__DOXYGEN__)
 377:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 378:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Link context structure.
 379:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @details This structure is used when there is the need to save extra
 380:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          context information that is not part of the registers stacked
 381:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          in HW.
 382:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 383:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** struct port_linkctx {
 384:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t              control;
 385:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   struct port_extctx    *ectxp;
 386:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** };
 387:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 388:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 389:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** struct port_intctx {
 390:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if (PORT_SWITCHED_REGIONS_NUMBER > 0) || defined(__DOXYGEN__)
 391:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   struct {
 392:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     uint32_t    rbar;
 393:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     uint32_t    rasr;
 394:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   } regions[PORT_SWITCHED_REGIONS_NUMBER];
 395:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 396:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if CORTEX_USE_FPU
 397:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s16;
 398:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s17;
 399:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s18;
 400:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s19;
 401:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s20;
 402:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s21;
 403:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s22;
 404:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s23;
 405:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s24;
 406:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s25;
 407:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s26;
 408:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s27;
 409:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s28;
 410:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s29;
 411:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s30;
 412:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      s31;
 413:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif /* CORTEX_USE_FPU */
 414:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      r4;
 415:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      r5;
 416:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      r6;
 417:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      r7;
 418:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      r8;
 419:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      r9;
 420:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      r10;
 421:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      r11;
 422:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   uint32_t      lr;
 423:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** };
 424:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 425:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** struct port_context {
 426:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   struct port_intctx    *sp;
 427:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if (PORT_USE_SYSCALL == TRUE) || defined(__DOXYGEN__)
 428:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   struct {
 429:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     uint32_t            psp;
 430:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     const void          *p;
 431:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   } syscall;
 432:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 433:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** };
 434:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif /* !defined(__DOXYGEN__) */
 435:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 436:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /*===========================================================================*/
 437:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /* Module macros.                                                            */
 438:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /*===========================================================================*/
 439:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 440:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /* By default threads have no syscall context information.*/
 441:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if (PORT_USE_SYSCALL == TRUE) || defined(__DOXYGEN__)
 442:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define __PORT_SETUP_CONTEXT_SYSCALL(tp, wtop)                              \
 443:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.syscall.psp = (uint32_t)(wtop);                                 \
 444:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.syscall.p   = NULL;
 445:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else
 446:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define __PORT_SETUP_CONTEXT_SYSCALL(tp, wtop)
 447:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 448:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 449:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /* By default threads have all regions disabled.*/
 450:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if (PORT_SWITCHED_REGIONS_NUMBER == 0) || defined(__DOXYGEN__)
 451:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define __PORT_SETUP_CONTEXT_MPU(tp)
 452:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #elif (PORT_SWITCHED_REGIONS_NUMBER == 1) || defined(__DOXYGEN__)
 453:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define __PORT_SETUP_CONTEXT_MPU(tp)                                        \
 454:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[0].rbar  = 0U;                                      \
 455:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[0].rasr  = 0U
 456:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #elif (PORT_SWITCHED_REGIONS_NUMBER == 2) || defined(__DOXYGEN__)
 457:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define __PORT_SETUP_CONTEXT_MPU(tp)                                        \
 458:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[0].rbar  = 0U;                                      \
 459:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[0].rasr  = 0U;                                      \
 460:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[1].rbar  = 0U;                                      \
 461:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[1].rasr  = 0U
 462:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #elif (PORT_SWITCHED_REGIONS_NUMBER == 3) || defined(__DOXYGEN__)
 463:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define __PORT_SETUP_CONTEXT_MPU(tp)                                        \
 464:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[0].rbar  = 0U;                                      \
 465:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[0].rasr  = 0U;                                      \
 466:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[1].rbar  = 0U;                                      \
 467:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[1].rasr  = 0U;                                      \
 468:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[2].rbar  = 0U;                                      \
 469:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[2].rasr  = 0U
 470:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #elif (PORT_SWITCHED_REGIONS_NUMBER == 4) || defined(__DOXYGEN__)
 471:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define __PORT_SETUP_CONTEXT_MPU(tp)                                        \
 472:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[0].rbar  = 0U;                                      \
 473:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[0].rasr  = 0U;                                      \
 474:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[1].rbar  = 0U;                                      \
 475:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[1].rasr  = 0U;                                      \
 476:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[2].rbar  = 0U;                                      \
 477:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[2].rasr  = 0U;                                      \
 478:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[3].rbar  = 0U;                                      \
 479:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->regions[3].rasr  = 0U
 480:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else
 481:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 482:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 483:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 484:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Platform dependent part of the @p chThdCreateI() API.
 485:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @details This code usually setup the context switching frame represented
 486:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          by an @p port_intctx structure.
 487:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 488:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_SETUP_CONTEXT(tp, wbase, wtop, pf, arg) {                      \
 489:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp = (struct port_intctx *)((uint8_t *)(wtop) -                 \
 490:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****                                         sizeof (struct port_intctx));       \
 491:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->r4 = (uint32_t)(pf);                                        \
 492:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->r5 = (uint32_t)(arg);                                       \
 493:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   (tp)->ctx.sp->lr = (uint32_t)_port_thread_start;                          \
 494:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   __PORT_SETUP_CONTEXT_MPU(tp);                                             \
 495:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   __PORT_SETUP_CONTEXT_SYSCALL(tp, wtop);                                   \
 496:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** }
 497:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 498:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** //  __PORT_SETUP_CONTEXT_MPU(tp)
 499:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 500:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 501:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Computes the thread working area global size.
 502:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @note    There is no need to perform alignments in this macro.
 503:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 504:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_WA_SIZE(n) ((size_t)PORT_GUARD_PAGE_SIZE +                     \
 505:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****                          sizeof (struct port_intctx) +                      \
 506:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****                          sizeof (struct port_extctx) +                      \
 507:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****                          (size_t)(n) +                                      \
 508:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****                          (size_t)PORT_INT_REQUIRED_STACK)
 509:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 510:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 511:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Static working area allocation.
 512:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @details This macro is used to allocate a static thread working area
 513:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          aligned as both position and size.
 514:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *
 515:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @param[in] s         the name to be assigned to the stack array
 516:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @param[in] n         the stack size to be assigned to the thread
 517:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 518:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if (PORT_ENABLE_GUARD_PAGES == FALSE) || defined(__DOXYGEN__)
 519:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_WORKING_AREA(s, n)                                             \
 520:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   stkalign_t s[THD_WORKING_AREA_SIZE(n) / sizeof (stkalign_t)]
 521:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else
 522:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_WORKING_AREA(s, n)                                             \
 523:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   ALIGNED_VAR(32) stkalign_t s[THD_WORKING_AREA_SIZE(n) / sizeof (stkalign_t)]
 524:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 525:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 526:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 527:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   IRQ prologue code.
 528:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @details This macro must be inserted at the start of all IRQ handlers
 529:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          enabled to invoke system APIs.
 530:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 531:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_IRQ_PROLOGUE()
 532:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 533:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 534:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   IRQ epilogue code.
 535:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @details This macro must be inserted at the end of all IRQ handlers
 536:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          enabled to invoke system APIs.
 537:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 538:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_IRQ_EPILOGUE() _port_irq_epilogue()
 539:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 540:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 541:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   IRQ handler function declaration.
 542:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @note    @p id can be a function name or a vector number depending on the
 543:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          port implementation.
 544:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 545:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #ifdef __cplusplus
 546:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_IRQ_HANDLER(id) extern "C" void id(void)
 547:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else
 548:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_IRQ_HANDLER(id) void id(void)
 549:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 550:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 551:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 552:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Fast IRQ handler function declaration.
 553:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @note    @p id can be a function name or a vector number depending on the
 554:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          port implementation.
 555:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 556:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #ifdef __cplusplus
 557:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_FAST_IRQ_HANDLER(id) extern "C" void id(void)
 558:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else
 559:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define PORT_FAST_IRQ_HANDLER(id) void id(void)
 560:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 561:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 562:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 563:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Performs a context switch between two threads.
 564:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @details This is the most critical code in any port, this function
 565:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          is responsible for the context switch between 2 threads.
 566:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @note    The implementation of this code affects <b>directly</b> the context
 567:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          switch performance so optimize here as much as you can.
 568:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *
 569:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @param[in] ntp       the thread to be switched in
 570:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @param[in] otp       the thread to be switched out
 571:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 572:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if (CH_DBG_ENABLE_STACK_CHECK == FALSE) || defined(__DOXYGEN__)
 573:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define port_switch(ntp, otp) _port_switch(ntp, otp)
 574:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else
 575:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if PORT_ENABLE_GUARD_PAGES == FALSE
 576:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define port_switch(ntp, otp) {                                             \
 577:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   struct port_intctx *r13 = (struct port_intctx *)__get_PSP();              \
 578:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   if ((stkalign_t *)(r13 - 1) < (otp)->wabase) {                            \
 579:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****     chSysHalt("stack overflow");                                            \
 580:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   }                                                                         \
 581:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   _port_switch(ntp, otp);                                                   \
 582:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** }
 583:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else
 584:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #define port_switch(ntp, otp) {                                             \
 585:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   _port_switch(ntp, otp);                                                   \
 586:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****                                                                             \
 587:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   /* Setting up the guard page for the switched-in thread.*/                \
 588:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   mpuSetRegionAddress(PORT_USE_GUARD_MPU_REGION,                            \
 589:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****                       chThdGetSelfX()->wabase);                             \
 590:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** }
 591:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 592:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 593:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 594:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /*===========================================================================*/
 595:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /* External declarations.                                                    */
 596:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /*===========================================================================*/
 597:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 598:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #ifdef __cplusplus
 599:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** extern "C" {
 600:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 601:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   void port_init(void);
 602:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   void _port_irq_epilogue(void);
 603:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   void _port_switch(thread_t *ntp, thread_t *otp);
 604:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   void _port_thread_start(void);
 605:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   void _port_switch_from_isr(void);
 606:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   void _port_exit_from_isr(void);
 607:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if PORT_USE_SYSCALL == TRUE
 608:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   void port_unprivileged_jump(uint32_t pc, uint32_t psp);
 609:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 610:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #ifdef __cplusplus
 611:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** }
 612:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 613:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 614:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /*===========================================================================*/
 615:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /* Module inline functions.                                                  */
 616:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /*===========================================================================*/
 617:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 618:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 619:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Returns a word encoding the current interrupts status.
 620:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *
 621:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @return              The interrupts status.
 622:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 623:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** __STATIC_FORCEINLINE syssts_t port_get_irq_status(void) {
 624:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   syssts_t sts;
 625:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 626:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if CORTEX_SIMPLIFIED_PRIORITY == FALSE
 627:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   sts = (syssts_t)__get_BASEPRI();
 628:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else /* CORTEX_SIMPLIFIED_PRIORITY */
 629:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   sts = (syssts_t)__get_PRIMASK();
 630:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif /* CORTEX_SIMPLIFIED_PRIORITY */
 631:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   return sts;
 632:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** }
 633:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 634:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 635:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Checks the interrupt status.
 636:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *
 637:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @param[in] sts       the interrupt status word
 638:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *
 639:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @return              The interrupt status.
 640:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @retval false        the word specified a disabled interrupts status.
 641:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @retval true         the word specified an enabled interrupts status.
 642:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 643:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** __STATIC_FORCEINLINE bool port_irq_enabled(syssts_t sts) {
 644:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 645:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if CORTEX_SIMPLIFIED_PRIORITY == FALSE
 646:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   return sts == (syssts_t)CORTEX_BASEPRI_DISABLED;
 647:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else /* CORTEX_SIMPLIFIED_PRIORITY */
 648:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   return (sts & (syssts_t)1) == (syssts_t)0;
 649:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif /* CORTEX_SIMPLIFIED_PRIORITY */
 650:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** }
 651:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 652:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 653:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Determines the current execution context.
 654:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *
 655:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @return              The execution context.
 656:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @retval false        not running in ISR mode.
 657:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @retval true         running in ISR mode.
 658:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 659:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** __STATIC_FORCEINLINE bool port_is_isr_context(void) {
 660:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 661:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   return (bool)((__get_IPSR() & 0x1FFU) != 0U);
 662:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** }
 663:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 664:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 665:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Kernel-lock action.
 666:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @details In this port this function raises the base priority to kernel
 667:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          level.
 668:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 669:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** __STATIC_FORCEINLINE void port_lock(void) {
 178              		.loc 4 669 27 view .LVU43
 179              	.LBE289:
 180              	.LBE299:
 181              	.LBE304:
 670:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 671:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if CORTEX_SIMPLIFIED_PRIORITY == FALSE
 672:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if defined(__CM7_REV)
 673:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if __CM7_REV <= 1
 674:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   __disable_irq();
 675:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 676:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 677:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   __set_BASEPRI(CORTEX_BASEPRI_KERNEL);
 182              		.loc 4 677 3 view .LVU44
 183              	.LBB305:
 184              	.LBB300:
 185              	.LBB296:
 186              	.LBB290:
 187              	.LBI290:
 188              		.file 5 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h"
   1:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  * @version  V5.0.4
   5:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  * @date     09. April 2018
   6:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /*
   8:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2018 Arm Limited. All rights reserved.
   9:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  *
  10:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  *
  12:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  *
  16:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  *
  18:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  * limitations under the License.
  23:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
  24:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
  25:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
  28:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
  34:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  38:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
  39:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  43:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  46:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  49:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif                                           
  52:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  55:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __USED
  56:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  58:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  61:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  64:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  67:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  70:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  78:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  86:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  94:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 102:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 110:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 113:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 116:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 117:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 118:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 119:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 120:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 121:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   @{
 122:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 123:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 124:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 125:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 126:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 127:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 128:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 129:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 130:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 131:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 132:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 133:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 134:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 135:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 136:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 137:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 138:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 139:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 140:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 141:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 142:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 143:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 144:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 145:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 146:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 147:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get Control Register
 148:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the content of the Control Register.
 149:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \return               Control Register value
 150:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 151:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_CONTROL(void)
 152:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 153:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 154:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 155:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control" : "=r" (result) );
 156:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 157:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 158:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 159:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 160:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 161:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 162:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get Control Register (non-secure)
 163:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the content of the non-secure Control Register when in secure mode.
 164:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \return               non-secure Control Register value
 165:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 166:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_CONTROL_NS(void)
 167:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 168:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 169:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 170:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control_ns" : "=r" (result) );
 171:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 172:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 173:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 174:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 175:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 176:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 177:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Set Control Register
 178:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Writes the given value to the Control Register.
 179:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
 180:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 181:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_CONTROL(uint32_t control)
 182:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 183:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control, %0" : : "r" (control) : "memory");
 184:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 185:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 186:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 187:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 188:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 189:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Set Control Register (non-secure)
 190:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Writes the given value to the non-secure Control Register when in secure state.
 191:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
 192:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 193:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_CONTROL_NS(uint32_t control)
 194:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 195:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control_ns, %0" : : "r" (control) : "memory");
 196:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 197:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 198:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 199:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 200:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 201:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get IPSR Register
 202:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the content of the IPSR Register.
 203:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \return               IPSR Register value
 204:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 205:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_IPSR(void)
 206:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 207:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 208:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 209:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, ipsr" : "=r" (result) );
 210:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 211:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 212:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 213:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 214:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 215:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get APSR Register
 216:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the content of the APSR Register.
 217:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \return               APSR Register value
 218:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 219:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_APSR(void)
 220:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 221:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 222:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 223:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, apsr" : "=r" (result) );
 224:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 225:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 226:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 227:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 228:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 229:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get xPSR Register
 230:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the content of the xPSR Register.
 231:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \return               xPSR Register value
 232:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 233:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_xPSR(void)
 234:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 235:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 236:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 237:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, xpsr" : "=r" (result) );
 238:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 239:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 240:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 241:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 242:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 243:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get Process Stack Pointer
 244:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the current value of the Process Stack Pointer (PSP).
 245:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \return               PSP Register value
 246:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 247:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_PSP(void)
 248:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 249:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 250:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 251:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, psp"  : "=r" (result) );
 252:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 253:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 254:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 255:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 256:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 257:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 258:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get Process Stack Pointer (non-secure)
 259:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the current value of the non-secure Process Stack Pointer (PSP) when in secure s
 260:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \return               PSP Register value
 261:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 262:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_PSP_NS(void)
 263:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 264:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 265:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 266:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, psp_ns"  : "=r" (result) );
 267:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 268:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 269:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 270:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 271:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 272:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 273:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Set Process Stack Pointer
 274:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Assigns the given value to the Process Stack Pointer (PSP).
 275:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \param [in]    topOfProcStack  Process Stack Pointer value to set
 276:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 277:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_PSP(uint32_t topOfProcStack)
 278:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 279:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MSR psp, %0" : : "r" (topOfProcStack) : );
 280:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 281:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 282:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 283:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 284:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 285:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Set Process Stack Pointer (non-secure)
 286:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Process Stack Pointer (PSP) when in secure sta
 287:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \param [in]    topOfProcStack  Process Stack Pointer value to set
 288:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 289:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_PSP_NS(uint32_t topOfProcStack)
 290:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 291:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MSR psp_ns, %0" : : "r" (topOfProcStack) : );
 292:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 293:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 294:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 295:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 296:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 297:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get Main Stack Pointer
 298:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the current value of the Main Stack Pointer (MSP).
 299:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \return               MSP Register value
 300:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 301:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_MSP(void)
 302:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 303:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 304:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 305:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, msp" : "=r" (result) );
 306:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 307:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 308:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 309:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 310:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 311:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 312:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get Main Stack Pointer (non-secure)
 313:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the current value of the non-secure Main Stack Pointer (MSP) when in secure stat
 314:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \return               MSP Register value
 315:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 316:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_MSP_NS(void)
 317:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 318:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 319:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 320:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, msp_ns" : "=r" (result) );
 321:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 322:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 323:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 324:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 325:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 326:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 327:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Set Main Stack Pointer
 328:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Assigns the given value to the Main Stack Pointer (MSP).
 329:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \param [in]    topOfMainStack  Main Stack Pointer value to set
 330:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 331:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_MSP(uint32_t topOfMainStack)
 332:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 333:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MSR msp, %0" : : "r" (topOfMainStack) : );
 334:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 335:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 336:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 337:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 338:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 339:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Set Main Stack Pointer (non-secure)
 340:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Main Stack Pointer (MSP) when in secure state.
 341:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \param [in]    topOfMainStack  Main Stack Pointer value to set
 342:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 343:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_MSP_NS(uint32_t topOfMainStack)
 344:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 345:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MSR msp_ns, %0" : : "r" (topOfMainStack) : );
 346:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 347:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 348:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 349:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 350:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 351:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 352:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get Stack Pointer (non-secure)
 353:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the current value of the non-secure Stack Pointer (SP) when in secure state.
 354:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \return               SP Register value
 355:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 356:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_SP_NS(void)
 357:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 358:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 359:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 360:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, sp_ns" : "=r" (result) );
 361:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 362:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 363:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 364:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 365:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 366:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Set Stack Pointer (non-secure)
 367:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Stack Pointer (SP) when in secure state.
 368:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \param [in]    topOfStack  Stack Pointer value to set
 369:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 370:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_SP_NS(uint32_t topOfStack)
 371:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 372:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MSR sp_ns, %0" : : "r" (topOfStack) : );
 373:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 374:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 375:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 376:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 377:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 378:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get Priority Mask
 379:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the current state of the priority mask bit from the Priority Mask Register.
 380:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \return               Priority Mask value
 381:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 382:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_PRIMASK(void)
 383:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 384:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 385:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 386:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, primask" : "=r" (result) :: "memory");
 387:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 388:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 389:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 390:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 391:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 392:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 393:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get Priority Mask (non-secure)
 394:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the current state of the non-secure priority mask bit from the Priority Mask Reg
 395:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \return               Priority Mask value
 396:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 397:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_PRIMASK_NS(void)
 398:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 399:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 400:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 401:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, primask_ns" : "=r" (result) :: "memory");
 402:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 403:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 404:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 405:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 406:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 407:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 408:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Set Priority Mask
 409:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Assigns the given value to the Priority Mask Register.
 410:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \param [in]    priMask  Priority Mask
 411:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 412:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_PRIMASK(uint32_t priMask)
 413:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 414:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MSR primask, %0" : : "r" (priMask) : "memory");
 415:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 416:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 417:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 418:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 419:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 420:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Set Priority Mask (non-secure)
 421:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Assigns the given value to the non-secure Priority Mask Register when in secure state.
 422:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \param [in]    priMask  Priority Mask
 423:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 424:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_PRIMASK_NS(uint32_t priMask)
 425:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 426:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MSR primask_ns, %0" : : "r" (priMask) : "memory");
 427:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 428:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 429:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 430:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 431:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #if ((defined (__ARM_ARCH_7M__      ) && (__ARM_ARCH_7M__      == 1)) || \
 432:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****      (defined (__ARM_ARCH_7EM__     ) && (__ARM_ARCH_7EM__     == 1)) || \
 433:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****      (defined (__ARM_ARCH_8M_MAIN__ ) && (__ARM_ARCH_8M_MAIN__ == 1))    )
 434:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 435:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Enable FIQ
 436:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Enables FIQ interrupts by clearing the F-bit in the CPSR.
 437:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 438:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 439:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_fault_irq(void)
 440:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 441:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie f" : : : "memory");
 442:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 443:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 444:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 445:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 446:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Disable FIQ
 447:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Disables FIQ interrupts by setting the F-bit in the CPSR.
 448:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 449:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 450:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_fault_irq(void)
 451:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 452:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid f" : : : "memory");
 453:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 454:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 455:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 456:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 457:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get Base Priority
 458:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the current value of the Base Priority register.
 459:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \return               Base Priority register value
 460:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 461:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_BASEPRI(void)
 462:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 463:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 464:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 465:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, basepri" : "=r" (result) );
 466:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 467:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 468:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 469:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 470:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 471:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 472:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get Base Priority (non-secure)
 473:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the current value of the non-secure Base Priority register when in secure state.
 474:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \return               Base Priority register value
 475:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 476:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_BASEPRI_NS(void)
 477:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 478:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 479:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 480:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, basepri_ns" : "=r" (result) );
 481:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 482:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** }
 483:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 484:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 485:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** 
 486:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** /**
 487:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Set Base Priority
 488:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \details Assigns the given value to the Base Priority register.
 489:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   \param [in]    basePri  Base Priority value to set
 490:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****  */
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_BASEPRI(uint32_t basePri)
 189              		.loc 5 491 27 view .LVU45
 190              	.LBB291:
 492:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 493:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MSR basepri, %0" : : "r" (basePri) : "memory");
 191              		.loc 5 493 3 view .LVU46
 192              	.LBE291:
 193              	.LBE290:
 194              	.LBE296:
 195              	.LBE300:
 196              	.LBE305:
 303:lib/chibios/os/hal/src/hal_usb.c ****   unsigned i;
 197              		.loc 1 303 57 is_stmt 0 view .LVU47
 198 0000 10B5     		push	{r4, lr}
 199              		.cfi_def_cfa_offset 8
 200              		.cfi_offset 4, -8
 201              		.cfi_offset 14, -4
 202              	.LBB306:
 203              	.LBB301:
 204              	.LBB297:
 205              	.LBB294:
 206              	.LBB292:
 207              		.loc 5 493 3 view .LVU48
 208 0002 2022     		movs	r2, #32
 209              	.LBE292:
 210              	.LBE294:
 211              	.LBE297:
 212              	.LBE301:
 213              	.LBE306:
 303:lib/chibios/os/hal/src/hal_usb.c ****   unsigned i;
 214              		.loc 1 303 57 view .LVU49
 215 0004 0446     		mov	r4, r0
 216              	.LBB307:
 217              	.LBB302:
 218              	.LBB298:
 219              	.LBB295:
 220              	.LBB293:
 221              		.loc 5 493 3 view .LVU50
 222              		.syntax unified
 223              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 224 0006 82F31188 		MSR basepri, r2
 225              	@ 0 "" 2
 226              	.LVL8:
 227              		.loc 5 493 3 view .LVU51
 228              		.thumb
 229              		.syntax unified
 230              	.LBE293:
 231              	.LBE295:
 232              	.LBE298:
 233              	.LBE302:
 234              	.LBE307:
 356:./lib/chibios/os/rt/include/chsys.h ****   _stats_start_measure_crit_thd();
 235              		.loc 3 356 34 is_stmt 1 view .LVU52
 357:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_lock();
 236              		.loc 3 357 20 view .LVU53
 309:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgAssert((usbp->state == USB_STOP) || (usbp->state == USB_READY),
 237              		.loc 1 309 3 view .LVU54
 238              		.loc 1 309 3 view .LVU55
 239              		.loc 1 309 3 view .LVU56
 310:lib/chibios/os/hal/src/hal_usb.c ****                 "invalid state");
 311:lib/chibios/os/hal/src/hal_usb.c ****   usbp->config = config;
 240              		.loc 1 311 3 view .LVU57
 241              		.loc 1 311 16 is_stmt 0 view .LVU58
 242 000a 4160     		str	r1, [r0, #4]
 312:lib/chibios/os/hal/src/hal_usb.c ****   for (i = 0; i <= (unsigned)USB_MAX_ENDPOINTS; i++) {
 243              		.loc 1 312 3 is_stmt 1 view .LVU59
 244              	.LVL9:
 245              		.loc 1 312 15 view .LVU60
 313:lib/chibios/os/hal/src/hal_usb.c ****     usbp->epc[i] = NULL;
 246              		.loc 1 313 18 is_stmt 0 view .LVU61
 247 000c 0021     		movs	r1, #0
 248              	.LVL10:
 249              		.loc 1 313 18 view .LVU62
 250 000e 0C30     		adds	r0, r0, #12
 251              	.LVL11:
 252              		.loc 1 313 18 view .LVU63
 253 0010 FFF7FEFF 		bl	memset
 254              	.LVL12:
 314:lib/chibios/os/hal/src/hal_usb.c ****   }
 315:lib/chibios/os/hal/src/hal_usb.c ****   usb_lld_start(usbp);
 255              		.loc 1 315 3 is_stmt 1 view .LVU64
 256 0014 2046     		mov	r0, r4
 257 0016 FFF7FEFF 		bl	usb_lld_start
 258              	.LVL13:
 316:lib/chibios/os/hal/src/hal_usb.c ****   usbp->state = USB_READY;
 259              		.loc 1 316 3 view .LVU65
 260              		.loc 1 316 15 is_stmt 0 view .LVU66
 261 001a 0223     		movs	r3, #2
 262 001c 2370     		strb	r3, [r4]
 317:lib/chibios/os/hal/src/hal_usb.c ****   osalSysUnlock();
 263              		.loc 1 317 3 is_stmt 1 view .LVU67
 264              	.LBB308:
 265              	.LBI308:
 512:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 513:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 514:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 515:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Leaves a critical zone from thread context.
 516:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    This function cannot be used for reentrant critical zones.
 517:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 518:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @special
 519:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 520:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline void osalSysUnlock(void) {
 266              		.loc 2 520 20 view .LVU68
 267              	.LBE308:
 521:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 522:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   chSysUnlock();
 268              		.loc 2 522 3 view .LVU69
 269              	.LBB317:
 270              	.LBB309:
 271              	.LBI309:
 358:./lib/chibios/os/rt/include/chsys.h **** }
 359:./lib/chibios/os/rt/include/chsys.h **** 
 360:./lib/chibios/os/rt/include/chsys.h **** /**
 361:./lib/chibios/os/rt/include/chsys.h ****  * @brief   Leaves the kernel lock state.
 362:./lib/chibios/os/rt/include/chsys.h ****  *
 363:./lib/chibios/os/rt/include/chsys.h ****  * @special
 364:./lib/chibios/os/rt/include/chsys.h ****  */
 365:./lib/chibios/os/rt/include/chsys.h **** static inline void chSysUnlock(void) {
 272              		.loc 3 365 20 view .LVU70
 273              	.LBB310:
 366:./lib/chibios/os/rt/include/chsys.h **** 
 367:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_unlock();
 274              		.loc 3 367 22 view .LVU71
 368:./lib/chibios/os/rt/include/chsys.h ****   _stats_stop_measure_crit_thd();
 275              		.loc 3 368 33 view .LVU72
 369:./lib/chibios/os/rt/include/chsys.h **** 
 370:./lib/chibios/os/rt/include/chsys.h ****   /* The following condition can be triggered by the use of i-class functions
 371:./lib/chibios/os/rt/include/chsys.h ****      in a critical section not followed by a chSchRescheduleS(), this means
 372:./lib/chibios/os/rt/include/chsys.h ****      that the current thread has a lower priority than the next thread in
 373:./lib/chibios/os/rt/include/chsys.h ****      the ready list.*/
 374:./lib/chibios/os/rt/include/chsys.h ****   chDbgAssert((ch.rlist.queue.next == (thread_t *)&ch.rlist.queue) ||
 276              		.loc 3 374 3 view .LVU73
 277              		.loc 3 374 3 view .LVU74
 278              		.loc 3 374 3 view .LVU75
 375:./lib/chibios/os/rt/include/chsys.h ****               (ch.rlist.current->prio >= ch.rlist.queue.next->prio),
 376:./lib/chibios/os/rt/include/chsys.h ****               "priority order violation");
 377:./lib/chibios/os/rt/include/chsys.h **** 
 378:./lib/chibios/os/rt/include/chsys.h ****   port_unlock();
 279              		.loc 3 378 3 view .LVU76
 280              	.LBB311:
 281              	.LBI311:
 678:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if defined(__CM7_REV)
 679:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if __CM7_REV <= 1
 680:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   __enable_irq();
 681:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 682:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif
 683:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else /* CORTEX_SIMPLIFIED_PRIORITY */
 684:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   __disable_irq();
 685:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif /* CORTEX_SIMPLIFIED_PRIORITY */
 686:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** }
 687:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 688:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 689:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Kernel-unlock action.
 690:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @details In this port this function lowers the base priority to user
 691:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          level.
 692:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 693:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** __STATIC_FORCEINLINE void port_unlock(void) {
 282              		.loc 4 693 27 view .LVU77
 283              	.LBE311:
 284              	.LBE310:
 285              	.LBE309:
 286              	.LBE317:
 694:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 695:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if CORTEX_SIMPLIFIED_PRIORITY == FALSE
 696:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   __set_BASEPRI(CORTEX_BASEPRI_DISABLED);
 287              		.loc 4 696 3 view .LVU78
 288              	.LVL14:
 289              	.LBB318:
 290              	.LBB316:
 291              	.LBB315:
 292              	.LBB314:
 293              	.LBB312:
 294              	.LBI312:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 295              		.loc 5 491 27 view .LVU79
 296              	.LBB313:
 297              		.loc 5 493 3 view .LVU80
 298 001e 0023     		movs	r3, #0
 299              		.syntax unified
 300              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 301 0020 83F31188 		MSR basepri, r3
 302              	@ 0 "" 2
 303              	.LVL15:
 304              		.loc 5 493 3 is_stmt 0 view .LVU81
 305              		.thumb
 306              		.syntax unified
 307              	.LBE313:
 308              	.LBE312:
 309              	.LBE314:
 310              	.LBE315:
 311              	.LBE316:
 312              	.LBE318:
 318:lib/chibios/os/hal/src/hal_usb.c **** }
 313              		.loc 1 318 1 view .LVU82
 314 0024 10BD     		pop	{r4, pc}
 315              		.loc 1 318 1 view .LVU83
 316              		.cfi_endproc
 317              	.LFE283:
 319              		.section	.text.usbStop,"ax",%progbits
 320              		.align	1
 321              		.global	usbStop
 322              		.syntax unified
 323              		.thumb
 324              		.thumb_func
 325              		.fpu fpv4-sp-d16
 327              	usbStop:
 328              	.LVL16:
 329              	.LFB284:
 319:lib/chibios/os/hal/src/hal_usb.c **** 
 320:lib/chibios/os/hal/src/hal_usb.c **** /**
 321:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   Deactivates the USB peripheral.
 322:lib/chibios/os/hal/src/hal_usb.c ****  *
 323:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] usbp      pointer to the @p USBDriver object
 324:lib/chibios/os/hal/src/hal_usb.c ****  *
 325:lib/chibios/os/hal/src/hal_usb.c ****  * @api
 326:lib/chibios/os/hal/src/hal_usb.c ****  */
 327:lib/chibios/os/hal/src/hal_usb.c **** void usbStop(USBDriver *usbp) {
 330              		.loc 1 327 31 is_stmt 1 view -0
 331              		.cfi_startproc
 332              		@ args = 0, pretend = 0, frame = 0
 333              		@ frame_needed = 0, uses_anonymous_args = 0
 328:lib/chibios/os/hal/src/hal_usb.c ****   unsigned i;
 334              		.loc 1 328 3 view .LVU85
 329:lib/chibios/os/hal/src/hal_usb.c **** 
 330:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgCheck(usbp != NULL);
 335              		.loc 1 330 3 view .LVU86
 336              		.loc 1 330 3 view .LVU87
 337              		.loc 1 330 3 view .LVU88
 331:lib/chibios/os/hal/src/hal_usb.c **** 
 332:lib/chibios/os/hal/src/hal_usb.c ****   osalSysLock();
 338              		.loc 1 332 3 view .LVU89
 339              	.LBB319:
 340              	.LBI319:
 509:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 341              		.loc 2 509 20 view .LVU90
 342              	.LBE319:
 511:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 343              		.loc 2 511 3 view .LVU91
 344              	.LBB335:
 345              	.LBB320:
 346              	.LBI320:
 353:./lib/chibios/os/rt/include/chsys.h **** 
 347              		.loc 3 353 20 view .LVU92
 348              	.LBE320:
 349              	.LBE335:
 355:./lib/chibios/os/rt/include/chsys.h ****   _stats_start_measure_crit_thd();
 350              		.loc 3 355 3 view .LVU93
 351              	.LBB336:
 352              	.LBB331:
 353              	.LBB321:
 354              	.LBI321:
 669:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 355              		.loc 4 669 27 view .LVU94
 356              	.LBE321:
 357              	.LBE331:
 358              	.LBE336:
 677:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if defined(__CM7_REV)
 359              		.loc 4 677 3 view .LVU95
 360              	.LBB337:
 361              	.LBB332:
 362              	.LBB328:
 363              	.LBB322:
 364              	.LBI322:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 365              		.loc 5 491 27 view .LVU96
 366              	.LBB323:
 367              		.loc 5 493 3 view .LVU97
 368              	.LBE323:
 369              	.LBE322:
 370              	.LBE328:
 371              	.LBE332:
 372              	.LBE337:
 327:lib/chibios/os/hal/src/hal_usb.c ****   unsigned i;
 373              		.loc 1 327 31 is_stmt 0 view .LVU98
 374 0000 70B5     		push	{r4, r5, r6, lr}
 375              		.cfi_def_cfa_offset 16
 376              		.cfi_offset 4, -16
 377              		.cfi_offset 5, -12
 378              		.cfi_offset 6, -8
 379              		.cfi_offset 14, -4
 380              	.LBB338:
 381              	.LBB333:
 382              	.LBB329:
 383              	.LBB326:
 384              	.LBB324:
 385              		.loc 5 493 3 view .LVU99
 386 0002 2023     		movs	r3, #32
 387              	.LBE324:
 388              	.LBE326:
 389              	.LBE329:
 390              	.LBE333:
 391              	.LBE338:
 327:lib/chibios/os/hal/src/hal_usb.c ****   unsigned i;
 392              		.loc 1 327 31 view .LVU100
 393 0004 0446     		mov	r4, r0
 394              	.LBB339:
 395              	.LBB334:
 396              	.LBB330:
 397              	.LBB327:
 398              	.LBB325:
 399              		.loc 5 493 3 view .LVU101
 400              		.syntax unified
 401              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 402 0006 83F31188 		MSR basepri, r3
 403              	@ 0 "" 2
 404              	.LVL17:
 405              		.loc 5 493 3 view .LVU102
 406              		.thumb
 407              		.syntax unified
 408              	.LBE325:
 409              	.LBE327:
 410              	.LBE330:
 411              	.LBE334:
 412              	.LBE339:
 356:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_lock();
 413              		.loc 3 356 34 is_stmt 1 view .LVU103
 357:./lib/chibios/os/rt/include/chsys.h **** }
 414              		.loc 3 357 20 view .LVU104
 333:lib/chibios/os/hal/src/hal_usb.c **** 
 334:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgAssert((usbp->state == USB_STOP) || (usbp->state == USB_READY) ||
 415              		.loc 1 334 3 view .LVU105
 416              		.loc 1 334 3 view .LVU106
 417              		.loc 1 334 3 view .LVU107
 335:lib/chibios/os/hal/src/hal_usb.c ****                 (usbp->state == USB_SELECTED) || (usbp->state == USB_ACTIVE) ||
 336:lib/chibios/os/hal/src/hal_usb.c ****                 (usbp->state == USB_SUSPENDED),
 337:lib/chibios/os/hal/src/hal_usb.c ****                 "invalid state");
 338:lib/chibios/os/hal/src/hal_usb.c **** 
 339:lib/chibios/os/hal/src/hal_usb.c ****   usb_lld_stop(usbp);
 418              		.loc 1 339 3 view .LVU108
 340:lib/chibios/os/hal/src/hal_usb.c ****   usbp->config = NULL;
 341:lib/chibios/os/hal/src/hal_usb.c ****   usbp->state  = USB_STOP;
 419              		.loc 1 341 16 is_stmt 0 view .LVU109
 420 000a 2546     		mov	r5, r4
 339:lib/chibios/os/hal/src/hal_usb.c ****   usbp->config = NULL;
 421              		.loc 1 339 3 view .LVU110
 422 000c FFF7FEFF 		bl	usb_lld_stop
 423              	.LVL18:
 340:lib/chibios/os/hal/src/hal_usb.c ****   usbp->config = NULL;
 424              		.loc 1 340 3 is_stmt 1 view .LVU111
 340:lib/chibios/os/hal/src/hal_usb.c ****   usbp->config = NULL;
 425              		.loc 1 340 16 is_stmt 0 view .LVU112
 426 0010 0026     		movs	r6, #0
 427              		.loc 1 341 16 view .LVU113
 428 0012 0123     		movs	r3, #1
 340:lib/chibios/os/hal/src/hal_usb.c ****   usbp->config = NULL;
 429              		.loc 1 340 16 view .LVU114
 430 0014 6660     		str	r6, [r4, #4]
 431              		.loc 1 341 3 is_stmt 1 view .LVU115
 432              		.loc 1 341 16 is_stmt 0 view .LVU116
 433 0016 05F80C3B 		strb	r3, [r5], #12
 342:lib/chibios/os/hal/src/hal_usb.c **** 
 343:lib/chibios/os/hal/src/hal_usb.c ****   /* Resetting all ongoing synchronous operations.*/
 344:lib/chibios/os/hal/src/hal_usb.c ****   for (i = 0; i <= (unsigned)USB_MAX_ENDPOINTS; i++) {
 434              		.loc 1 344 3 is_stmt 1 view .LVU117
 435              	.LVL19:
 436              		.loc 1 344 15 view .LVU118
 437 001a 2C34     		adds	r4, r4, #44
 438              	.LVL20:
 439              	.L14:
 345:lib/chibios/os/hal/src/hal_usb.c **** #if USB_USE_WAIT == TRUE
 346:lib/chibios/os/hal/src/hal_usb.c ****     if (usbp->epc[i] != NULL) {
 440              		.loc 1 346 5 view .LVU119
 441              		.loc 1 346 18 is_stmt 0 view .LVU120
 442 001c 55F8043B 		ldr	r3, [r5], #4
 443              		.loc 1 346 8 view .LVU121
 444 0020 7BB1     		cbz	r3, .L11
 347:lib/chibios/os/hal/src/hal_usb.c ****       if (usbp->epc[i]->in_state != NULL) {
 445              		.loc 1 347 7 is_stmt 1 view .LVU122
 446              		.loc 1 347 23 is_stmt 0 view .LVU123
 447 0022 5869     		ldr	r0, [r3, #20]
 448              		.loc 1 347 10 view .LVU124
 449 0024 20B1     		cbz	r0, .L12
 348:lib/chibios/os/hal/src/hal_usb.c ****         osalThreadResumeI(&usbp->epc[i]->in_state->thread, MSG_RESET);
 450              		.loc 1 348 9 is_stmt 1 view .LVU125
 451              	.LVL21:
 452              	.LBB340:
 453              	.LBI340:
 523:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 524:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 525:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 526:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Enters a critical zone from ISR context.
 527:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    This function cannot be used for reentrant critical zones.
 528:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 529:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @special
 530:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 531:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline void osalSysLockFromISR(void) {
 532:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 533:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   chSysLockFromISR();
 534:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 535:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 536:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 537:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Leaves a critical zone from ISR context.
 538:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    This function cannot be used for reentrant critical zones.
 539:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 540:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @special
 541:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 542:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline void osalSysUnlockFromISR(void) {
 543:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 544:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   chSysUnlockFromISR();
 545:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 546:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 547:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 548:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Returns the execution status and enters a critical zone.
 549:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @details This functions enters into a critical zone and can be called
 550:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          from any context. Because its flexibility it is less efficient
 551:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          than @p chSysLock() which is preferable when the calling context
 552:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          is known.
 553:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @post    The system is in a critical zone.
 554:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 555:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @return              The previous system status, the encoding of this
 556:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *                      status word is architecture-dependent and opaque.
 557:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 558:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @xclass
 559:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 560:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline syssts_t osalSysGetStatusAndLockX(void) {
 561:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 562:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   return chSysGetStatusAndLockX();
 563:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 564:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 565:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 566:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Restores the specified execution status and leaves a critical zone.
 567:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    A call to @p chSchRescheduleS() is automatically performed
 568:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          if exiting the critical zone and if not in ISR context.
 569:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 570:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] sts       the system status to be restored.
 571:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 572:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @xclass
 573:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 574:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline void osalSysRestoreStatusX(syssts_t sts) {
 575:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 576:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   chSysRestoreStatusX(sts);
 577:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 578:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 579:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 580:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Polled delay.
 581:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The real delay is always few cycles in excess of the specified
 582:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          value.
 583:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 584:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] cycles    number of cycles
 585:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 586:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @xclass
 587:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 588:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #if (PORT_SUPPORTS_RT == TRUE) || defined(__DOXYGEN__)
 589:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline void osalSysPolledDelayX(rtcnt_t cycles) {
 590:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 591:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   chSysPolledDelayX(cycles);
 592:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 593:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
 594:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 595:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 596:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Systick callback for the underlying OS.
 597:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    This callback is only defined if the OSAL requires such a
 598:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          service from the HAL.
 599:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 600:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #if (OSAL_ST_MODE != OSAL_ST_MODE_NONE) || defined(__DOXYGEN__)
 601:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline void osalOsTimerHandlerI(void) {
 602:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 603:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   chSysTimerHandlerI();
 604:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 605:./lib/chibios/os/hal/osal/rt-nil/osal.h **** #endif
 606:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 607:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 608:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Checks if a reschedule is required and performs it.
 609:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    I-Class functions invoked from thread context must not reschedule
 610:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          by themselves, an explicit reschedule using this function is
 611:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          required in this scenario.
 612:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    Not implemented in this simplified OSAL.
 613:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 614:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @sclass
 615:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 616:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline void osalOsRescheduleS(void) {
 617:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 618:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   chSchRescheduleS();
 619:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 620:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 621:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 622:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Current system time.
 623:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @details Returns the number of system ticks since the @p osalInit()
 624:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          invocation.
 625:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    The counter can reach its maximum and then restart from zero.
 626:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    This function can be called from any context but its atomicity
 627:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          is not guaranteed on architectures whose word size is less than
 628:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          @p systime_t size.
 629:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 630:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @return              The system time in ticks.
 631:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 632:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @xclass
 633:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 634:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline systime_t osalOsGetSystemTimeX(void) {
 635:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 636:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   return chVTGetSystemTimeX();
 637:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 638:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 639:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 640:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Adds an interval to a system time returning a system time.
 641:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 642:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] systime   base system time
 643:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] interval  interval to be added
 644:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @return              The new system time.
 645:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 646:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @xclass
 647:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 648:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline systime_t osalTimeAddX(systime_t systime,
 649:./lib/chibios/os/hal/osal/rt-nil/osal.h ****                                      sysinterval_t interval) {
 650:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 651:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   return chTimeAddX(systime, interval);
 652:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 653:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 654:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 655:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Subtracts two system times returning an interval.
 656:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 657:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] start     first system time
 658:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] end       second system time
 659:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @return              The interval representing the time difference.
 660:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 661:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @xclass
 662:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 663:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline sysinterval_t osalTimeDiffX(systime_t start, systime_t end) {
 664:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 665:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   return chTimeDiffX(start, end);
 666:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 667:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 668:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 669:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Checks if the specified time is within the specified time window.
 670:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    When start==end then the function returns always true because the
 671:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          whole time range is specified.
 672:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    This function can be called from any context.
 673:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 674:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] time      the time to be verified
 675:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] start     the start of the time window (inclusive)
 676:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] end       the end of the time window (non inclusive)
 677:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @retval true         current time within the specified time window.
 678:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @retval false        current time not within the specified time window.
 679:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 680:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @xclass
 681:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 682:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline bool osalTimeIsInRangeX(systime_t time,
 683:./lib/chibios/os/hal/osal/rt-nil/osal.h ****                                       systime_t start,
 684:./lib/chibios/os/hal/osal/rt-nil/osal.h ****                                       systime_t end) {
 685:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 686:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   return chTimeIsInRangeX(time, start, end);
 687:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 688:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 689:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 690:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Suspends the invoking thread for the specified time.
 691:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 692:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] delay     the delay in system ticks, the special values are
 693:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *                      handled as follow:
 694:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *                      - @a TIME_INFINITE is allowed but interpreted as a
 695:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *                        normal time specification.
 696:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *                      - @a TIME_IMMEDIATE this value is not allowed.
 697:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *                      .
 698:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 699:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @sclass
 700:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 701:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline void osalThreadSleepS(sysinterval_t delay) {
 702:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 703:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   chThdSleepS(delay);
 704:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 705:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 706:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 707:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Suspends the invoking thread for the specified time.
 708:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 709:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] delay     the delay in system ticks, the special values are
 710:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *                      handled as follow:
 711:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *                      - @a TIME_INFINITE is allowed but interpreted as a
 712:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *                        normal time specification.
 713:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *                      - @a TIME_IMMEDIATE this value is not allowed.
 714:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *                      .
 715:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 716:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @api
 717:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 718:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline void osalThreadSleep(sysinterval_t delay) {
 719:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 720:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   chThdSleep(delay);
 721:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 722:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 723:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 724:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Sends the current thread sleeping and sets a reference variable.
 725:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    This function must reschedule, it can only be called from thread
 726:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          context.
 727:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 728:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] trp       a pointer to a thread reference object
 729:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @return              The wake up message.
 730:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 731:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @sclass
 732:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 733:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline msg_t osalThreadSuspendS(thread_reference_t *trp) {
 734:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 735:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   return chThdSuspendTimeoutS(trp, TIME_INFINITE);
 736:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 737:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 738:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 739:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Sends the current thread sleeping and sets a reference variable.
 740:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    This function must reschedule, it can only be called from thread
 741:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          context.
 742:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 743:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] trp       a pointer to a thread reference object
 744:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] timeout   the timeout in system ticks, the special values are
 745:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *                      handled as follow:
 746:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *                      - @a TIME_INFINITE the thread enters an infinite sleep
 747:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *                        state.
 748:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *                      - @a TIME_IMMEDIATE the thread is not enqueued and
 749:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *                        the function returns @p MSG_TIMEOUT as if a timeout
 750:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *                        occurred.
 751:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *                      .
 752:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @return              The wake up message.
 753:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @retval MSG_TIMEOUT  if the operation timed out.
 754:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 755:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @sclass
 756:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 757:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline msg_t osalThreadSuspendTimeoutS(thread_reference_t *trp,
 758:./lib/chibios/os/hal/osal/rt-nil/osal.h ****                                               sysinterval_t timeout) {
 759:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 760:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   return chThdSuspendTimeoutS(trp, timeout);
 761:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 762:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 763:./lib/chibios/os/hal/osal/rt-nil/osal.h **** /**
 764:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @brief   Wakes up a thread waiting on a thread reference object.
 765:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @note    This function must not reschedule because it can be called from
 766:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *          ISR context.
 767:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 768:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] trp       a pointer to a thread reference object
 769:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @param[in] msg       the message code
 770:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  *
 771:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  * @iclass
 772:./lib/chibios/os/hal/osal/rt-nil/osal.h ****  */
 773:./lib/chibios/os/hal/osal/rt-nil/osal.h **** static inline void osalThreadResumeI(thread_reference_t *trp, msg_t msg) {
 454              		.loc 2 773 20 view .LVU126
 455              	.LBB341:
 774:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 775:./lib/chibios/os/hal/osal/rt-nil/osal.h ****   chThdResumeI(trp, msg);
 456              		.loc 2 775 3 view .LVU127
 457 0026 6FF00101 		mvn	r1, #1
 458 002a 0C30     		adds	r0, r0, #12
 459              	.LVL22:
 460              		.loc 2 775 3 is_stmt 0 view .LVU128
 461 002c FFF7FEFF 		bl	chThdResumeI
 462              	.LVL23:
 463              	.L12:
 464              		.loc 2 775 3 view .LVU129
 465              	.LBE341:
 466              	.LBE340:
 349:lib/chibios/os/hal/src/hal_usb.c ****       }
 350:lib/chibios/os/hal/src/hal_usb.c ****       if (usbp->epc[i]->out_state != NULL) {
 467              		.loc 1 350 7 is_stmt 1 view .LVU130
 468              		.loc 1 350 23 is_stmt 0 view .LVU131
 469 0030 55F8043C 		ldr	r3, [r5, #-4]
 470 0034 9869     		ldr	r0, [r3, #24]
 471              		.loc 1 350 10 view .LVU132
 472 0036 20B1     		cbz	r0, .L11
 351:lib/chibios/os/hal/src/hal_usb.c ****         osalThreadResumeI(&usbp->epc[i]->out_state->thread, MSG_RESET);
 473              		.loc 1 351 9 is_stmt 1 view .LVU133
 474              	.LVL24:
 475              	.LBB342:
 476              	.LBI342:
 773:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 477              		.loc 2 773 20 view .LVU134
 478              	.LBB343:
 479              		.loc 2 775 3 view .LVU135
 480 0038 6FF00101 		mvn	r1, #1
 481 003c 0C30     		adds	r0, r0, #12
 482              	.LVL25:
 483              		.loc 2 775 3 is_stmt 0 view .LVU136
 484 003e FFF7FEFF 		bl	chThdResumeI
 485              	.LVL26:
 486              	.L11:
 487              		.loc 2 775 3 view .LVU137
 488              	.LBE343:
 489              	.LBE342:
 352:lib/chibios/os/hal/src/hal_usb.c ****       }
 353:lib/chibios/os/hal/src/hal_usb.c ****     }
 354:lib/chibios/os/hal/src/hal_usb.c **** #endif
 355:lib/chibios/os/hal/src/hal_usb.c ****     usbp->epc[i] = NULL;
 490              		.loc 1 355 5 is_stmt 1 discriminator 2 view .LVU138
 344:lib/chibios/os/hal/src/hal_usb.c **** #if USB_USE_WAIT == TRUE
 491              		.loc 1 344 3 is_stmt 0 discriminator 2 view .LVU139
 492 0042 A542     		cmp	r5, r4
 493              		.loc 1 355 18 discriminator 2 view .LVU140
 494 0044 45F8046C 		str	r6, [r5, #-4]
 344:lib/chibios/os/hal/src/hal_usb.c **** #if USB_USE_WAIT == TRUE
 495              		.loc 1 344 49 is_stmt 1 discriminator 2 view .LVU141
 344:lib/chibios/os/hal/src/hal_usb.c **** #if USB_USE_WAIT == TRUE
 496              		.loc 1 344 15 discriminator 2 view .LVU142
 344:lib/chibios/os/hal/src/hal_usb.c **** #if USB_USE_WAIT == TRUE
 497              		.loc 1 344 3 is_stmt 0 discriminator 2 view .LVU143
 498 0048 E8D1     		bne	.L14
 356:lib/chibios/os/hal/src/hal_usb.c ****   }
 357:lib/chibios/os/hal/src/hal_usb.c ****   osalOsRescheduleS();
 499              		.loc 1 357 3 is_stmt 1 view .LVU144
 500              	.LBB344:
 501              	.LBI344:
 616:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 502              		.loc 2 616 20 view .LVU145
 503              	.LBB345:
 618:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 504              		.loc 2 618 3 view .LVU146
 505 004a FFF7FEFF 		bl	chSchRescheduleS
 506              	.LVL27:
 507              	.LBE345:
 508              	.LBE344:
 358:lib/chibios/os/hal/src/hal_usb.c **** 
 359:lib/chibios/os/hal/src/hal_usb.c ****   osalSysUnlock();
 509              		.loc 1 359 3 view .LVU147
 510              	.LBB346:
 511              	.LBI346:
 520:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 512              		.loc 2 520 20 view .LVU148
 513              	.LBE346:
 522:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 514              		.loc 2 522 3 view .LVU149
 515              	.LBB355:
 516              	.LBB347:
 517              	.LBI347:
 365:./lib/chibios/os/rt/include/chsys.h **** 
 518              		.loc 3 365 20 view .LVU150
 519              	.LBB348:
 367:./lib/chibios/os/rt/include/chsys.h ****   _stats_stop_measure_crit_thd();
 520              		.loc 3 367 22 view .LVU151
 368:./lib/chibios/os/rt/include/chsys.h **** 
 521              		.loc 3 368 33 view .LVU152
 374:./lib/chibios/os/rt/include/chsys.h ****               (ch.rlist.current->prio >= ch.rlist.queue.next->prio),
 522              		.loc 3 374 3 view .LVU153
 374:./lib/chibios/os/rt/include/chsys.h ****               (ch.rlist.current->prio >= ch.rlist.queue.next->prio),
 523              		.loc 3 374 3 view .LVU154
 374:./lib/chibios/os/rt/include/chsys.h ****               (ch.rlist.current->prio >= ch.rlist.queue.next->prio),
 524              		.loc 3 374 3 view .LVU155
 525              		.loc 3 378 3 view .LVU156
 526              	.LBB349:
 527              	.LBI349:
 693:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 528              		.loc 4 693 27 view .LVU157
 529              	.LBE349:
 530              	.LBE348:
 531              	.LBE347:
 532              	.LBE355:
 533              		.loc 4 696 3 view .LVU158
 534              	.LBB356:
 535              	.LBB354:
 536              	.LBB353:
 537              	.LBB352:
 538              	.LBB350:
 539              	.LBI350:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 540              		.loc 5 491 27 view .LVU159
 541              	.LBB351:
 542              		.loc 5 493 3 view .LVU160
 543              		.syntax unified
 544              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 545 004e 86F31188 		MSR basepri, r6
 546              	@ 0 "" 2
 547              	.LVL28:
 548              		.loc 5 493 3 is_stmt 0 view .LVU161
 549              		.thumb
 550              		.syntax unified
 551              	.LBE351:
 552              	.LBE350:
 553              	.LBE352:
 554              	.LBE353:
 555              	.LBE354:
 556              	.LBE356:
 360:lib/chibios/os/hal/src/hal_usb.c **** }
 557              		.loc 1 360 1 view .LVU162
 558 0052 70BD     		pop	{r4, r5, r6, pc}
 559              		.loc 1 360 1 view .LVU163
 560              		.cfi_endproc
 561              	.LFE284:
 563              		.section	.text.usbInitEndpointI,"ax",%progbits
 564              		.align	1
 565              		.global	usbInitEndpointI
 566              		.syntax unified
 567              		.thumb
 568              		.thumb_func
 569              		.fpu fpv4-sp-d16
 571              	usbInitEndpointI:
 572              	.LVL29:
 573              	.LFB285:
 361:lib/chibios/os/hal/src/hal_usb.c **** 
 362:lib/chibios/os/hal/src/hal_usb.c **** /**
 363:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   Enables an endpoint.
 364:lib/chibios/os/hal/src/hal_usb.c ****  * @details This function enables an endpoint, both IN and/or OUT directions
 365:lib/chibios/os/hal/src/hal_usb.c ****  *          depending on the configuration structure.
 366:lib/chibios/os/hal/src/hal_usb.c ****  * @note    This function must be invoked in response of a SET_CONFIGURATION
 367:lib/chibios/os/hal/src/hal_usb.c ****  *          or SET_INTERFACE message.
 368:lib/chibios/os/hal/src/hal_usb.c ****  *
 369:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] usbp      pointer to the @p USBDriver object
 370:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] ep        endpoint number
 371:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] epcp      the endpoint configuration
 372:lib/chibios/os/hal/src/hal_usb.c ****  *
 373:lib/chibios/os/hal/src/hal_usb.c ****  * @iclass
 374:lib/chibios/os/hal/src/hal_usb.c ****  */
 375:lib/chibios/os/hal/src/hal_usb.c **** void usbInitEndpointI(USBDriver *usbp, usbep_t ep,
 376:lib/chibios/os/hal/src/hal_usb.c ****                       const USBEndpointConfig *epcp) {
 574              		.loc 1 376 54 is_stmt 1 view -0
 575              		.cfi_startproc
 576              		@ args = 0, pretend = 0, frame = 0
 577              		@ frame_needed = 0, uses_anonymous_args = 0
 377:lib/chibios/os/hal/src/hal_usb.c **** 
 378:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgCheckClassI();
 578              		.loc 1 378 23 view .LVU165
 379:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgCheck((usbp != NULL) && (epcp != NULL));
 579              		.loc 1 379 3 view .LVU166
 580              		.loc 1 379 3 view .LVU167
 581              		.loc 1 379 3 view .LVU168
 380:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgAssert(usbp->state == USB_ACTIVE,
 582              		.loc 1 380 3 view .LVU169
 583              		.loc 1 380 3 view .LVU170
 584              		.loc 1 380 3 view .LVU171
 381:lib/chibios/os/hal/src/hal_usb.c ****                 "invalid state");
 382:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgAssert(usbp->epc[ep] == NULL, "already initialized");
 585              		.loc 1 382 3 view .LVU172
 586              		.loc 1 382 3 view .LVU173
 587              		.loc 1 382 3 view .LVU174
 383:lib/chibios/os/hal/src/hal_usb.c **** 
 384:lib/chibios/os/hal/src/hal_usb.c ****   /* Logically enabling the endpoint in the USBDriver structure.*/
 385:lib/chibios/os/hal/src/hal_usb.c ****   usbp->epc[ep] = epcp;
 588              		.loc 1 385 3 view .LVU175
 376:lib/chibios/os/hal/src/hal_usb.c **** 
 589              		.loc 1 376 54 is_stmt 0 view .LVU176
 590 0000 70B5     		push	{r4, r5, r6, lr}
 591              		.cfi_def_cfa_offset 16
 592              		.cfi_offset 4, -16
 593              		.cfi_offset 5, -12
 594              		.cfi_offset 6, -8
 595              		.cfi_offset 14, -4
 596              		.loc 1 385 17 view .LVU177
 597 0002 00EB8103 		add	r3, r0, r1, lsl #2
 376:lib/chibios/os/hal/src/hal_usb.c **** 
 598              		.loc 1 376 54 view .LVU178
 599 0006 0546     		mov	r5, r0
 386:lib/chibios/os/hal/src/hal_usb.c **** 
 387:lib/chibios/os/hal/src/hal_usb.c ****   /* Clearing the state structures, custom fields as well.*/
 388:lib/chibios/os/hal/src/hal_usb.c ****   if (epcp->in_state != NULL) {
 600              		.loc 1 388 11 view .LVU179
 601 0008 5069     		ldr	r0, [r2, #20]
 602              	.LVL30:
 385:lib/chibios/os/hal/src/hal_usb.c **** 
 603              		.loc 1 385 17 view .LVU180
 604 000a DA60     		str	r2, [r3, #12]
 605              		.loc 1 388 3 is_stmt 1 view .LVU181
 376:lib/chibios/os/hal/src/hal_usb.c **** 
 606              		.loc 1 376 54 is_stmt 0 view .LVU182
 607 000c 0E46     		mov	r6, r1
 608 000e 1446     		mov	r4, r2
 609              		.loc 1 388 6 view .LVU183
 610 0010 18B1     		cbz	r0, .L23
 389:lib/chibios/os/hal/src/hal_usb.c ****     memset(epcp->in_state, 0, sizeof(USBInEndpointState));
 611              		.loc 1 389 5 is_stmt 1 view .LVU184
 612 0012 1422     		movs	r2, #20
 613              	.LVL31:
 614              		.loc 1 389 5 is_stmt 0 view .LVU185
 615 0014 0021     		movs	r1, #0
 616              	.LVL32:
 617              		.loc 1 389 5 view .LVU186
 618 0016 FFF7FEFF 		bl	memset
 619              	.LVL33:
 620              	.L23:
 390:lib/chibios/os/hal/src/hal_usb.c ****   }
 391:lib/chibios/os/hal/src/hal_usb.c ****   if (epcp->out_state != NULL) {
 621              		.loc 1 391 3 is_stmt 1 view .LVU187
 622              		.loc 1 391 11 is_stmt 0 view .LVU188
 623 001a A069     		ldr	r0, [r4, #24]
 624              		.loc 1 391 6 view .LVU189
 625 001c 18B1     		cbz	r0, .L24
 392:lib/chibios/os/hal/src/hal_usb.c ****     memset(epcp->out_state, 0, sizeof(USBOutEndpointState));
 626              		.loc 1 392 5 is_stmt 1 view .LVU190
 627 001e 1422     		movs	r2, #20
 628 0020 0021     		movs	r1, #0
 629 0022 FFF7FEFF 		bl	memset
 630              	.LVL34:
 631              	.L24:
 393:lib/chibios/os/hal/src/hal_usb.c ****   }
 394:lib/chibios/os/hal/src/hal_usb.c **** 
 395:lib/chibios/os/hal/src/hal_usb.c ****   /* Low level endpoint activation.*/
 396:lib/chibios/os/hal/src/hal_usb.c ****   usb_lld_init_endpoint(usbp, ep);
 632              		.loc 1 396 3 view .LVU191
 633 0026 3146     		mov	r1, r6
 634 0028 2846     		mov	r0, r5
 397:lib/chibios/os/hal/src/hal_usb.c **** }
 635              		.loc 1 397 1 is_stmt 0 view .LVU192
 636 002a BDE87040 		pop	{r4, r5, r6, lr}
 637              		.cfi_restore 14
 638              		.cfi_restore 6
 639              		.cfi_restore 5
 640              		.cfi_restore 4
 641              		.cfi_def_cfa_offset 0
 642              	.LVL35:
 396:lib/chibios/os/hal/src/hal_usb.c **** }
 643              		.loc 1 396 3 view .LVU193
 644 002e FFF7FEBF 		b	usb_lld_init_endpoint
 645              	.LVL36:
 396:lib/chibios/os/hal/src/hal_usb.c **** }
 646              		.loc 1 396 3 view .LVU194
 647              		.cfi_endproc
 648              	.LFE285:
 650              		.section	.text.usbDisableEndpointsI,"ax",%progbits
 651              		.align	1
 652              		.global	usbDisableEndpointsI
 653              		.syntax unified
 654              		.thumb
 655              		.thumb_func
 656              		.fpu fpv4-sp-d16
 658              	usbDisableEndpointsI:
 659              	.LVL37:
 660              	.LFB286:
 398:lib/chibios/os/hal/src/hal_usb.c **** 
 399:lib/chibios/os/hal/src/hal_usb.c **** /**
 400:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   Disables all the active endpoints.
 401:lib/chibios/os/hal/src/hal_usb.c ****  * @details This function disables all the active endpoints except the
 402:lib/chibios/os/hal/src/hal_usb.c ****  *          endpoint zero.
 403:lib/chibios/os/hal/src/hal_usb.c ****  * @note    This function must be invoked in response of a SET_CONFIGURATION
 404:lib/chibios/os/hal/src/hal_usb.c ****  *          message with configuration number zero.
 405:lib/chibios/os/hal/src/hal_usb.c ****  *
 406:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] usbp      pointer to the @p USBDriver object
 407:lib/chibios/os/hal/src/hal_usb.c ****  *
 408:lib/chibios/os/hal/src/hal_usb.c ****  * @iclass
 409:lib/chibios/os/hal/src/hal_usb.c ****  */
 410:lib/chibios/os/hal/src/hal_usb.c **** void usbDisableEndpointsI(USBDriver *usbp) {
 661              		.loc 1 410 44 is_stmt 1 view -0
 662              		.cfi_startproc
 663              		@ args = 0, pretend = 0, frame = 0
 664              		@ frame_needed = 0, uses_anonymous_args = 0
 411:lib/chibios/os/hal/src/hal_usb.c ****   unsigned i;
 665              		.loc 1 411 3 view .LVU196
 412:lib/chibios/os/hal/src/hal_usb.c **** 
 413:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgCheckClassI();
 666              		.loc 1 413 23 view .LVU197
 414:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgCheck(usbp != NULL);
 667              		.loc 1 414 3 view .LVU198
 668              		.loc 1 414 3 view .LVU199
 669              		.loc 1 414 3 view .LVU200
 415:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgAssert(usbp->state == USB_ACTIVE, "invalid state");
 670              		.loc 1 415 3 view .LVU201
 671              		.loc 1 415 3 view .LVU202
 672              		.loc 1 415 3 view .LVU203
 416:lib/chibios/os/hal/src/hal_usb.c **** 
 417:lib/chibios/os/hal/src/hal_usb.c ****   usbp->transmitting &= 1U;
 673              		.loc 1 417 3 view .LVU204
 418:lib/chibios/os/hal/src/hal_usb.c ****   usbp->receiving    &= 1U;
 674              		.loc 1 418 3 view .LVU205
 410:lib/chibios/os/hal/src/hal_usb.c ****   unsigned i;
 675              		.loc 1 410 44 is_stmt 0 view .LVU206
 676 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 677              		.cfi_def_cfa_offset 24
 678              		.cfi_offset 3, -24
 679              		.cfi_offset 4, -20
 680              		.cfi_offset 5, -16
 681              		.cfi_offset 6, -12
 682              		.cfi_offset 7, -8
 683              		.cfi_offset 14, -4
 417:lib/chibios/os/hal/src/hal_usb.c ****   usbp->receiving    &= 1U;
 684              		.loc 1 417 22 view .LVU207
 685 0002 8368     		ldr	r3, [r0, #8]
 686 0004 03F00113 		and	r3, r3, #65537
 410:lib/chibios/os/hal/src/hal_usb.c ****   unsigned i;
 687              		.loc 1 410 44 view .LVU208
 688 0008 0446     		mov	r4, r0
 417:lib/chibios/os/hal/src/hal_usb.c ****   usbp->receiving    &= 1U;
 689              		.loc 1 417 22 view .LVU209
 690 000a 8360     		str	r3, [r0, #8]
 419:lib/chibios/os/hal/src/hal_usb.c **** 
 420:lib/chibios/os/hal/src/hal_usb.c ****   for (i = 1; i <= (unsigned)USB_MAX_ENDPOINTS; i++) {
 691              		.loc 1 420 3 is_stmt 1 view .LVU210
 692              	.LVL38:
 693              		.loc 1 420 15 view .LVU211
 694 000c 00F11005 		add	r5, r0, #16
 695 0010 00F12C06 		add	r6, r0, #44
 421:lib/chibios/os/hal/src/hal_usb.c **** #if USB_USE_WAIT == TRUE
 422:lib/chibios/os/hal/src/hal_usb.c ****     /* Signaling the event to threads waiting on endpoints.*/
 423:lib/chibios/os/hal/src/hal_usb.c ****     if (usbp->epc[i] != NULL) {
 424:lib/chibios/os/hal/src/hal_usb.c ****       if (usbp->epc[i]->in_state != NULL) {
 425:lib/chibios/os/hal/src/hal_usb.c ****         osalThreadResumeI(&usbp->epc[i]->in_state->thread, MSG_RESET);
 426:lib/chibios/os/hal/src/hal_usb.c ****       }
 427:lib/chibios/os/hal/src/hal_usb.c ****       if (usbp->epc[i]->out_state != NULL) {
 428:lib/chibios/os/hal/src/hal_usb.c ****         osalThreadResumeI(&usbp->epc[i]->out_state->thread, MSG_RESET);
 429:lib/chibios/os/hal/src/hal_usb.c ****       }
 430:lib/chibios/os/hal/src/hal_usb.c ****     }
 431:lib/chibios/os/hal/src/hal_usb.c **** #endif
 432:lib/chibios/os/hal/src/hal_usb.c ****     usbp->epc[i] = NULL;
 696              		.loc 1 432 18 is_stmt 0 view .LVU212
 697 0014 0027     		movs	r7, #0
 698              	.LVL39:
 699              	.L36:
 423:lib/chibios/os/hal/src/hal_usb.c ****       if (usbp->epc[i]->in_state != NULL) {
 700              		.loc 1 423 5 is_stmt 1 view .LVU213
 423:lib/chibios/os/hal/src/hal_usb.c ****       if (usbp->epc[i]->in_state != NULL) {
 701              		.loc 1 423 18 is_stmt 0 view .LVU214
 702 0016 55F8043B 		ldr	r3, [r5], #4
 423:lib/chibios/os/hal/src/hal_usb.c ****       if (usbp->epc[i]->in_state != NULL) {
 703              		.loc 1 423 8 view .LVU215
 704 001a 7BB1     		cbz	r3, .L33
 424:lib/chibios/os/hal/src/hal_usb.c ****         osalThreadResumeI(&usbp->epc[i]->in_state->thread, MSG_RESET);
 705              		.loc 1 424 7 is_stmt 1 view .LVU216
 424:lib/chibios/os/hal/src/hal_usb.c ****         osalThreadResumeI(&usbp->epc[i]->in_state->thread, MSG_RESET);
 706              		.loc 1 424 23 is_stmt 0 view .LVU217
 707 001c 5869     		ldr	r0, [r3, #20]
 424:lib/chibios/os/hal/src/hal_usb.c ****         osalThreadResumeI(&usbp->epc[i]->in_state->thread, MSG_RESET);
 708              		.loc 1 424 10 view .LVU218
 709 001e 20B1     		cbz	r0, .L34
 425:lib/chibios/os/hal/src/hal_usb.c ****       }
 710              		.loc 1 425 9 is_stmt 1 view .LVU219
 711              	.LVL40:
 712              	.LBB357:
 713              	.LBI357:
 773:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 714              		.loc 2 773 20 view .LVU220
 715              	.LBB358:
 716              		.loc 2 775 3 view .LVU221
 717 0020 6FF00101 		mvn	r1, #1
 718 0024 0C30     		adds	r0, r0, #12
 719              	.LVL41:
 720              		.loc 2 775 3 is_stmt 0 view .LVU222
 721 0026 FFF7FEFF 		bl	chThdResumeI
 722              	.LVL42:
 723              	.L34:
 724              		.loc 2 775 3 view .LVU223
 725              	.LBE358:
 726              	.LBE357:
 427:lib/chibios/os/hal/src/hal_usb.c ****         osalThreadResumeI(&usbp->epc[i]->out_state->thread, MSG_RESET);
 727              		.loc 1 427 7 is_stmt 1 view .LVU224
 427:lib/chibios/os/hal/src/hal_usb.c ****         osalThreadResumeI(&usbp->epc[i]->out_state->thread, MSG_RESET);
 728              		.loc 1 427 23 is_stmt 0 view .LVU225
 729 002a 55F8043C 		ldr	r3, [r5, #-4]
 730 002e 9869     		ldr	r0, [r3, #24]
 427:lib/chibios/os/hal/src/hal_usb.c ****         osalThreadResumeI(&usbp->epc[i]->out_state->thread, MSG_RESET);
 731              		.loc 1 427 10 view .LVU226
 732 0030 20B1     		cbz	r0, .L33
 428:lib/chibios/os/hal/src/hal_usb.c ****       }
 733              		.loc 1 428 9 is_stmt 1 view .LVU227
 734              	.LVL43:
 735              	.LBB359:
 736              	.LBI359:
 773:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 737              		.loc 2 773 20 view .LVU228
 738              	.LBB360:
 739              		.loc 2 775 3 view .LVU229
 740 0032 6FF00101 		mvn	r1, #1
 741 0036 0C30     		adds	r0, r0, #12
 742              	.LVL44:
 743              		.loc 2 775 3 is_stmt 0 view .LVU230
 744 0038 FFF7FEFF 		bl	chThdResumeI
 745              	.LVL45:
 746              	.L33:
 747              		.loc 2 775 3 view .LVU231
 748              	.LBE360:
 749              	.LBE359:
 750              		.loc 1 432 5 is_stmt 1 discriminator 2 view .LVU232
 420:lib/chibios/os/hal/src/hal_usb.c **** #if USB_USE_WAIT == TRUE
 751              		.loc 1 420 3 is_stmt 0 discriminator 2 view .LVU233
 752 003c B542     		cmp	r5, r6
 753              		.loc 1 432 18 discriminator 2 view .LVU234
 754 003e 45F8047C 		str	r7, [r5, #-4]
 420:lib/chibios/os/hal/src/hal_usb.c **** #if USB_USE_WAIT == TRUE
 755              		.loc 1 420 49 is_stmt 1 discriminator 2 view .LVU235
 420:lib/chibios/os/hal/src/hal_usb.c **** #if USB_USE_WAIT == TRUE
 756              		.loc 1 420 15 discriminator 2 view .LVU236
 420:lib/chibios/os/hal/src/hal_usb.c **** #if USB_USE_WAIT == TRUE
 757              		.loc 1 420 3 is_stmt 0 discriminator 2 view .LVU237
 758 0042 E8D1     		bne	.L36
 433:lib/chibios/os/hal/src/hal_usb.c ****   }
 434:lib/chibios/os/hal/src/hal_usb.c **** 
 435:lib/chibios/os/hal/src/hal_usb.c ****   /* Low level endpoints deactivation.*/
 436:lib/chibios/os/hal/src/hal_usb.c ****   usb_lld_disable_endpoints(usbp);
 759              		.loc 1 436 3 is_stmt 1 view .LVU238
 760 0044 2046     		mov	r0, r4
 437:lib/chibios/os/hal/src/hal_usb.c **** }
 761              		.loc 1 437 1 is_stmt 0 view .LVU239
 762 0046 BDE8F840 		pop	{r3, r4, r5, r6, r7, lr}
 763              		.cfi_restore 14
 764              		.cfi_restore 7
 765              		.cfi_restore 6
 766              		.cfi_restore 5
 767              		.cfi_restore 4
 768              		.cfi_restore 3
 769              		.cfi_def_cfa_offset 0
 770              	.LVL46:
 436:lib/chibios/os/hal/src/hal_usb.c **** }
 771              		.loc 1 436 3 view .LVU240
 772 004a FFF7FEBF 		b	usb_lld_disable_endpoints
 773              	.LVL47:
 436:lib/chibios/os/hal/src/hal_usb.c **** }
 774              		.loc 1 436 3 view .LVU241
 775              		.cfi_endproc
 776              	.LFE286:
 778              		.section	.text.usbStartReceiveI,"ax",%progbits
 779              		.align	1
 780              		.global	usbStartReceiveI
 781              		.syntax unified
 782              		.thumb
 783              		.thumb_func
 784              		.fpu fpv4-sp-d16
 786              	usbStartReceiveI:
 787              	.LVL48:
 788              	.LFB287:
 438:lib/chibios/os/hal/src/hal_usb.c **** 
 439:lib/chibios/os/hal/src/hal_usb.c **** /**
 440:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   Starts a receive transaction on an OUT endpoint.
 441:lib/chibios/os/hal/src/hal_usb.c ****  * @note    This function is meant to be called from ISR context outside
 442:lib/chibios/os/hal/src/hal_usb.c ****  *          critical zones because there is a potentially slow operation
 443:lib/chibios/os/hal/src/hal_usb.c ****  *          inside.
 444:lib/chibios/os/hal/src/hal_usb.c ****  *
 445:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] usbp      pointer to the @p USBDriver object
 446:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] ep        endpoint number
 447:lib/chibios/os/hal/src/hal_usb.c ****  * @param[out] buf      buffer where to copy the received data
 448:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] n         transaction size. It is recommended a multiple of
 449:lib/chibios/os/hal/src/hal_usb.c ****  *                      the packet size because the excess is discarded.
 450:lib/chibios/os/hal/src/hal_usb.c ****  *
 451:lib/chibios/os/hal/src/hal_usb.c ****  * @iclass
 452:lib/chibios/os/hal/src/hal_usb.c ****  */
 453:lib/chibios/os/hal/src/hal_usb.c **** void usbStartReceiveI(USBDriver *usbp, usbep_t ep,
 454:lib/chibios/os/hal/src/hal_usb.c ****                       uint8_t *buf, size_t n) {
 789              		.loc 1 454 47 is_stmt 1 view -0
 790              		.cfi_startproc
 791              		@ args = 0, pretend = 0, frame = 0
 792              		@ frame_needed = 0, uses_anonymous_args = 0
 793              		@ link register save eliminated.
 455:lib/chibios/os/hal/src/hal_usb.c ****   USBOutEndpointState *osp;
 794              		.loc 1 455 3 view .LVU243
 456:lib/chibios/os/hal/src/hal_usb.c **** 
 457:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgCheckClassI();
 795              		.loc 1 457 23 view .LVU244
 458:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgCheck((usbp != NULL) && (ep <= (usbep_t)USB_MAX_ENDPOINTS));
 796              		.loc 1 458 3 view .LVU245
 797              		.loc 1 458 3 view .LVU246
 798              		.loc 1 458 3 view .LVU247
 459:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgAssert(!usbGetReceiveStatusI(usbp, ep), "already receiving");
 799              		.loc 1 459 3 view .LVU248
 800              		.loc 1 459 3 view .LVU249
 801              		.loc 1 459 3 view .LVU250
 460:lib/chibios/os/hal/src/hal_usb.c **** 
 461:lib/chibios/os/hal/src/hal_usb.c ****   /* Marking the endpoint as active.*/
 462:lib/chibios/os/hal/src/hal_usb.c ****   usbp->receiving |= (uint16_t)((unsigned)1U << (unsigned)ep);
 802              		.loc 1 462 3 view .LVU251
 454:lib/chibios/os/hal/src/hal_usb.c ****   USBOutEndpointState *osp;
 803              		.loc 1 454 47 is_stmt 0 view .LVU252
 804 0000 F0B4     		push	{r4, r5, r6, r7}
 805              		.cfi_def_cfa_offset 16
 806              		.cfi_offset 4, -16
 807              		.cfi_offset 5, -12
 808              		.cfi_offset 6, -8
 809              		.cfi_offset 7, -4
 463:lib/chibios/os/hal/src/hal_usb.c **** 
 464:lib/chibios/os/hal/src/hal_usb.c ****   /* Setting up the transfer.*/
 465:lib/chibios/os/hal/src/hal_usb.c ****   /*lint -save -e661 [18.1] pclint is confused by the check on ep.*/
 466:lib/chibios/os/hal/src/hal_usb.c ****   osp = usbp->epc[ep]->out_state;
 810              		.loc 1 466 18 view .LVU253
 811 0002 00EB8104 		add	r4, r0, r1, lsl #2
 462:lib/chibios/os/hal/src/hal_usb.c **** 
 812              		.loc 1 462 19 view .LVU254
 813 0006 4789     		ldrh	r7, [r0, #10]
 814              		.loc 1 466 7 view .LVU255
 815 0008 E468     		ldr	r4, [r4, #12]
 462:lib/chibios/os/hal/src/hal_usb.c **** 
 816              		.loc 1 462 46 view .LVU256
 817 000a 0125     		movs	r5, #1
 818              		.loc 1 466 7 view .LVU257
 819 000c A469     		ldr	r4, [r4, #24]
 462:lib/chibios/os/hal/src/hal_usb.c **** 
 820              		.loc 1 462 46 view .LVU258
 821 000e 8D40     		lsls	r5, r5, r1
 462:lib/chibios/os/hal/src/hal_usb.c **** 
 822              		.loc 1 462 19 view .LVU259
 823 0010 3D43     		orrs	r5, r5, r7
 824 0012 4581     		strh	r5, [r0, #10]	@ movhi
 825              		.loc 1 466 3 is_stmt 1 view .LVU260
 826              	.LVL49:
 467:lib/chibios/os/hal/src/hal_usb.c ****   /*lint -restore*/
 468:lib/chibios/os/hal/src/hal_usb.c ****   osp->rxbuf  = buf;
 827              		.loc 1 468 3 view .LVU261
 469:lib/chibios/os/hal/src/hal_usb.c ****   osp->rxsize = n;
 828              		.loc 1 469 15 is_stmt 0 view .LVU262
 829 0014 2360     		str	r3, [r4]
 470:lib/chibios/os/hal/src/hal_usb.c ****   osp->rxcnt  = 0;
 830              		.loc 1 470 15 view .LVU263
 831 0016 0023     		movs	r3, #0
 832              	.LVL50:
 468:lib/chibios/os/hal/src/hal_usb.c ****   osp->rxsize = n;
 833              		.loc 1 468 15 view .LVU264
 834 0018 A260     		str	r2, [r4, #8]
 469:lib/chibios/os/hal/src/hal_usb.c ****   osp->rxsize = n;
 835              		.loc 1 469 3 is_stmt 1 view .LVU265
 836              		.loc 1 470 3 view .LVU266
 837              		.loc 1 470 15 is_stmt 0 view .LVU267
 838 001a 6360     		str	r3, [r4, #4]
 471:lib/chibios/os/hal/src/hal_usb.c **** #if USB_USE_WAIT == TRUE
 472:lib/chibios/os/hal/src/hal_usb.c ****   osp->thread = NULL;
 839              		.loc 1 472 3 is_stmt 1 view .LVU268
 840              		.loc 1 472 15 is_stmt 0 view .LVU269
 841 001c E360     		str	r3, [r4, #12]
 473:lib/chibios/os/hal/src/hal_usb.c **** #endif
 474:lib/chibios/os/hal/src/hal_usb.c **** 
 475:lib/chibios/os/hal/src/hal_usb.c ****   /* Starting transfer.*/
 476:lib/chibios/os/hal/src/hal_usb.c ****   usb_lld_start_out(usbp, ep);
 842              		.loc 1 476 3 is_stmt 1 view .LVU270
 477:lib/chibios/os/hal/src/hal_usb.c **** }
 843              		.loc 1 477 1 is_stmt 0 view .LVU271
 844 001e F0BC     		pop	{r4, r5, r6, r7}
 845              		.cfi_restore 7
 846              		.cfi_restore 6
 847              		.cfi_restore 5
 848              		.cfi_restore 4
 849              		.cfi_def_cfa_offset 0
 850              	.LVL51:
 476:lib/chibios/os/hal/src/hal_usb.c **** }
 851              		.loc 1 476 3 view .LVU272
 852 0020 FFF7FEBF 		b	usb_lld_start_out
 853              	.LVL52:
 476:lib/chibios/os/hal/src/hal_usb.c **** }
 854              		.loc 1 476 3 view .LVU273
 855              		.cfi_endproc
 856              	.LFE287:
 858              		.section	.text.usbStartTransmitI,"ax",%progbits
 859              		.align	1
 860              		.global	usbStartTransmitI
 861              		.syntax unified
 862              		.thumb
 863              		.thumb_func
 864              		.fpu fpv4-sp-d16
 866              	usbStartTransmitI:
 867              	.LVL53:
 868              	.LFB288:
 478:lib/chibios/os/hal/src/hal_usb.c **** 
 479:lib/chibios/os/hal/src/hal_usb.c **** /**
 480:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   Starts a transmit transaction on an IN endpoint.
 481:lib/chibios/os/hal/src/hal_usb.c ****  * @note    This function is meant to be called from ISR context outside
 482:lib/chibios/os/hal/src/hal_usb.c ****  *          critical zones because there is a potentially slow operation
 483:lib/chibios/os/hal/src/hal_usb.c ****  *          inside.
 484:lib/chibios/os/hal/src/hal_usb.c ****  *
 485:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] usbp      pointer to the @p USBDriver object
 486:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] ep        endpoint number
 487:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] buf       buffer where to fetch the data to be transmitted
 488:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] n         transaction size
 489:lib/chibios/os/hal/src/hal_usb.c ****  *
 490:lib/chibios/os/hal/src/hal_usb.c ****  * @iclass
 491:lib/chibios/os/hal/src/hal_usb.c ****  */
 492:lib/chibios/os/hal/src/hal_usb.c **** void usbStartTransmitI(USBDriver *usbp, usbep_t ep,
 493:lib/chibios/os/hal/src/hal_usb.c ****                        const uint8_t *buf, size_t n) {
 869              		.loc 1 493 54 is_stmt 1 view -0
 870              		.cfi_startproc
 871              		@ args = 0, pretend = 0, frame = 0
 872              		@ frame_needed = 0, uses_anonymous_args = 0
 873              		@ link register save eliminated.
 494:lib/chibios/os/hal/src/hal_usb.c ****   USBInEndpointState *isp;
 874              		.loc 1 494 3 view .LVU275
 495:lib/chibios/os/hal/src/hal_usb.c **** 
 496:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgCheckClassI();
 875              		.loc 1 496 23 view .LVU276
 497:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgCheck((usbp != NULL) && (ep <= (usbep_t)USB_MAX_ENDPOINTS));
 876              		.loc 1 497 3 view .LVU277
 877              		.loc 1 497 3 view .LVU278
 878              		.loc 1 497 3 view .LVU279
 498:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgAssert(!usbGetTransmitStatusI(usbp, ep), "already transmitting");
 879              		.loc 1 498 3 view .LVU280
 880              		.loc 1 498 3 view .LVU281
 881              		.loc 1 498 3 view .LVU282
 499:lib/chibios/os/hal/src/hal_usb.c **** 
 500:lib/chibios/os/hal/src/hal_usb.c ****   /* Marking the endpoint as active.*/
 501:lib/chibios/os/hal/src/hal_usb.c ****   usbp->transmitting |= (uint16_t)((unsigned)1U << (unsigned)ep);
 882              		.loc 1 501 3 view .LVU283
 493:lib/chibios/os/hal/src/hal_usb.c ****   USBInEndpointState *isp;
 883              		.loc 1 493 54 is_stmt 0 view .LVU284
 884 0000 F0B4     		push	{r4, r5, r6, r7}
 885              		.cfi_def_cfa_offset 16
 886              		.cfi_offset 4, -16
 887              		.cfi_offset 5, -12
 888              		.cfi_offset 6, -8
 889              		.cfi_offset 7, -4
 502:lib/chibios/os/hal/src/hal_usb.c **** 
 503:lib/chibios/os/hal/src/hal_usb.c ****   /* Setting up the transfer.*/
 504:lib/chibios/os/hal/src/hal_usb.c ****   /*lint -save -e661 [18.1] pclint is confused by the check on ep.*/
 505:lib/chibios/os/hal/src/hal_usb.c ****   isp = usbp->epc[ep]->in_state;
 890              		.loc 1 505 18 view .LVU285
 891 0002 00EB8104 		add	r4, r0, r1, lsl #2
 501:lib/chibios/os/hal/src/hal_usb.c **** 
 892              		.loc 1 501 22 view .LVU286
 893 0006 0789     		ldrh	r7, [r0, #8]
 894              		.loc 1 505 7 view .LVU287
 895 0008 E468     		ldr	r4, [r4, #12]
 501:lib/chibios/os/hal/src/hal_usb.c **** 
 896              		.loc 1 501 49 view .LVU288
 897 000a 0125     		movs	r5, #1
 898              		.loc 1 505 7 view .LVU289
 899 000c 6469     		ldr	r4, [r4, #20]
 501:lib/chibios/os/hal/src/hal_usb.c **** 
 900              		.loc 1 501 49 view .LVU290
 901 000e 8D40     		lsls	r5, r5, r1
 501:lib/chibios/os/hal/src/hal_usb.c **** 
 902              		.loc 1 501 22 view .LVU291
 903 0010 3D43     		orrs	r5, r5, r7
 904 0012 0581     		strh	r5, [r0, #8]	@ movhi
 905              		.loc 1 505 3 is_stmt 1 view .LVU292
 906              	.LVL54:
 506:lib/chibios/os/hal/src/hal_usb.c ****   /*lint -restore*/
 507:lib/chibios/os/hal/src/hal_usb.c ****   isp->txbuf  = buf;
 907              		.loc 1 507 3 view .LVU293
 508:lib/chibios/os/hal/src/hal_usb.c ****   isp->txsize = n;
 908              		.loc 1 508 15 is_stmt 0 view .LVU294
 909 0014 2360     		str	r3, [r4]
 509:lib/chibios/os/hal/src/hal_usb.c ****   isp->txcnt  = 0;
 910              		.loc 1 509 15 view .LVU295
 911 0016 0023     		movs	r3, #0
 912              	.LVL55:
 507:lib/chibios/os/hal/src/hal_usb.c ****   isp->txsize = n;
 913              		.loc 1 507 15 view .LVU296
 914 0018 A260     		str	r2, [r4, #8]
 508:lib/chibios/os/hal/src/hal_usb.c ****   isp->txsize = n;
 915              		.loc 1 508 3 is_stmt 1 view .LVU297
 916              		.loc 1 509 3 view .LVU298
 917              		.loc 1 509 15 is_stmt 0 view .LVU299
 918 001a 6360     		str	r3, [r4, #4]
 510:lib/chibios/os/hal/src/hal_usb.c **** #if USB_USE_WAIT == TRUE
 511:lib/chibios/os/hal/src/hal_usb.c ****   isp->thread = NULL;
 919              		.loc 1 511 3 is_stmt 1 view .LVU300
 920              		.loc 1 511 15 is_stmt 0 view .LVU301
 921 001c E360     		str	r3, [r4, #12]
 512:lib/chibios/os/hal/src/hal_usb.c **** #endif
 513:lib/chibios/os/hal/src/hal_usb.c **** 
 514:lib/chibios/os/hal/src/hal_usb.c ****   /* Starting transfer.*/
 515:lib/chibios/os/hal/src/hal_usb.c ****   usb_lld_start_in(usbp, ep);
 922              		.loc 1 515 3 is_stmt 1 view .LVU302
 516:lib/chibios/os/hal/src/hal_usb.c **** }
 923              		.loc 1 516 1 is_stmt 0 view .LVU303
 924 001e F0BC     		pop	{r4, r5, r6, r7}
 925              		.cfi_restore 7
 926              		.cfi_restore 6
 927              		.cfi_restore 5
 928              		.cfi_restore 4
 929              		.cfi_def_cfa_offset 0
 930              	.LVL56:
 515:lib/chibios/os/hal/src/hal_usb.c **** }
 931              		.loc 1 515 3 view .LVU304
 932 0020 FFF7FEBF 		b	usb_lld_start_in
 933              	.LVL57:
 515:lib/chibios/os/hal/src/hal_usb.c **** }
 934              		.loc 1 515 3 view .LVU305
 935              		.cfi_endproc
 936              	.LFE288:
 938              		.section	.text.usbReceive,"ax",%progbits
 939              		.align	1
 940              		.global	usbReceive
 941              		.syntax unified
 942              		.thumb
 943              		.thumb_func
 944              		.fpu fpv4-sp-d16
 946              	usbReceive:
 947              	.LVL58:
 948              	.LFB289:
 517:lib/chibios/os/hal/src/hal_usb.c **** 
 518:lib/chibios/os/hal/src/hal_usb.c **** #if (USB_USE_WAIT == TRUE) || defined(__DOXYGEN__)
 519:lib/chibios/os/hal/src/hal_usb.c **** /**
 520:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   Performs a receive transaction on an OUT endpoint.
 521:lib/chibios/os/hal/src/hal_usb.c ****  *
 522:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] usbp      pointer to the @p USBDriver object
 523:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] ep        endpoint number
 524:lib/chibios/os/hal/src/hal_usb.c ****  * @param[out] buf      buffer where to copy the received data
 525:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] n         transaction size. It is recommended a multiple of
 526:lib/chibios/os/hal/src/hal_usb.c ****  *                      the packet size because the excess is discarded.
 527:lib/chibios/os/hal/src/hal_usb.c ****  *
 528:lib/chibios/os/hal/src/hal_usb.c ****  * @return              The received effective data size, it can be less than
 529:lib/chibios/os/hal/src/hal_usb.c ****  *                      the amount specified.
 530:lib/chibios/os/hal/src/hal_usb.c ****  * @retval MSG_RESET    driver not in @p USB_ACTIVE state or the operation
 531:lib/chibios/os/hal/src/hal_usb.c ****  *                      has been aborted by an USB reset or a transition to
 532:lib/chibios/os/hal/src/hal_usb.c ****  *                      the @p USB_SUSPENDED state.
 533:lib/chibios/os/hal/src/hal_usb.c ****  *
 534:lib/chibios/os/hal/src/hal_usb.c ****  * @api
 535:lib/chibios/os/hal/src/hal_usb.c ****  */
 536:lib/chibios/os/hal/src/hal_usb.c **** msg_t usbReceive(USBDriver *usbp, usbep_t ep, uint8_t *buf, size_t n) {
 949              		.loc 1 536 71 is_stmt 1 view -0
 950              		.cfi_startproc
 951              		@ args = 0, pretend = 0, frame = 0
 952              		@ frame_needed = 0, uses_anonymous_args = 0
 537:lib/chibios/os/hal/src/hal_usb.c ****   msg_t msg;
 953              		.loc 1 537 3 view .LVU307
 538:lib/chibios/os/hal/src/hal_usb.c **** 
 539:lib/chibios/os/hal/src/hal_usb.c ****   osalSysLock();
 954              		.loc 1 539 3 view .LVU308
 955              	.LBB380:
 956              	.LBI380:
 509:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 957              		.loc 2 509 20 view .LVU309
 958              	.LBE380:
 511:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 959              		.loc 2 511 3 view .LVU310
 960              	.LBB392:
 961              	.LBB381:
 962              	.LBI381:
 353:./lib/chibios/os/rt/include/chsys.h **** 
 963              		.loc 3 353 20 view .LVU311
 964              	.LBE381:
 965              	.LBE392:
 355:./lib/chibios/os/rt/include/chsys.h ****   _stats_start_measure_crit_thd();
 966              		.loc 3 355 3 view .LVU312
 967              	.LBB393:
 968              	.LBB389:
 969              	.LBB382:
 970              	.LBI382:
 669:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 971              		.loc 4 669 27 view .LVU313
 972              	.LBE382:
 973              	.LBE389:
 974              	.LBE393:
 677:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if defined(__CM7_REV)
 975              		.loc 4 677 3 view .LVU314
 976              	.LBB394:
 977              	.LBB390:
 978              	.LBB387:
 979              	.LBB383:
 980              	.LBI383:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 981              		.loc 5 491 27 view .LVU315
 982              	.LBB384:
 983              		.loc 5 493 3 view .LVU316
 984              	.LBE384:
 985              	.LBE383:
 986              	.LBE387:
 987              	.LBE390:
 988              	.LBE394:
 536:lib/chibios/os/hal/src/hal_usb.c ****   msg_t msg;
 989              		.loc 1 536 71 is_stmt 0 view .LVU317
 990 0000 70B5     		push	{r4, r5, r6, lr}
 991              		.cfi_def_cfa_offset 16
 992              		.cfi_offset 4, -16
 993              		.cfi_offset 5, -12
 994              		.cfi_offset 6, -8
 995              		.cfi_offset 14, -4
 536:lib/chibios/os/hal/src/hal_usb.c ****   msg_t msg;
 996              		.loc 1 536 71 view .LVU318
 997 0002 0446     		mov	r4, r0
 998 0004 0D46     		mov	r5, r1
 999              	.LBB395:
 1000              	.LBB391:
 1001              	.LBB388:
 1002              	.LBB386:
 1003              	.LBB385:
 1004              		.loc 5 493 3 view .LVU319
 1005 0006 2026     		movs	r6, #32
 1006              		.syntax unified
 1007              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 1008 0008 86F31188 		MSR basepri, r6
 1009              	@ 0 "" 2
 1010              	.LVL59:
 1011              		.loc 5 493 3 view .LVU320
 1012              		.thumb
 1013              		.syntax unified
 1014              	.LBE385:
 1015              	.LBE386:
 1016              	.LBE388:
 1017              	.LBE391:
 1018              	.LBE395:
 356:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_lock();
 1019              		.loc 3 356 34 is_stmt 1 view .LVU321
 357:./lib/chibios/os/rt/include/chsys.h **** }
 1020              		.loc 3 357 20 view .LVU322
 540:lib/chibios/os/hal/src/hal_usb.c **** 
 541:lib/chibios/os/hal/src/hal_usb.c ****   if (usbGetDriverStateI(usbp) != USB_ACTIVE) {
 1021              		.loc 1 541 3 view .LVU323
 1022              		.loc 1 541 6 is_stmt 0 view .LVU324
 1023 000c 0678     		ldrb	r6, [r0]	@ zero_extendqisi2
 1024 000e 042E     		cmp	r6, #4
 1025 0010 05D0     		beq	.L47
 542:lib/chibios/os/hal/src/hal_usb.c ****     osalSysUnlock();
 1026              		.loc 1 542 5 is_stmt 1 view .LVU325
 1027              	.LBB396:
 1028              	.LBI396:
 520:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 1029              		.loc 2 520 20 view .LVU326
 1030              	.LBE396:
 522:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 1031              		.loc 2 522 3 view .LVU327
 1032              	.LBB405:
 1033              	.LBB397:
 1034              	.LBI397:
 365:./lib/chibios/os/rt/include/chsys.h **** 
 1035              		.loc 3 365 20 view .LVU328
 1036              	.LBB398:
 367:./lib/chibios/os/rt/include/chsys.h ****   _stats_stop_measure_crit_thd();
 1037              		.loc 3 367 22 view .LVU329
 368:./lib/chibios/os/rt/include/chsys.h **** 
 1038              		.loc 3 368 33 view .LVU330
 374:./lib/chibios/os/rt/include/chsys.h ****               (ch.rlist.current->prio >= ch.rlist.queue.next->prio),
 1039              		.loc 3 374 3 view .LVU331
 374:./lib/chibios/os/rt/include/chsys.h ****               (ch.rlist.current->prio >= ch.rlist.queue.next->prio),
 1040              		.loc 3 374 3 view .LVU332
 374:./lib/chibios/os/rt/include/chsys.h ****               (ch.rlist.current->prio >= ch.rlist.queue.next->prio),
 1041              		.loc 3 374 3 view .LVU333
 1042              		.loc 3 378 3 view .LVU334
 1043              	.LBB399:
 1044              	.LBI399:
 693:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 1045              		.loc 4 693 27 view .LVU335
 1046              	.LBE399:
 1047              	.LBE398:
 1048              	.LBE397:
 1049              	.LBE405:
 1050              		.loc 4 696 3 view .LVU336
 1051              	.LVL60:
 1052              	.LBB406:
 1053              	.LBB404:
 1054              	.LBB403:
 1055              	.LBB402:
 1056              	.LBB400:
 1057              	.LBI400:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 1058              		.loc 5 491 27 view .LVU337
 1059              	.LBB401:
 1060              		.loc 5 493 3 view .LVU338
 1061 0012 0023     		movs	r3, #0
 1062              	.LVL61:
 1063              		.loc 5 493 3 is_stmt 0 view .LVU339
 1064              		.syntax unified
 1065              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 1066 0014 83F31188 		MSR basepri, r3
 1067              	@ 0 "" 2
 1068              	.LVL62:
 1069              		.loc 5 493 3 view .LVU340
 1070              		.thumb
 1071              		.syntax unified
 1072              	.LBE401:
 1073              	.LBE400:
 1074              	.LBE402:
 1075              	.LBE403:
 1076              	.LBE404:
 1077              	.LBE406:
 543:lib/chibios/os/hal/src/hal_usb.c ****     return MSG_RESET;
 1078              		.loc 1 543 5 is_stmt 1 view .LVU341
 1079              		.loc 1 543 12 is_stmt 0 view .LVU342
 1080 0018 6FF00100 		mvn	r0, #1
 1081              	.LVL63:
 1082              	.L46:
 544:lib/chibios/os/hal/src/hal_usb.c ****   }
 545:lib/chibios/os/hal/src/hal_usb.c **** 
 546:lib/chibios/os/hal/src/hal_usb.c ****   usbStartReceiveI(usbp, ep, buf, n);
 547:lib/chibios/os/hal/src/hal_usb.c ****   msg = osalThreadSuspendS(&usbp->epc[ep]->out_state->thread);
 548:lib/chibios/os/hal/src/hal_usb.c ****   osalSysUnlock();
 549:lib/chibios/os/hal/src/hal_usb.c **** 
 550:lib/chibios/os/hal/src/hal_usb.c ****   return msg;
 551:lib/chibios/os/hal/src/hal_usb.c **** }
 1083              		.loc 1 551 1 view .LVU343
 1084 001c 70BD     		pop	{r4, r5, r6, pc}
 1085              	.LVL64:
 1086              	.L47:
 546:lib/chibios/os/hal/src/hal_usb.c ****   msg = osalThreadSuspendS(&usbp->epc[ep]->out_state->thread);
 1087              		.loc 1 546 3 is_stmt 1 view .LVU344
 547:lib/chibios/os/hal/src/hal_usb.c ****   osalSysUnlock();
 1088              		.loc 1 547 38 is_stmt 0 view .LVU345
 1089 001e 04EB8504 		add	r4, r4, r5, lsl #2
 546:lib/chibios/os/hal/src/hal_usb.c ****   msg = osalThreadSuspendS(&usbp->epc[ep]->out_state->thread);
 1090              		.loc 1 546 3 view .LVU346
 1091 0022 FFF7FEFF 		bl	usbStartReceiveI
 1092              	.LVL65:
 547:lib/chibios/os/hal/src/hal_usb.c ****   osalSysUnlock();
 1093              		.loc 1 547 3 is_stmt 1 view .LVU347
 1094              	.LBB407:
 1095              	.LBI407:
 733:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 1096              		.loc 2 733 21 view .LVU348
 1097              	.LBB408:
 735:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 1098              		.loc 2 735 3 view .LVU349
 1099              	.LBE408:
 1100              	.LBE407:
 547:lib/chibios/os/hal/src/hal_usb.c ****   osalSysUnlock();
 1101              		.loc 1 547 42 is_stmt 0 view .LVU350
 1102 0026 E368     		ldr	r3, [r4, #12]
 547:lib/chibios/os/hal/src/hal_usb.c ****   osalSysUnlock();
 1103              		.loc 1 547 9 view .LVU351
 1104 0028 9869     		ldr	r0, [r3, #24]
 1105              	.LBB410:
 1106              	.LBB409:
 735:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 1107              		.loc 2 735 10 view .LVU352
 1108 002a 4FF0FF31 		mov	r1, #-1
 1109 002e 0C30     		adds	r0, r0, #12
 1110 0030 FFF7FEFF 		bl	chThdSuspendTimeoutS
 1111              	.LVL66:
 735:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 1112              		.loc 2 735 10 view .LVU353
 1113              	.LBE409:
 1114              	.LBE410:
 548:lib/chibios/os/hal/src/hal_usb.c **** 
 1115              		.loc 1 548 3 is_stmt 1 view .LVU354
 1116              	.LBB411:
 1117              	.LBI411:
 520:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 1118              		.loc 2 520 20 view .LVU355
 1119              	.LBE411:
 522:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 1120              		.loc 2 522 3 view .LVU356
 1121              	.LBB420:
 1122              	.LBB412:
 1123              	.LBI412:
 365:./lib/chibios/os/rt/include/chsys.h **** 
 1124              		.loc 3 365 20 view .LVU357
 1125              	.LBB413:
 367:./lib/chibios/os/rt/include/chsys.h ****   _stats_stop_measure_crit_thd();
 1126              		.loc 3 367 22 view .LVU358
 368:./lib/chibios/os/rt/include/chsys.h **** 
 1127              		.loc 3 368 33 view .LVU359
 374:./lib/chibios/os/rt/include/chsys.h ****               (ch.rlist.current->prio >= ch.rlist.queue.next->prio),
 1128              		.loc 3 374 3 view .LVU360
 374:./lib/chibios/os/rt/include/chsys.h ****               (ch.rlist.current->prio >= ch.rlist.queue.next->prio),
 1129              		.loc 3 374 3 view .LVU361
 374:./lib/chibios/os/rt/include/chsys.h ****               (ch.rlist.current->prio >= ch.rlist.queue.next->prio),
 1130              		.loc 3 374 3 view .LVU362
 1131              		.loc 3 378 3 view .LVU363
 1132              	.LBB414:
 1133              	.LBI414:
 693:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 1134              		.loc 4 693 27 view .LVU364
 1135              	.LBE414:
 1136              	.LBE413:
 1137              	.LBE412:
 1138              	.LBE420:
 1139              		.loc 4 696 3 view .LVU365
 1140              	.LBB421:
 1141              	.LBB419:
 1142              	.LBB418:
 1143              	.LBB417:
 1144              	.LBB415:
 1145              	.LBI415:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 1146              		.loc 5 491 27 view .LVU366
 1147              	.LBB416:
 1148              		.loc 5 493 3 view .LVU367
 1149 0034 0023     		movs	r3, #0
 1150              		.syntax unified
 1151              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 1152 0036 83F31188 		MSR basepri, r3
 1153              	@ 0 "" 2
 1154              	.LVL67:
 1155              		.loc 5 493 3 is_stmt 0 view .LVU368
 1156              		.thumb
 1157              		.syntax unified
 1158              	.LBE416:
 1159              	.LBE415:
 1160              	.LBE417:
 1161              	.LBE418:
 1162              	.LBE419:
 1163              	.LBE421:
 550:lib/chibios/os/hal/src/hal_usb.c **** }
 1164              		.loc 1 550 3 is_stmt 1 view .LVU369
 550:lib/chibios/os/hal/src/hal_usb.c **** }
 1165              		.loc 1 550 10 is_stmt 0 view .LVU370
 1166 003a EFE7     		b	.L46
 1167              		.cfi_endproc
 1168              	.LFE289:
 1170              		.section	.text.usbTransmit,"ax",%progbits
 1171              		.align	1
 1172              		.global	usbTransmit
 1173              		.syntax unified
 1174              		.thumb
 1175              		.thumb_func
 1176              		.fpu fpv4-sp-d16
 1178              	usbTransmit:
 1179              	.LVL68:
 1180              	.LFB290:
 552:lib/chibios/os/hal/src/hal_usb.c **** 
 553:lib/chibios/os/hal/src/hal_usb.c **** /**
 554:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   Performs a transmit transaction on an IN endpoint.
 555:lib/chibios/os/hal/src/hal_usb.c ****  *
 556:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] usbp      pointer to the @p USBDriver object
 557:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] ep        endpoint number
 558:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] buf       buffer where to fetch the data to be transmitted
 559:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] n         transaction size
 560:lib/chibios/os/hal/src/hal_usb.c ****  *
 561:lib/chibios/os/hal/src/hal_usb.c ****  * @return              The operation status.
 562:lib/chibios/os/hal/src/hal_usb.c ****  * @retval MSG_OK       operation performed successfully.
 563:lib/chibios/os/hal/src/hal_usb.c ****  * @retval MSG_RESET    driver not in @p USB_ACTIVE state or the operation
 564:lib/chibios/os/hal/src/hal_usb.c ****  *                      has been aborted by an USB reset or a transition to
 565:lib/chibios/os/hal/src/hal_usb.c ****  *                      the @p USB_SUSPENDED state.
 566:lib/chibios/os/hal/src/hal_usb.c ****  *
 567:lib/chibios/os/hal/src/hal_usb.c ****  * @api
 568:lib/chibios/os/hal/src/hal_usb.c ****  */
 569:lib/chibios/os/hal/src/hal_usb.c **** msg_t usbTransmit(USBDriver *usbp, usbep_t ep, const uint8_t *buf, size_t n) {
 1181              		.loc 1 569 78 is_stmt 1 view -0
 1182              		.cfi_startproc
 1183              		@ args = 0, pretend = 0, frame = 0
 1184              		@ frame_needed = 0, uses_anonymous_args = 0
 570:lib/chibios/os/hal/src/hal_usb.c ****   msg_t msg;
 1185              		.loc 1 570 3 view .LVU372
 571:lib/chibios/os/hal/src/hal_usb.c **** 
 572:lib/chibios/os/hal/src/hal_usb.c ****   osalSysLock();
 1186              		.loc 1 572 3 view .LVU373
 1187              	.LBB441:
 1188              	.LBI441:
 509:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 1189              		.loc 2 509 20 view .LVU374
 1190              	.LBE441:
 511:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 1191              		.loc 2 511 3 view .LVU375
 1192              	.LBB453:
 1193              	.LBB442:
 1194              	.LBI442:
 353:./lib/chibios/os/rt/include/chsys.h **** 
 1195              		.loc 3 353 20 view .LVU376
 1196              	.LBE442:
 1197              	.LBE453:
 355:./lib/chibios/os/rt/include/chsys.h ****   _stats_start_measure_crit_thd();
 1198              		.loc 3 355 3 view .LVU377
 1199              	.LBB454:
 1200              	.LBB450:
 1201              	.LBB443:
 1202              	.LBI443:
 669:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 1203              		.loc 4 669 27 view .LVU378
 1204              	.LBE443:
 1205              	.LBE450:
 1206              	.LBE454:
 677:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if defined(__CM7_REV)
 1207              		.loc 4 677 3 view .LVU379
 1208              	.LBB455:
 1209              	.LBB451:
 1210              	.LBB448:
 1211              	.LBB444:
 1212              	.LBI444:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 1213              		.loc 5 491 27 view .LVU380
 1214              	.LBB445:
 1215              		.loc 5 493 3 view .LVU381
 1216              	.LBE445:
 1217              	.LBE444:
 1218              	.LBE448:
 1219              	.LBE451:
 1220              	.LBE455:
 569:lib/chibios/os/hal/src/hal_usb.c ****   msg_t msg;
 1221              		.loc 1 569 78 is_stmt 0 view .LVU382
 1222 0000 70B5     		push	{r4, r5, r6, lr}
 1223              		.cfi_def_cfa_offset 16
 1224              		.cfi_offset 4, -16
 1225              		.cfi_offset 5, -12
 1226              		.cfi_offset 6, -8
 1227              		.cfi_offset 14, -4
 569:lib/chibios/os/hal/src/hal_usb.c ****   msg_t msg;
 1228              		.loc 1 569 78 view .LVU383
 1229 0002 0446     		mov	r4, r0
 1230 0004 0D46     		mov	r5, r1
 1231              	.LBB456:
 1232              	.LBB452:
 1233              	.LBB449:
 1234              	.LBB447:
 1235              	.LBB446:
 1236              		.loc 5 493 3 view .LVU384
 1237 0006 2026     		movs	r6, #32
 1238              		.syntax unified
 1239              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 1240 0008 86F31188 		MSR basepri, r6
 1241              	@ 0 "" 2
 1242              	.LVL69:
 1243              		.loc 5 493 3 view .LVU385
 1244              		.thumb
 1245              		.syntax unified
 1246              	.LBE446:
 1247              	.LBE447:
 1248              	.LBE449:
 1249              	.LBE452:
 1250              	.LBE456:
 356:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_lock();
 1251              		.loc 3 356 34 is_stmt 1 view .LVU386
 357:./lib/chibios/os/rt/include/chsys.h **** }
 1252              		.loc 3 357 20 view .LVU387
 573:lib/chibios/os/hal/src/hal_usb.c **** 
 574:lib/chibios/os/hal/src/hal_usb.c ****   if (usbGetDriverStateI(usbp) != USB_ACTIVE) {
 1253              		.loc 1 574 3 view .LVU388
 1254              		.loc 1 574 6 is_stmt 0 view .LVU389
 1255 000c 0678     		ldrb	r6, [r0]	@ zero_extendqisi2
 1256 000e 042E     		cmp	r6, #4
 1257 0010 05D0     		beq	.L50
 575:lib/chibios/os/hal/src/hal_usb.c ****     osalSysUnlock();
 1258              		.loc 1 575 5 is_stmt 1 view .LVU390
 1259              	.LBB457:
 1260              	.LBI457:
 520:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 1261              		.loc 2 520 20 view .LVU391
 1262              	.LBE457:
 522:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 1263              		.loc 2 522 3 view .LVU392
 1264              	.LBB466:
 1265              	.LBB458:
 1266              	.LBI458:
 365:./lib/chibios/os/rt/include/chsys.h **** 
 1267              		.loc 3 365 20 view .LVU393
 1268              	.LBB459:
 367:./lib/chibios/os/rt/include/chsys.h ****   _stats_stop_measure_crit_thd();
 1269              		.loc 3 367 22 view .LVU394
 368:./lib/chibios/os/rt/include/chsys.h **** 
 1270              		.loc 3 368 33 view .LVU395
 374:./lib/chibios/os/rt/include/chsys.h ****               (ch.rlist.current->prio >= ch.rlist.queue.next->prio),
 1271              		.loc 3 374 3 view .LVU396
 374:./lib/chibios/os/rt/include/chsys.h ****               (ch.rlist.current->prio >= ch.rlist.queue.next->prio),
 1272              		.loc 3 374 3 view .LVU397
 374:./lib/chibios/os/rt/include/chsys.h ****               (ch.rlist.current->prio >= ch.rlist.queue.next->prio),
 1273              		.loc 3 374 3 view .LVU398
 1274              		.loc 3 378 3 view .LVU399
 1275              	.LBB460:
 1276              	.LBI460:
 693:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 1277              		.loc 4 693 27 view .LVU400
 1278              	.LBE460:
 1279              	.LBE459:
 1280              	.LBE458:
 1281              	.LBE466:
 1282              		.loc 4 696 3 view .LVU401
 1283              	.LVL70:
 1284              	.LBB467:
 1285              	.LBB465:
 1286              	.LBB464:
 1287              	.LBB463:
 1288              	.LBB461:
 1289              	.LBI461:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 1290              		.loc 5 491 27 view .LVU402
 1291              	.LBB462:
 1292              		.loc 5 493 3 view .LVU403
 1293 0012 0023     		movs	r3, #0
 1294              	.LVL71:
 1295              		.loc 5 493 3 is_stmt 0 view .LVU404
 1296              		.syntax unified
 1297              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 1298 0014 83F31188 		MSR basepri, r3
 1299              	@ 0 "" 2
 1300              	.LVL72:
 1301              		.loc 5 493 3 view .LVU405
 1302              		.thumb
 1303              		.syntax unified
 1304              	.LBE462:
 1305              	.LBE461:
 1306              	.LBE463:
 1307              	.LBE464:
 1308              	.LBE465:
 1309              	.LBE467:
 576:lib/chibios/os/hal/src/hal_usb.c ****     return MSG_RESET;
 1310              		.loc 1 576 5 is_stmt 1 view .LVU406
 1311              		.loc 1 576 12 is_stmt 0 view .LVU407
 1312 0018 6FF00100 		mvn	r0, #1
 1313              	.LVL73:
 1314              	.L49:
 577:lib/chibios/os/hal/src/hal_usb.c ****   }
 578:lib/chibios/os/hal/src/hal_usb.c **** 
 579:lib/chibios/os/hal/src/hal_usb.c ****   usbStartTransmitI(usbp, ep, buf, n);
 580:lib/chibios/os/hal/src/hal_usb.c ****   msg = osalThreadSuspendS(&usbp->epc[ep]->in_state->thread);
 581:lib/chibios/os/hal/src/hal_usb.c ****   osalSysUnlock();
 582:lib/chibios/os/hal/src/hal_usb.c **** 
 583:lib/chibios/os/hal/src/hal_usb.c ****   return msg;
 584:lib/chibios/os/hal/src/hal_usb.c **** }
 1315              		.loc 1 584 1 view .LVU408
 1316 001c 70BD     		pop	{r4, r5, r6, pc}
 1317              	.LVL74:
 1318              	.L50:
 579:lib/chibios/os/hal/src/hal_usb.c ****   msg = osalThreadSuspendS(&usbp->epc[ep]->in_state->thread);
 1319              		.loc 1 579 3 is_stmt 1 view .LVU409
 580:lib/chibios/os/hal/src/hal_usb.c ****   osalSysUnlock();
 1320              		.loc 1 580 38 is_stmt 0 view .LVU410
 1321 001e 04EB8504 		add	r4, r4, r5, lsl #2
 579:lib/chibios/os/hal/src/hal_usb.c ****   msg = osalThreadSuspendS(&usbp->epc[ep]->in_state->thread);
 1322              		.loc 1 579 3 view .LVU411
 1323 0022 FFF7FEFF 		bl	usbStartTransmitI
 1324              	.LVL75:
 580:lib/chibios/os/hal/src/hal_usb.c ****   osalSysUnlock();
 1325              		.loc 1 580 3 is_stmt 1 view .LVU412
 1326              	.LBB468:
 1327              	.LBI468:
 733:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 1328              		.loc 2 733 21 view .LVU413
 1329              	.LBB469:
 735:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 1330              		.loc 2 735 3 view .LVU414
 1331              	.LBE469:
 1332              	.LBE468:
 580:lib/chibios/os/hal/src/hal_usb.c ****   osalSysUnlock();
 1333              		.loc 1 580 42 is_stmt 0 view .LVU415
 1334 0026 E368     		ldr	r3, [r4, #12]
 580:lib/chibios/os/hal/src/hal_usb.c ****   osalSysUnlock();
 1335              		.loc 1 580 9 view .LVU416
 1336 0028 5869     		ldr	r0, [r3, #20]
 1337              	.LBB471:
 1338              	.LBB470:
 735:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 1339              		.loc 2 735 10 view .LVU417
 1340 002a 4FF0FF31 		mov	r1, #-1
 1341 002e 0C30     		adds	r0, r0, #12
 1342 0030 FFF7FEFF 		bl	chThdSuspendTimeoutS
 1343              	.LVL76:
 735:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 1344              		.loc 2 735 10 view .LVU418
 1345              	.LBE470:
 1346              	.LBE471:
 581:lib/chibios/os/hal/src/hal_usb.c **** 
 1347              		.loc 1 581 3 is_stmt 1 view .LVU419
 1348              	.LBB472:
 1349              	.LBI472:
 520:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 1350              		.loc 2 520 20 view .LVU420
 1351              	.LBE472:
 522:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 1352              		.loc 2 522 3 view .LVU421
 1353              	.LBB481:
 1354              	.LBB473:
 1355              	.LBI473:
 365:./lib/chibios/os/rt/include/chsys.h **** 
 1356              		.loc 3 365 20 view .LVU422
 1357              	.LBB474:
 367:./lib/chibios/os/rt/include/chsys.h ****   _stats_stop_measure_crit_thd();
 1358              		.loc 3 367 22 view .LVU423
 368:./lib/chibios/os/rt/include/chsys.h **** 
 1359              		.loc 3 368 33 view .LVU424
 374:./lib/chibios/os/rt/include/chsys.h ****               (ch.rlist.current->prio >= ch.rlist.queue.next->prio),
 1360              		.loc 3 374 3 view .LVU425
 374:./lib/chibios/os/rt/include/chsys.h ****               (ch.rlist.current->prio >= ch.rlist.queue.next->prio),
 1361              		.loc 3 374 3 view .LVU426
 374:./lib/chibios/os/rt/include/chsys.h ****               (ch.rlist.current->prio >= ch.rlist.queue.next->prio),
 1362              		.loc 3 374 3 view .LVU427
 1363              		.loc 3 378 3 view .LVU428
 1364              	.LBB475:
 1365              	.LBI475:
 693:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 1366              		.loc 4 693 27 view .LVU429
 1367              	.LBE475:
 1368              	.LBE474:
 1369              	.LBE473:
 1370              	.LBE481:
 1371              		.loc 4 696 3 view .LVU430
 1372              	.LBB482:
 1373              	.LBB480:
 1374              	.LBB479:
 1375              	.LBB478:
 1376              	.LBB476:
 1377              	.LBI476:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 1378              		.loc 5 491 27 view .LVU431
 1379              	.LBB477:
 1380              		.loc 5 493 3 view .LVU432
 1381 0034 0023     		movs	r3, #0
 1382              		.syntax unified
 1383              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 1384 0036 83F31188 		MSR basepri, r3
 1385              	@ 0 "" 2
 1386              	.LVL77:
 1387              		.loc 5 493 3 is_stmt 0 view .LVU433
 1388              		.thumb
 1389              		.syntax unified
 1390              	.LBE477:
 1391              	.LBE476:
 1392              	.LBE478:
 1393              	.LBE479:
 1394              	.LBE480:
 1395              	.LBE482:
 583:lib/chibios/os/hal/src/hal_usb.c **** }
 1396              		.loc 1 583 3 is_stmt 1 view .LVU434
 583:lib/chibios/os/hal/src/hal_usb.c **** }
 1397              		.loc 1 583 10 is_stmt 0 view .LVU435
 1398 003a EFE7     		b	.L49
 1399              		.cfi_endproc
 1400              	.LFE290:
 1402              		.section	.text.usbStallReceiveI,"ax",%progbits
 1403              		.align	1
 1404              		.global	usbStallReceiveI
 1405              		.syntax unified
 1406              		.thumb
 1407              		.thumb_func
 1408              		.fpu fpv4-sp-d16
 1410              	usbStallReceiveI:
 1411              	.LVL78:
 1412              	.LFB291:
 585:lib/chibios/os/hal/src/hal_usb.c **** #endif /* USB_USE_WAIT == TRUE */
 586:lib/chibios/os/hal/src/hal_usb.c **** 
 587:lib/chibios/os/hal/src/hal_usb.c **** /**
 588:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   Stalls an OUT endpoint.
 589:lib/chibios/os/hal/src/hal_usb.c ****  *
 590:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] usbp      pointer to the @p USBDriver object
 591:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] ep        endpoint number
 592:lib/chibios/os/hal/src/hal_usb.c ****  *
 593:lib/chibios/os/hal/src/hal_usb.c ****  * @return              The operation status.
 594:lib/chibios/os/hal/src/hal_usb.c ****  * @retval false        Endpoint stalled.
 595:lib/chibios/os/hal/src/hal_usb.c ****  * @retval true         Endpoint busy, not stalled.
 596:lib/chibios/os/hal/src/hal_usb.c ****  *
 597:lib/chibios/os/hal/src/hal_usb.c ****  * @iclass
 598:lib/chibios/os/hal/src/hal_usb.c ****  */
 599:lib/chibios/os/hal/src/hal_usb.c **** bool usbStallReceiveI(USBDriver *usbp, usbep_t ep) {
 1413              		.loc 1 599 52 is_stmt 1 view -0
 1414              		.cfi_startproc
 1415              		@ args = 0, pretend = 0, frame = 0
 1416              		@ frame_needed = 0, uses_anonymous_args = 0
 600:lib/chibios/os/hal/src/hal_usb.c **** 
 601:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgCheckClassI();
 1417              		.loc 1 601 23 view .LVU437
 602:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgCheck(usbp != NULL);
 1418              		.loc 1 602 3 view .LVU438
 1419              		.loc 1 602 3 view .LVU439
 1420              		.loc 1 602 3 view .LVU440
 603:lib/chibios/os/hal/src/hal_usb.c **** 
 604:lib/chibios/os/hal/src/hal_usb.c ****   if (usbGetReceiveStatusI(usbp, ep)) {
 1421              		.loc 1 604 3 view .LVU441
 599:lib/chibios/os/hal/src/hal_usb.c **** 
 1422              		.loc 1 599 52 is_stmt 0 view .LVU442
 1423 0000 10B5     		push	{r4, lr}
 1424              		.cfi_def_cfa_offset 8
 1425              		.cfi_offset 4, -8
 1426              		.cfi_offset 14, -4
 1427              		.loc 1 604 7 view .LVU443
 1428 0002 0122     		movs	r2, #1
 1429 0004 4489     		ldrh	r4, [r0, #10]
 1430 0006 02FA01F3 		lsl	r3, r2, r1
 1431              		.loc 1 604 6 view .LVU444
 1432 000a 1C40     		ands	r4, r3, r4
 1433 000c 03D1     		bne	.L54
 605:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 606:lib/chibios/os/hal/src/hal_usb.c ****   }
 607:lib/chibios/os/hal/src/hal_usb.c **** 
 608:lib/chibios/os/hal/src/hal_usb.c ****   usb_lld_stall_out(usbp, ep);
 1434              		.loc 1 608 3 is_stmt 1 view .LVU445
 1435 000e FFF7FEFF 		bl	usb_lld_stall_out
 1436              	.LVL79:
 609:lib/chibios/os/hal/src/hal_usb.c ****   return false;
 1437              		.loc 1 609 3 view .LVU446
 1438              		.loc 1 609 10 is_stmt 0 view .LVU447
 1439 0012 2046     		mov	r0, r4
 1440              	.L53:
 610:lib/chibios/os/hal/src/hal_usb.c **** }
 1441              		.loc 1 610 1 view .LVU448
 1442 0014 10BD     		pop	{r4, pc}
 1443              	.LVL80:
 1444              	.L54:
 605:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 1445              		.loc 1 605 12 view .LVU449
 1446 0016 1046     		mov	r0, r2
 1447              	.LVL81:
 605:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 1448              		.loc 1 605 12 view .LVU450
 1449 0018 FCE7     		b	.L53
 1450              		.cfi_endproc
 1451              	.LFE291:
 1453              		.section	.text.usbStallTransmitI,"ax",%progbits
 1454              		.align	1
 1455              		.global	usbStallTransmitI
 1456              		.syntax unified
 1457              		.thumb
 1458              		.thumb_func
 1459              		.fpu fpv4-sp-d16
 1461              	usbStallTransmitI:
 1462              	.LVL82:
 1463              	.LFB292:
 611:lib/chibios/os/hal/src/hal_usb.c **** 
 612:lib/chibios/os/hal/src/hal_usb.c **** /**
 613:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   Stalls an IN endpoint.
 614:lib/chibios/os/hal/src/hal_usb.c ****  *
 615:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] usbp      pointer to the @p USBDriver object
 616:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] ep        endpoint number
 617:lib/chibios/os/hal/src/hal_usb.c ****  *
 618:lib/chibios/os/hal/src/hal_usb.c ****  * @return              The operation status.
 619:lib/chibios/os/hal/src/hal_usb.c ****  * @retval false        Endpoint stalled.
 620:lib/chibios/os/hal/src/hal_usb.c ****  * @retval true         Endpoint busy, not stalled.
 621:lib/chibios/os/hal/src/hal_usb.c ****  *
 622:lib/chibios/os/hal/src/hal_usb.c ****  * @iclass
 623:lib/chibios/os/hal/src/hal_usb.c ****  */
 624:lib/chibios/os/hal/src/hal_usb.c **** bool usbStallTransmitI(USBDriver *usbp, usbep_t ep) {
 1464              		.loc 1 624 53 is_stmt 1 view -0
 1465              		.cfi_startproc
 1466              		@ args = 0, pretend = 0, frame = 0
 1467              		@ frame_needed = 0, uses_anonymous_args = 0
 625:lib/chibios/os/hal/src/hal_usb.c **** 
 626:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgCheckClassI();
 1468              		.loc 1 626 23 view .LVU452
 627:lib/chibios/os/hal/src/hal_usb.c ****   osalDbgCheck(usbp != NULL);
 1469              		.loc 1 627 3 view .LVU453
 1470              		.loc 1 627 3 view .LVU454
 1471              		.loc 1 627 3 view .LVU455
 628:lib/chibios/os/hal/src/hal_usb.c **** 
 629:lib/chibios/os/hal/src/hal_usb.c ****   if (usbGetTransmitStatusI(usbp, ep)) {
 1472              		.loc 1 629 3 view .LVU456
 624:lib/chibios/os/hal/src/hal_usb.c **** 
 1473              		.loc 1 624 53 is_stmt 0 view .LVU457
 1474 0000 10B5     		push	{r4, lr}
 1475              		.cfi_def_cfa_offset 8
 1476              		.cfi_offset 4, -8
 1477              		.cfi_offset 14, -4
 1478              		.loc 1 629 7 view .LVU458
 1479 0002 0122     		movs	r2, #1
 1480 0004 0489     		ldrh	r4, [r0, #8]
 1481 0006 02FA01F3 		lsl	r3, r2, r1
 1482              		.loc 1 629 6 view .LVU459
 1483 000a 1C40     		ands	r4, r3, r4
 1484 000c 03D1     		bne	.L57
 630:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 631:lib/chibios/os/hal/src/hal_usb.c ****   }
 632:lib/chibios/os/hal/src/hal_usb.c **** 
 633:lib/chibios/os/hal/src/hal_usb.c ****   usb_lld_stall_in(usbp, ep);
 1485              		.loc 1 633 3 is_stmt 1 view .LVU460
 1486 000e FFF7FEFF 		bl	usb_lld_stall_in
 1487              	.LVL83:
 634:lib/chibios/os/hal/src/hal_usb.c ****   return false;
 1488              		.loc 1 634 3 view .LVU461
 1489              		.loc 1 634 10 is_stmt 0 view .LVU462
 1490 0012 2046     		mov	r0, r4
 1491              	.L56:
 635:lib/chibios/os/hal/src/hal_usb.c **** }
 1492              		.loc 1 635 1 view .LVU463
 1493 0014 10BD     		pop	{r4, pc}
 1494              	.LVL84:
 1495              	.L57:
 630:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 1496              		.loc 1 630 12 view .LVU464
 1497 0016 1046     		mov	r0, r2
 1498              	.LVL85:
 630:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 1499              		.loc 1 630 12 view .LVU465
 1500 0018 FCE7     		b	.L56
 1501              		.cfi_endproc
 1502              	.LFE292:
 1504              		.section	.text.usbWakeupHost,"ax",%progbits
 1505              		.align	1
 1506              		.global	usbWakeupHost
 1507              		.syntax unified
 1508              		.thumb
 1509              		.thumb_func
 1510              		.fpu fpv4-sp-d16
 1512              	usbWakeupHost:
 1513              	.LVL86:
 1514              	.LFB293:
 636:lib/chibios/os/hal/src/hal_usb.c **** 
 637:lib/chibios/os/hal/src/hal_usb.c **** /**
 638:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   Host wake-up procedure.
 639:lib/chibios/os/hal/src/hal_usb.c ****  * @note    It is silently ignored if the USB device is not in the
 640:lib/chibios/os/hal/src/hal_usb.c ****  *          @p USB_SUSPENDED state.
 641:lib/chibios/os/hal/src/hal_usb.c ****  *
 642:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] usbp      pointer to the @p USBDriver object
 643:lib/chibios/os/hal/src/hal_usb.c ****  *
 644:lib/chibios/os/hal/src/hal_usb.c ****  * @api
 645:lib/chibios/os/hal/src/hal_usb.c ****  */
 646:lib/chibios/os/hal/src/hal_usb.c **** void usbWakeupHost(USBDriver *usbp) {
 1515              		.loc 1 646 37 is_stmt 1 view -0
 1516              		.cfi_startproc
 1517              		@ args = 0, pretend = 0, frame = 0
 1518              		@ frame_needed = 0, uses_anonymous_args = 0
 647:lib/chibios/os/hal/src/hal_usb.c **** 
 648:lib/chibios/os/hal/src/hal_usb.c ****   if (usbp->state == USB_SUSPENDED) {
 1519              		.loc 1 648 3 view .LVU467
 646:lib/chibios/os/hal/src/hal_usb.c **** 
 1520              		.loc 1 646 37 is_stmt 0 view .LVU468
 1521 0000 10B5     		push	{r4, lr}
 1522              		.cfi_def_cfa_offset 8
 1523              		.cfi_offset 4, -8
 1524              		.cfi_offset 14, -4
 1525              		.loc 1 648 6 view .LVU469
 1526 0002 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1527 0004 052B     		cmp	r3, #5
 1528 0006 0BD1     		bne	.L58
 649:lib/chibios/os/hal/src/hal_usb.c ****     /* Starting host wakeup procedure.*/
 650:lib/chibios/os/hal/src/hal_usb.c ****     usb_lld_wakeup_host(usbp);
 1529              		.loc 1 650 5 is_stmt 1 view .LVU470
 1530              		.loc 1 650 5 view .LVU471
 1531 0008 064C     		ldr	r4, .L60
 1532 000a 236C     		ldr	r3, [r4, #64]
 1533 000c 43F01003 		orr	r3, r3, #16
 1534 0010 2364     		str	r3, [r4, #64]
 1535              		.loc 1 650 5 view .LVU472
 1536              	.LVL87:
 1537              	.LBB483:
 1538              	.LBI483:
 718:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 1539              		.loc 2 718 20 view .LVU473
 1540              	.LBB484:
 720:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 1541              		.loc 2 720 3 view .LVU474
 1542 0012 C820     		movs	r0, #200
 1543              	.LVL88:
 720:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 1544              		.loc 2 720 3 is_stmt 0 view .LVU475
 1545 0014 FFF7FEFF 		bl	chThdSleep
 1546              	.LVL89:
 720:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 1547              		.loc 2 720 3 view .LVU476
 1548              	.LBE484:
 1549              	.LBE483:
 1550              		.loc 1 650 5 is_stmt 1 view .LVU477
 1551 0018 236C     		ldr	r3, [r4, #64]
 1552 001a 23F01003 		bic	r3, r3, #16
 1553 001e 2364     		str	r3, [r4, #64]
 1554              		.loc 1 650 5 view .LVU478
 1555              	.L58:
 651:lib/chibios/os/hal/src/hal_usb.c ****   }
 652:lib/chibios/os/hal/src/hal_usb.c **** }
 1556              		.loc 1 652 1 is_stmt 0 view .LVU479
 1557 0020 10BD     		pop	{r4, pc}
 1558              	.L61:
 1559 0022 00BF     		.align	2
 1560              	.L60:
 1561 0024 005C0040 		.word	1073765376
 1562              		.cfi_endproc
 1563              	.LFE293:
 1565              		.section	.text._usb_reset,"ax",%progbits
 1566              		.align	1
 1567              		.global	_usb_reset
 1568              		.syntax unified
 1569              		.thumb
 1570              		.thumb_func
 1571              		.fpu fpv4-sp-d16
 1573              	_usb_reset:
 1574              	.LVL90:
 1575              	.LFB294:
 653:lib/chibios/os/hal/src/hal_usb.c **** 
 654:lib/chibios/os/hal/src/hal_usb.c **** /**
 655:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   USB reset routine.
 656:lib/chibios/os/hal/src/hal_usb.c ****  * @details This function must be invoked when an USB bus reset condition is
 657:lib/chibios/os/hal/src/hal_usb.c ****  *          detected.
 658:lib/chibios/os/hal/src/hal_usb.c ****  *
 659:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] usbp      pointer to the @p USBDriver object
 660:lib/chibios/os/hal/src/hal_usb.c ****  *
 661:lib/chibios/os/hal/src/hal_usb.c ****  * @notapi
 662:lib/chibios/os/hal/src/hal_usb.c ****  */
 663:lib/chibios/os/hal/src/hal_usb.c **** void _usb_reset(USBDriver *usbp) {
 1576              		.loc 1 663 34 is_stmt 1 view -0
 1577              		.cfi_startproc
 1578              		@ args = 0, pretend = 0, frame = 0
 1579              		@ frame_needed = 0, uses_anonymous_args = 0
 664:lib/chibios/os/hal/src/hal_usb.c ****   unsigned i;
 1580              		.loc 1 664 3 view .LVU481
 665:lib/chibios/os/hal/src/hal_usb.c **** 
 666:lib/chibios/os/hal/src/hal_usb.c ****   /* State transition.*/
 667:lib/chibios/os/hal/src/hal_usb.c ****   usbp->state         = USB_READY;
 1581              		.loc 1 667 3 view .LVU482
 663:lib/chibios/os/hal/src/hal_usb.c ****   unsigned i;
 1582              		.loc 1 663 34 is_stmt 0 view .LVU483
 1583 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1584              		.cfi_def_cfa_offset 24
 1585              		.cfi_offset 4, -24
 1586              		.cfi_offset 5, -20
 1587              		.cfi_offset 6, -16
 1588              		.cfi_offset 7, -12
 1589              		.cfi_offset 8, -8
 1590              		.cfi_offset 14, -4
 1591              		.loc 1 667 23 view .LVU484
 1592 0004 0223     		movs	r3, #2
 668:lib/chibios/os/hal/src/hal_usb.c **** 
 669:lib/chibios/os/hal/src/hal_usb.c ****   /* Resetting internal state.*/
 670:lib/chibios/os/hal/src/hal_usb.c ****   usbp->status        = 0;
 1593              		.loc 1 670 23 view .LVU485
 1594 0006 0026     		movs	r6, #0
 663:lib/chibios/os/hal/src/hal_usb.c ****   unsigned i;
 1595              		.loc 1 663 34 view .LVU486
 1596 0008 0446     		mov	r4, r0
 667:lib/chibios/os/hal/src/hal_usb.c **** 
 1597              		.loc 1 667 23 view .LVU487
 1598 000a 0370     		strb	r3, [r0]
 1599              		.loc 1 670 3 is_stmt 1 view .LVU488
 671:lib/chibios/os/hal/src/hal_usb.c ****   usbp->address       = 0;
 1600              		.loc 1 671 3 view .LVU489
 672:lib/chibios/os/hal/src/hal_usb.c ****   usbp->configuration = 0;
 1601              		.loc 1 672 3 view .LVU490
 670:lib/chibios/os/hal/src/hal_usb.c ****   usbp->address       = 0;
 1602              		.loc 1 670 23 is_stmt 0 view .LVU491
 1603 000c C667     		str	r6, [r0, #124]
 673:lib/chibios/os/hal/src/hal_usb.c ****   usbp->transmitting  = 0;
 1604              		.loc 1 673 3 is_stmt 1 view .LVU492
 674:lib/chibios/os/hal/src/hal_usb.c ****   usbp->receiving     = 0;
 1605              		.loc 1 674 3 view .LVU493
 673:lib/chibios/os/hal/src/hal_usb.c ****   usbp->transmitting  = 0;
 1606              		.loc 1 673 23 is_stmt 0 view .LVU494
 1607 000e 8660     		str	r6, [r0, #8]
 675:lib/chibios/os/hal/src/hal_usb.c **** 
 676:lib/chibios/os/hal/src/hal_usb.c ****   /* Invalidates all endpoints into the USBDriver structure.*/
 677:lib/chibios/os/hal/src/hal_usb.c ****   for (i = 0; i <= (unsigned)USB_MAX_ENDPOINTS; i++) {
 1608              		.loc 1 677 3 is_stmt 1 view .LVU495
 1609              	.LVL91:
 1610              		.loc 1 677 15 view .LVU496
 1611 0010 00F10C05 		add	r5, r0, #12
 1612 0014 00F12C07 		add	r7, r0, #44
 1613              	.LBB485:
 1614              	.LBB486:
 1615              	.LBB487:
 1616              	.LBB488:
 1617              	.LBB489:
 1618              	.LBB490:
 1619              		.loc 5 493 3 is_stmt 0 view .LVU497
 1620 0018 4FF02008 		mov	r8, #32
 1621              	.LVL92:
 1622              	.L66:
 1623              		.loc 5 493 3 view .LVU498
 1624              	.LBE490:
 1625              	.LBE489:
 1626              	.LBE488:
 1627              	.LBE487:
 1628              	.LBE486:
 1629              	.LBE485:
 678:lib/chibios/os/hal/src/hal_usb.c **** #if USB_USE_WAIT == TRUE
 679:lib/chibios/os/hal/src/hal_usb.c ****     /* Signaling the event to threads waiting on endpoints.*/
 680:lib/chibios/os/hal/src/hal_usb.c ****     if (usbp->epc[i] != NULL) {
 1630              		.loc 1 680 5 is_stmt 1 view .LVU499
 1631              		.loc 1 680 18 is_stmt 0 view .LVU500
 1632 001c 55F8043B 		ldr	r3, [r5], #4
 1633              		.loc 1 680 8 view .LVU501
 1634 0020 ABB1     		cbz	r3, .L63
 681:lib/chibios/os/hal/src/hal_usb.c ****       osalSysLockFromISR();
 1635              		.loc 1 681 7 is_stmt 1 view .LVU502
 1636              	.LBB502:
 1637              	.LBI485:
 531:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 1638              		.loc 2 531 20 view .LVU503
 1639              	.LBE502:
 533:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 1640              		.loc 2 533 3 view .LVU504
 1641              	.LBB503:
 1642              	.LBB498:
 1643              	.LBI486:
 379:./lib/chibios/os/rt/include/chsys.h **** }
 380:./lib/chibios/os/rt/include/chsys.h **** 
 381:./lib/chibios/os/rt/include/chsys.h **** /**
 382:./lib/chibios/os/rt/include/chsys.h ****  * @brief   Enters the kernel lock state from within an interrupt handler.
 383:./lib/chibios/os/rt/include/chsys.h ****  * @note    This API may do nothing on some architectures, it is required
 384:./lib/chibios/os/rt/include/chsys.h ****  *          because on ports that support preemptable interrupt handlers
 385:./lib/chibios/os/rt/include/chsys.h ****  *          it is required to raise the interrupt mask to the same level of
 386:./lib/chibios/os/rt/include/chsys.h ****  *          the system mutual exclusion zone.<br>
 387:./lib/chibios/os/rt/include/chsys.h ****  *          It is good practice to invoke this API before invoking any I-class
 388:./lib/chibios/os/rt/include/chsys.h ****  *          syscall from an interrupt handler.
 389:./lib/chibios/os/rt/include/chsys.h ****  * @note    This API must be invoked exclusively from interrupt handlers.
 390:./lib/chibios/os/rt/include/chsys.h ****  *
 391:./lib/chibios/os/rt/include/chsys.h ****  * @special
 392:./lib/chibios/os/rt/include/chsys.h ****  */
 393:./lib/chibios/os/rt/include/chsys.h **** static inline void chSysLockFromISR(void) {
 1644              		.loc 3 393 20 view .LVU505
 1645              	.LBE498:
 1646              	.LBE503:
 394:./lib/chibios/os/rt/include/chsys.h **** 
 395:./lib/chibios/os/rt/include/chsys.h ****   port_lock_from_isr();
 1647              		.loc 3 395 3 view .LVU506
 1648              	.LBB504:
 1649              	.LBB499:
 1650              	.LBB495:
 1651              	.LBI487:
 697:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else /* CORTEX_SIMPLIFIED_PRIORITY */
 698:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   __enable_irq();
 699:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #endif /* CORTEX_SIMPLIFIED_PRIORITY */
 700:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** }
 701:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 702:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 703:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Kernel-lock action from an interrupt handler.
 704:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @details In this port this function raises the base priority to kernel
 705:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          level.
 706:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @note    Same as @p port_lock() in this port.
 707:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 708:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** __STATIC_FORCEINLINE void port_lock_from_isr(void) {
 1652              		.loc 4 708 27 view .LVU507
 1653              	.LBE495:
 1654              	.LBE499:
 1655              	.LBE504:
 709:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 710:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   port_lock();
 1656              		.loc 4 710 3 view .LVU508
 1657              	.LBB505:
 1658              	.LBB500:
 1659              	.LBB496:
 1660              	.LBB493:
 1661              	.LBI488:
 669:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 1662              		.loc 4 669 27 view .LVU509
 1663              	.LBE493:
 1664              	.LBE496:
 1665              	.LBE500:
 1666              	.LBE505:
 677:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if defined(__CM7_REV)
 1667              		.loc 4 677 3 view .LVU510
 1668              	.LVL93:
 1669              	.LBB506:
 1670              	.LBB501:
 1671              	.LBB497:
 1672              	.LBB494:
 1673              	.LBB492:
 1674              	.LBI489:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 1675              		.loc 5 491 27 view .LVU511
 1676              	.LBB491:
 1677              		.loc 5 493 3 view .LVU512
 1678              		.syntax unified
 1679              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 1680 0022 88F31188 		MSR basepri, r8
 1681              	@ 0 "" 2
 1682              	.LVL94:
 1683              		.loc 5 493 3 is_stmt 0 view .LVU513
 1684              		.thumb
 1685              		.syntax unified
 1686              	.LBE491:
 1687              	.LBE492:
 1688              	.LBE494:
 1689              	.LBE497:
 1690              	.LBE501:
 1691              	.LBE506:
 396:./lib/chibios/os/rt/include/chsys.h ****   _stats_start_measure_crit_isr();
 1692              		.loc 3 396 34 is_stmt 1 view .LVU514
 397:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_lock_from_isr();
 1693              		.loc 3 397 29 view .LVU515
 682:lib/chibios/os/hal/src/hal_usb.c ****       if (usbp->epc[i]->in_state != NULL) {
 1694              		.loc 1 682 7 view .LVU516
 1695              		.loc 1 682 23 is_stmt 0 view .LVU517
 1696 0026 55F8043C 		ldr	r3, [r5, #-4]
 1697 002a 5869     		ldr	r0, [r3, #20]
 1698              		.loc 1 682 10 view .LVU518
 1699 002c 20B1     		cbz	r0, .L64
 683:lib/chibios/os/hal/src/hal_usb.c ****         osalThreadResumeI(&usbp->epc[i]->in_state->thread, MSG_RESET);
 1700              		.loc 1 683 9 is_stmt 1 view .LVU519
 1701              	.LVL95:
 1702              	.LBB507:
 1703              	.LBI507:
 773:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 1704              		.loc 2 773 20 view .LVU520
 1705              	.LBB508:
 1706              		.loc 2 775 3 view .LVU521
 1707 002e 6FF00101 		mvn	r1, #1
 1708 0032 0C30     		adds	r0, r0, #12
 1709              	.LVL96:
 1710              		.loc 2 775 3 is_stmt 0 view .LVU522
 1711 0034 FFF7FEFF 		bl	chThdResumeI
 1712              	.LVL97:
 1713              	.L64:
 1714              		.loc 2 775 3 view .LVU523
 1715              	.LBE508:
 1716              	.LBE507:
 684:lib/chibios/os/hal/src/hal_usb.c ****       }
 685:lib/chibios/os/hal/src/hal_usb.c ****       if (usbp->epc[i]->out_state != NULL) {
 1717              		.loc 1 685 7 is_stmt 1 view .LVU524
 1718              		.loc 1 685 23 is_stmt 0 view .LVU525
 1719 0038 55F8043C 		ldr	r3, [r5, #-4]
 1720 003c 9869     		ldr	r0, [r3, #24]
 1721              		.loc 1 685 10 view .LVU526
 1722 003e 20B1     		cbz	r0, .L65
 686:lib/chibios/os/hal/src/hal_usb.c ****         osalThreadResumeI(&usbp->epc[i]->out_state->thread, MSG_RESET);
 1723              		.loc 1 686 9 is_stmt 1 view .LVU527
 1724              	.LVL98:
 1725              	.LBB509:
 1726              	.LBI509:
 773:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 1727              		.loc 2 773 20 view .LVU528
 1728              	.LBB510:
 1729              		.loc 2 775 3 view .LVU529
 1730 0040 6FF00101 		mvn	r1, #1
 1731 0044 0C30     		adds	r0, r0, #12
 1732              	.LVL99:
 1733              		.loc 2 775 3 is_stmt 0 view .LVU530
 1734 0046 FFF7FEFF 		bl	chThdResumeI
 1735              	.LVL100:
 1736              	.L65:
 1737              		.loc 2 775 3 view .LVU531
 1738              	.LBE510:
 1739              	.LBE509:
 687:lib/chibios/os/hal/src/hal_usb.c ****       }
 688:lib/chibios/os/hal/src/hal_usb.c ****       osalSysUnlockFromISR();
 1740              		.loc 1 688 7 is_stmt 1 view .LVU532
 1741              	.LBB511:
 1742              	.LBI511:
 542:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 1743              		.loc 2 542 20 view .LVU533
 1744              	.LBB512:
 544:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 1745              		.loc 2 544 3 view .LVU534
 1746              	.LBB513:
 1747              	.LBI513:
 398:./lib/chibios/os/rt/include/chsys.h **** }
 399:./lib/chibios/os/rt/include/chsys.h **** 
 400:./lib/chibios/os/rt/include/chsys.h **** /**
 401:./lib/chibios/os/rt/include/chsys.h ****  * @brief   Leaves the kernel lock state from within an interrupt handler.
 402:./lib/chibios/os/rt/include/chsys.h ****  *
 403:./lib/chibios/os/rt/include/chsys.h ****  * @note    This API may do nothing on some architectures, it is required
 404:./lib/chibios/os/rt/include/chsys.h ****  *          because on ports that support preemptable interrupt handlers
 405:./lib/chibios/os/rt/include/chsys.h ****  *          it is required to raise the interrupt mask to the same level of
 406:./lib/chibios/os/rt/include/chsys.h ****  *          the system mutual exclusion zone.<br>
 407:./lib/chibios/os/rt/include/chsys.h ****  *          It is good practice to invoke this API after invoking any I-class
 408:./lib/chibios/os/rt/include/chsys.h ****  *          syscall from an interrupt handler.
 409:./lib/chibios/os/rt/include/chsys.h ****  * @note    This API must be invoked exclusively from interrupt handlers.
 410:./lib/chibios/os/rt/include/chsys.h ****  *
 411:./lib/chibios/os/rt/include/chsys.h ****  * @special
 412:./lib/chibios/os/rt/include/chsys.h ****  */
 413:./lib/chibios/os/rt/include/chsys.h **** static inline void chSysUnlockFromISR(void) {
 1748              		.loc 3 413 20 view .LVU535
 1749              	.LBE513:
 1750              	.LBE512:
 1751              	.LBE511:
 414:./lib/chibios/os/rt/include/chsys.h **** 
 415:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_unlock_from_isr();
 1752              		.loc 3 415 31 view .LVU536
 416:./lib/chibios/os/rt/include/chsys.h ****   _stats_stop_measure_crit_isr();
 1753              		.loc 3 416 33 view .LVU537
 417:./lib/chibios/os/rt/include/chsys.h ****   port_unlock_from_isr();
 1754              		.loc 3 417 3 view .LVU538
 1755              	.LBB527:
 1756              	.LBB524:
 1757              	.LBB521:
 1758              	.LBB514:
 1759              	.LBI514:
 711:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** }
 712:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 713:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** /**
 714:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @brief   Kernel-unlock action from an interrupt handler.
 715:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @details In this port this function lowers the base priority to user
 716:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  *          level.
 717:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  * @note    Same as @p port_unlock() in this port.
 718:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****  */
 719:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** __STATIC_FORCEINLINE void port_unlock_from_isr(void) {
 1760              		.loc 4 719 27 view .LVU539
 1761              	.LBE514:
 1762              	.LBE521:
 1763              	.LBE524:
 1764              	.LBE527:
 720:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 721:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h ****   port_unlock();
 1765              		.loc 4 721 3 view .LVU540
 1766              	.LBB528:
 1767              	.LBB525:
 1768              	.LBB522:
 1769              	.LBB519:
 1770              	.LBB515:
 1771              	.LBI515:
 693:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 1772              		.loc 4 693 27 view .LVU541
 1773              	.LBE515:
 1774              	.LBE519:
 1775              	.LBE522:
 1776              	.LBE525:
 1777              	.LBE528:
 696:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else /* CORTEX_SIMPLIFIED_PRIORITY */
 1778              		.loc 4 696 3 view .LVU542
 1779              	.LBB529:
 1780              	.LBB526:
 1781              	.LBB523:
 1782              	.LBB520:
 1783              	.LBB518:
 1784              	.LBB516:
 1785              	.LBI516:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 1786              		.loc 5 491 27 view .LVU543
 1787              	.LBB517:
 1788              		.loc 5 493 3 view .LVU544
 1789              		.syntax unified
 1790              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 1791 004a 86F31188 		MSR basepri, r6
 1792              	@ 0 "" 2
 1793              	.LVL101:
 1794              		.thumb
 1795              		.syntax unified
 1796              	.L63:
 1797              		.loc 5 493 3 is_stmt 0 view .LVU545
 1798              	.LBE517:
 1799              	.LBE516:
 1800              	.LBE518:
 1801              	.LBE520:
 1802              	.LBE523:
 1803              	.LBE526:
 1804              	.LBE529:
 689:lib/chibios/os/hal/src/hal_usb.c ****     }
 690:lib/chibios/os/hal/src/hal_usb.c **** #endif
 691:lib/chibios/os/hal/src/hal_usb.c ****     usbp->epc[i] = NULL;
 1805              		.loc 1 691 5 is_stmt 1 discriminator 2 view .LVU546
 677:lib/chibios/os/hal/src/hal_usb.c **** #if USB_USE_WAIT == TRUE
 1806              		.loc 1 677 3 is_stmt 0 discriminator 2 view .LVU547
 1807 004e BD42     		cmp	r5, r7
 1808              		.loc 1 691 18 discriminator 2 view .LVU548
 1809 0050 45F8046C 		str	r6, [r5, #-4]
 677:lib/chibios/os/hal/src/hal_usb.c **** #if USB_USE_WAIT == TRUE
 1810              		.loc 1 677 49 is_stmt 1 discriminator 2 view .LVU549
 677:lib/chibios/os/hal/src/hal_usb.c **** #if USB_USE_WAIT == TRUE
 1811              		.loc 1 677 15 discriminator 2 view .LVU550
 677:lib/chibios/os/hal/src/hal_usb.c **** #if USB_USE_WAIT == TRUE
 1812              		.loc 1 677 3 is_stmt 0 discriminator 2 view .LVU551
 1813 0054 E2D1     		bne	.L66
 692:lib/chibios/os/hal/src/hal_usb.c ****   }
 693:lib/chibios/os/hal/src/hal_usb.c **** 
 694:lib/chibios/os/hal/src/hal_usb.c ****   /* EP0 state machine initialization.*/
 695:lib/chibios/os/hal/src/hal_usb.c ****   usbp->ep0state = USB_EP0_STP_WAITING;
 1814              		.loc 1 695 3 is_stmt 1 view .LVU552
 1815              		.loc 1 695 18 is_stmt 0 view .LVU553
 1816 0056 84F86460 		strb	r6, [r4, #100]
 696:lib/chibios/os/hal/src/hal_usb.c **** 
 697:lib/chibios/os/hal/src/hal_usb.c ****   /* Low level reset.*/
 698:lib/chibios/os/hal/src/hal_usb.c ****   usb_lld_reset(usbp);
 1817              		.loc 1 698 3 is_stmt 1 view .LVU554
 1818 005a 2046     		mov	r0, r4
 1819 005c FFF7FEFF 		bl	usb_lld_reset
 1820              	.LVL102:
 699:lib/chibios/os/hal/src/hal_usb.c **** 
 700:lib/chibios/os/hal/src/hal_usb.c ****   /* Notification of reset event.*/
 701:lib/chibios/os/hal/src/hal_usb.c ****   _usb_isr_invoke_event_cb(usbp, USB_EVENT_RESET);
 1821              		.loc 1 701 3 view .LVU555
 1822 0060 6368     		ldr	r3, [r4, #4]
 1823 0062 1B68     		ldr	r3, [r3]
 1824 0064 23B1     		cbz	r3, .L62
 1825              		.loc 1 701 3 discriminator 1 view .LVU556
 1826 0066 2046     		mov	r0, r4
 1827 0068 0021     		movs	r1, #0
 702:lib/chibios/os/hal/src/hal_usb.c **** }
 1828              		.loc 1 702 1 is_stmt 0 discriminator 1 view .LVU557
 1829 006a BDE8F041 		pop	{r4, r5, r6, r7, r8, lr}
 1830              		.cfi_remember_state
 1831              		.cfi_restore 14
 1832              		.cfi_restore 8
 1833              		.cfi_restore 7
 1834              		.cfi_restore 6
 1835              		.cfi_restore 5
 1836              		.cfi_restore 4
 1837              		.cfi_def_cfa_offset 0
 1838              	.LVL103:
 701:lib/chibios/os/hal/src/hal_usb.c **** }
 1839              		.loc 1 701 3 discriminator 1 view .LVU558
 1840 006e 1847     		bx	r3	@ indirect register sibling call
 1841              	.LVL104:
 1842              	.L62:
 1843              		.cfi_restore_state
 1844              		.loc 1 702 1 view .LVU559
 1845 0070 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1846              		.loc 1 702 1 view .LVU560
 1847              		.cfi_endproc
 1848              	.LFE294:
 1850              		.section	.text._usb_suspend,"ax",%progbits
 1851              		.align	1
 1852              		.global	_usb_suspend
 1853              		.syntax unified
 1854              		.thumb
 1855              		.thumb_func
 1856              		.fpu fpv4-sp-d16
 1858              	_usb_suspend:
 1859              	.LVL105:
 1860              	.LFB295:
 703:lib/chibios/os/hal/src/hal_usb.c **** 
 704:lib/chibios/os/hal/src/hal_usb.c **** /**
 705:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   USB suspend routine.
 706:lib/chibios/os/hal/src/hal_usb.c ****  * @details This function must be invoked when an USB bus suspend condition is
 707:lib/chibios/os/hal/src/hal_usb.c ****  *          detected.
 708:lib/chibios/os/hal/src/hal_usb.c ****  *
 709:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] usbp      pointer to the @p USBDriver object
 710:lib/chibios/os/hal/src/hal_usb.c ****  *
 711:lib/chibios/os/hal/src/hal_usb.c ****  * @notapi
 712:lib/chibios/os/hal/src/hal_usb.c ****  */
 713:lib/chibios/os/hal/src/hal_usb.c **** void _usb_suspend(USBDriver *usbp) {
 1861              		.loc 1 713 36 is_stmt 1 view -0
 1862              		.cfi_startproc
 1863              		@ args = 0, pretend = 0, frame = 0
 1864              		@ frame_needed = 0, uses_anonymous_args = 0
 714:lib/chibios/os/hal/src/hal_usb.c ****   /* No state change, suspend always returns to previous state. */
 715:lib/chibios/os/hal/src/hal_usb.c **** 
 716:lib/chibios/os/hal/src/hal_usb.c ****   /* State transition.*/
 717:lib/chibios/os/hal/src/hal_usb.c ****   usbp->saved_state = usbp->state;
 1865              		.loc 1 717 3 view .LVU562
 713:lib/chibios/os/hal/src/hal_usb.c ****   /* No state change, suspend always returns to previous state. */
 1866              		.loc 1 713 36 is_stmt 0 view .LVU563
 1867 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1868              		.cfi_def_cfa_offset 24
 1869              		.cfi_offset 3, -24
 1870              		.cfi_offset 4, -20
 1871              		.cfi_offset 5, -16
 1872              		.cfi_offset 6, -12
 1873              		.cfi_offset 7, -8
 1874              		.cfi_offset 14, -4
 1875              		.loc 1 717 21 view .LVU564
 1876 0002 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1877 0004 80F88030 		strb	r3, [r0, #128]
 718:lib/chibios/os/hal/src/hal_usb.c ****   usbp->state       = USB_SUSPENDED;
 1878              		.loc 1 718 3 is_stmt 1 view .LVU565
 1879              		.loc 1 718 21 is_stmt 0 view .LVU566
 1880 0008 0523     		movs	r3, #5
 1881 000a 0370     		strb	r3, [r0]
 719:lib/chibios/os/hal/src/hal_usb.c **** 
 720:lib/chibios/os/hal/src/hal_usb.c ****   /* Notification of suspend event.*/
 721:lib/chibios/os/hal/src/hal_usb.c ****   _usb_isr_invoke_event_cb(usbp, USB_EVENT_SUSPEND);
 1882              		.loc 1 721 3 is_stmt 1 view .LVU567
 1883 000c 4368     		ldr	r3, [r0, #4]
 1884 000e 1B68     		ldr	r3, [r3]
 713:lib/chibios/os/hal/src/hal_usb.c ****   /* No state change, suspend always returns to previous state. */
 1885              		.loc 1 713 36 is_stmt 0 view .LVU568
 1886 0010 0446     		mov	r4, r0
 1887              		.loc 1 721 3 view .LVU569
 1888 0012 0BB1     		cbz	r3, .L79
 1889              		.loc 1 721 3 is_stmt 1 discriminator 1 view .LVU570
 1890 0014 0421     		movs	r1, #4
 1891 0016 9847     		blx	r3
 1892              	.LVL106:
 1893              	.L79:
 1894              		.loc 1 721 52 discriminator 3 view .LVU571
 722:lib/chibios/os/hal/src/hal_usb.c **** 
 723:lib/chibios/os/hal/src/hal_usb.c ****   /* Terminating all pending transactions.*/
 724:lib/chibios/os/hal/src/hal_usb.c ****   usbp->transmitting  = 0;
 1895              		.loc 1 724 3 discriminator 3 view .LVU572
 725:lib/chibios/os/hal/src/hal_usb.c ****   usbp->receiving     = 0;
 1896              		.loc 1 725 3 discriminator 3 view .LVU573
 724:lib/chibios/os/hal/src/hal_usb.c ****   usbp->receiving     = 0;
 1897              		.loc 1 724 23 is_stmt 0 discriminator 3 view .LVU574
 1898 0018 0026     		movs	r6, #0
 1899 001a A660     		str	r6, [r4, #8]
 1900              	.LBB530:
 726:lib/chibios/os/hal/src/hal_usb.c **** 
 727:lib/chibios/os/hal/src/hal_usb.c ****   /* Signaling the event to threads waiting on endpoints.*/
 728:lib/chibios/os/hal/src/hal_usb.c **** #if USB_USE_WAIT == TRUE
 729:lib/chibios/os/hal/src/hal_usb.c ****   {
 730:lib/chibios/os/hal/src/hal_usb.c ****     unsigned i;
 1901              		.loc 1 730 5 is_stmt 1 discriminator 3 view .LVU575
 731:lib/chibios/os/hal/src/hal_usb.c **** 
 732:lib/chibios/os/hal/src/hal_usb.c ****     for (i = 0; i <= (unsigned)USB_MAX_ENDPOINTS; i++) {
 1902              		.loc 1 732 5 discriminator 3 view .LVU576
 1903              	.LVL107:
 1904              		.loc 1 732 17 discriminator 3 view .LVU577
 1905 001c 04F10C05 		add	r5, r4, #12
 1906              	.LBB531:
 1907              	.LBB532:
 1908              	.LBB533:
 1909              	.LBB534:
 1910              	.LBB535:
 1911              	.LBB536:
 1912              		.loc 5 493 3 is_stmt 0 discriminator 3 view .LVU578
 1913 0020 2027     		movs	r7, #32
 1914 0022 2C34     		adds	r4, r4, #44
 1915              	.LVL108:
 1916              	.L83:
 1917              		.loc 5 493 3 discriminator 3 view .LVU579
 1918              	.LBE536:
 1919              	.LBE535:
 1920              	.LBE534:
 1921              	.LBE533:
 1922              	.LBE532:
 1923              	.LBE531:
 733:lib/chibios/os/hal/src/hal_usb.c ****       if (usbp->epc[i] != NULL) {
 1924              		.loc 1 733 7 is_stmt 1 view .LVU580
 1925              		.loc 1 733 20 is_stmt 0 view .LVU581
 1926 0024 55F8043B 		ldr	r3, [r5], #4
 1927              		.loc 1 733 10 view .LVU582
 1928 0028 ABB1     		cbz	r3, .L80
 734:lib/chibios/os/hal/src/hal_usb.c ****         osalSysLockFromISR();
 1929              		.loc 1 734 9 is_stmt 1 view .LVU583
 1930              	.LBB548:
 1931              	.LBI531:
 531:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 1932              		.loc 2 531 20 view .LVU584
 1933              	.LBE548:
 1934              	.LBE530:
 533:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 1935              		.loc 2 533 3 view .LVU585
 1936              	.LBB576:
 1937              	.LBB549:
 1938              	.LBB544:
 1939              	.LBI532:
 393:./lib/chibios/os/rt/include/chsys.h **** 
 1940              		.loc 3 393 20 view .LVU586
 1941              	.LBE544:
 1942              	.LBE549:
 1943              	.LBE576:
 395:./lib/chibios/os/rt/include/chsys.h ****   _stats_start_measure_crit_isr();
 1944              		.loc 3 395 3 view .LVU587
 1945              	.LBB577:
 1946              	.LBB550:
 1947              	.LBB545:
 1948              	.LBB541:
 1949              	.LBI533:
 708:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 1950              		.loc 4 708 27 view .LVU588
 1951              	.LBE541:
 1952              	.LBE545:
 1953              	.LBE550:
 1954              	.LBE577:
 710:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** }
 1955              		.loc 4 710 3 view .LVU589
 1956              	.LBB578:
 1957              	.LBB551:
 1958              	.LBB546:
 1959              	.LBB542:
 1960              	.LBB539:
 1961              	.LBI534:
 669:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 1962              		.loc 4 669 27 view .LVU590
 1963              	.LBE539:
 1964              	.LBE542:
 1965              	.LBE546:
 1966              	.LBE551:
 1967              	.LBE578:
 677:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if defined(__CM7_REV)
 1968              		.loc 4 677 3 view .LVU591
 1969              	.LVL109:
 1970              	.LBB579:
 1971              	.LBB552:
 1972              	.LBB547:
 1973              	.LBB543:
 1974              	.LBB540:
 1975              	.LBB538:
 1976              	.LBI535:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 1977              		.loc 5 491 27 view .LVU592
 1978              	.LBB537:
 1979              		.loc 5 493 3 view .LVU593
 1980              		.syntax unified
 1981              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 1982 002a 87F31188 		MSR basepri, r7
 1983              	@ 0 "" 2
 1984              	.LVL110:
 1985              		.loc 5 493 3 is_stmt 0 view .LVU594
 1986              		.thumb
 1987              		.syntax unified
 1988              	.LBE537:
 1989              	.LBE538:
 1990              	.LBE540:
 1991              	.LBE543:
 1992              	.LBE547:
 1993              	.LBE552:
 1994              	.LBE579:
 396:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_lock_from_isr();
 1995              		.loc 3 396 34 is_stmt 1 view .LVU595
 397:./lib/chibios/os/rt/include/chsys.h **** }
 1996              		.loc 3 397 29 view .LVU596
 1997              	.LBB580:
 735:lib/chibios/os/hal/src/hal_usb.c ****         if (usbp->epc[i]->in_state != NULL) {
 1998              		.loc 1 735 9 view .LVU597
 1999              		.loc 1 735 25 is_stmt 0 view .LVU598
 2000 002e 55F8043C 		ldr	r3, [r5, #-4]
 2001 0032 5869     		ldr	r0, [r3, #20]
 2002              		.loc 1 735 12 view .LVU599
 2003 0034 20B1     		cbz	r0, .L81
 736:lib/chibios/os/hal/src/hal_usb.c ****           osalThreadResumeI(&usbp->epc[i]->in_state->thread, MSG_RESET);
 2004              		.loc 1 736 11 is_stmt 1 view .LVU600
 2005              	.LVL111:
 2006              	.LBB553:
 2007              	.LBI553:
 773:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 2008              		.loc 2 773 20 view .LVU601
 2009              	.LBB554:
 2010              		.loc 2 775 3 view .LVU602
 2011 0036 6FF00101 		mvn	r1, #1
 2012 003a 0C30     		adds	r0, r0, #12
 2013              	.LVL112:
 2014              		.loc 2 775 3 is_stmt 0 view .LVU603
 2015 003c FFF7FEFF 		bl	chThdResumeI
 2016              	.LVL113:
 2017              	.L81:
 2018              		.loc 2 775 3 view .LVU604
 2019              	.LBE554:
 2020              	.LBE553:
 737:lib/chibios/os/hal/src/hal_usb.c ****         }
 738:lib/chibios/os/hal/src/hal_usb.c ****         if (usbp->epc[i]->out_state != NULL) {
 2021              		.loc 1 738 9 is_stmt 1 view .LVU605
 2022              		.loc 1 738 25 is_stmt 0 view .LVU606
 2023 0040 55F8043C 		ldr	r3, [r5, #-4]
 2024 0044 9869     		ldr	r0, [r3, #24]
 2025              		.loc 1 738 12 view .LVU607
 2026 0046 20B1     		cbz	r0, .L82
 739:lib/chibios/os/hal/src/hal_usb.c ****           osalThreadResumeI(&usbp->epc[i]->out_state->thread, MSG_RESET);
 2027              		.loc 1 739 11 is_stmt 1 view .LVU608
 2028              	.LVL114:
 2029              	.LBB555:
 2030              	.LBI555:
 773:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 2031              		.loc 2 773 20 view .LVU609
 2032              	.LBB556:
 2033              		.loc 2 775 3 view .LVU610
 2034 0048 6FF00101 		mvn	r1, #1
 2035 004c 0C30     		adds	r0, r0, #12
 2036              	.LVL115:
 2037              		.loc 2 775 3 is_stmt 0 view .LVU611
 2038 004e FFF7FEFF 		bl	chThdResumeI
 2039              	.LVL116:
 2040              	.L82:
 2041              		.loc 2 775 3 view .LVU612
 2042              	.LBE556:
 2043              	.LBE555:
 740:lib/chibios/os/hal/src/hal_usb.c ****         }
 741:lib/chibios/os/hal/src/hal_usb.c ****         osalSysUnlockFromISR();
 2044              		.loc 1 741 9 is_stmt 1 view .LVU613
 2045              	.LBB557:
 2046              	.LBI557:
 542:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 2047              		.loc 2 542 20 view .LVU614
 2048              	.LBB558:
 544:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 2049              		.loc 2 544 3 view .LVU615
 2050              	.LBB559:
 2051              	.LBI559:
 413:./lib/chibios/os/rt/include/chsys.h **** 
 2052              		.loc 3 413 20 view .LVU616
 2053              	.LBE559:
 2054              	.LBE558:
 2055              	.LBE557:
 2056              	.LBE580:
 415:./lib/chibios/os/rt/include/chsys.h ****   _stats_stop_measure_crit_isr();
 2057              		.loc 3 415 31 view .LVU617
 416:./lib/chibios/os/rt/include/chsys.h ****   port_unlock_from_isr();
 2058              		.loc 3 416 33 view .LVU618
 2059              		.loc 3 417 3 view .LVU619
 2060              	.LBB581:
 2061              	.LBB573:
 2062              	.LBB570:
 2063              	.LBB567:
 2064              	.LBB560:
 2065              	.LBI560:
 719:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 2066              		.loc 4 719 27 view .LVU620
 2067              	.LBE560:
 2068              	.LBE567:
 2069              	.LBE570:
 2070              	.LBE573:
 2071              	.LBE581:
 2072              		.loc 4 721 3 view .LVU621
 2073              	.LBB582:
 2074              	.LBB574:
 2075              	.LBB571:
 2076              	.LBB568:
 2077              	.LBB565:
 2078              	.LBB561:
 2079              	.LBI561:
 693:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 2080              		.loc 4 693 27 view .LVU622
 2081              	.LBE561:
 2082              	.LBE565:
 2083              	.LBE568:
 2084              	.LBE571:
 2085              	.LBE574:
 2086              	.LBE582:
 696:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else /* CORTEX_SIMPLIFIED_PRIORITY */
 2087              		.loc 4 696 3 view .LVU623
 2088              	.LBB583:
 2089              	.LBB575:
 2090              	.LBB572:
 2091              	.LBB569:
 2092              	.LBB566:
 2093              	.LBB564:
 2094              	.LBB562:
 2095              	.LBI562:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 2096              		.loc 5 491 27 view .LVU624
 2097              	.LBB563:
 2098              		.loc 5 493 3 view .LVU625
 2099              		.syntax unified
 2100              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 2101 0052 86F31188 		MSR basepri, r6
 2102              	@ 0 "" 2
 2103              	.LVL117:
 2104              		.thumb
 2105              		.syntax unified
 2106              	.L80:
 2107              		.loc 5 493 3 is_stmt 0 view .LVU626
 2108              	.LBE563:
 2109              	.LBE562:
 2110              	.LBE564:
 2111              	.LBE566:
 2112              	.LBE569:
 2113              	.LBE572:
 2114              	.LBE575:
 732:lib/chibios/os/hal/src/hal_usb.c ****       if (usbp->epc[i] != NULL) {
 2115              		.loc 1 732 51 is_stmt 1 discriminator 2 view .LVU627
 732:lib/chibios/os/hal/src/hal_usb.c ****       if (usbp->epc[i] != NULL) {
 2116              		.loc 1 732 17 discriminator 2 view .LVU628
 732:lib/chibios/os/hal/src/hal_usb.c ****       if (usbp->epc[i] != NULL) {
 2117              		.loc 1 732 5 is_stmt 0 discriminator 2 view .LVU629
 2118 0056 A542     		cmp	r5, r4
 2119 0058 E4D1     		bne	.L83
 2120              	.LBE583:
 742:lib/chibios/os/hal/src/hal_usb.c ****       }
 743:lib/chibios/os/hal/src/hal_usb.c ****     }
 744:lib/chibios/os/hal/src/hal_usb.c ****   }
 745:lib/chibios/os/hal/src/hal_usb.c **** #endif
 746:lib/chibios/os/hal/src/hal_usb.c **** }
 2121              		.loc 1 746 1 view .LVU630
 2122 005a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2123              		.loc 1 746 1 view .LVU631
 2124              		.cfi_endproc
 2125              	.LFE295:
 2127              		.section	.text._usb_wakeup,"ax",%progbits
 2128              		.align	1
 2129              		.global	_usb_wakeup
 2130              		.syntax unified
 2131              		.thumb
 2132              		.thumb_func
 2133              		.fpu fpv4-sp-d16
 2135              	_usb_wakeup:
 2136              	.LVL118:
 2137              	.LFB296:
 747:lib/chibios/os/hal/src/hal_usb.c **** 
 748:lib/chibios/os/hal/src/hal_usb.c **** /**
 749:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   USB wake-up routine.
 750:lib/chibios/os/hal/src/hal_usb.c ****  * @details This function must be invoked when an USB bus wake-up condition is
 751:lib/chibios/os/hal/src/hal_usb.c ****  *          detected.
 752:lib/chibios/os/hal/src/hal_usb.c ****  *
 753:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] usbp      pointer to the @p USBDriver object
 754:lib/chibios/os/hal/src/hal_usb.c ****  *
 755:lib/chibios/os/hal/src/hal_usb.c ****  * @notapi
 756:lib/chibios/os/hal/src/hal_usb.c ****  */
 757:lib/chibios/os/hal/src/hal_usb.c **** void _usb_wakeup(USBDriver *usbp) {
 2138              		.loc 1 757 35 is_stmt 1 view -0
 2139              		.cfi_startproc
 2140              		@ args = 0, pretend = 0, frame = 0
 2141              		@ frame_needed = 0, uses_anonymous_args = 0
 2142              		@ link register save eliminated.
 758:lib/chibios/os/hal/src/hal_usb.c **** 
 759:lib/chibios/os/hal/src/hal_usb.c ****   /* State transition, returning to the previous state.*/
 760:lib/chibios/os/hal/src/hal_usb.c ****   usbp->state = usbp->saved_state;
 2143              		.loc 1 760 3 view .LVU633
 2144              		.loc 1 760 15 is_stmt 0 view .LVU634
 2145 0000 90F88020 		ldrb	r2, [r0, #128]	@ zero_extendqisi2
 761:lib/chibios/os/hal/src/hal_usb.c **** 
 762:lib/chibios/os/hal/src/hal_usb.c ****   /* Notification of suspend event.*/
 763:lib/chibios/os/hal/src/hal_usb.c ****   _usb_isr_invoke_event_cb(usbp, USB_EVENT_WAKEUP);
 2146              		.loc 1 763 3 view .LVU635
 2147 0004 4368     		ldr	r3, [r0, #4]
 760:lib/chibios/os/hal/src/hal_usb.c **** 
 2148              		.loc 1 760 15 view .LVU636
 2149 0006 0270     		strb	r2, [r0]
 2150              		.loc 1 763 3 is_stmt 1 view .LVU637
 2151 0008 1B68     		ldr	r3, [r3]
 2152 000a 0BB1     		cbz	r3, .L97
 2153              		.loc 1 763 3 discriminator 1 view .LVU638
 2154 000c 0521     		movs	r1, #5
 2155 000e 1847     		bx	r3	@ indirect register sibling call
 2156              	.LVL119:
 2157              	.L97:
 764:lib/chibios/os/hal/src/hal_usb.c **** }
 2158              		.loc 1 764 1 is_stmt 0 view .LVU639
 2159 0010 7047     		bx	lr
 2160              		.cfi_endproc
 2161              	.LFE296:
 2163              		.section	.text._usb_ep0setup,"ax",%progbits
 2164              		.align	1
 2165              		.global	_usb_ep0setup
 2166              		.syntax unified
 2167              		.thumb
 2168              		.thumb_func
 2169              		.fpu fpv4-sp-d16
 2171              	_usb_ep0setup:
 2172              	.LVL120:
 2173              	.LFB297:
 765:lib/chibios/os/hal/src/hal_usb.c **** 
 766:lib/chibios/os/hal/src/hal_usb.c **** /**
 767:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   Default EP0 SETUP callback.
 768:lib/chibios/os/hal/src/hal_usb.c ****  * @details This function is used by the low level driver as default handler
 769:lib/chibios/os/hal/src/hal_usb.c ****  *          for EP0 SETUP events.
 770:lib/chibios/os/hal/src/hal_usb.c ****  *
 771:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] usbp      pointer to the @p USBDriver object
 772:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] ep        endpoint number, always zero
 773:lib/chibios/os/hal/src/hal_usb.c ****  *
 774:lib/chibios/os/hal/src/hal_usb.c ****  * @notapi
 775:lib/chibios/os/hal/src/hal_usb.c ****  */
 776:lib/chibios/os/hal/src/hal_usb.c **** void _usb_ep0setup(USBDriver *usbp, usbep_t ep) {
 2174              		.loc 1 776 49 is_stmt 1 view -0
 2175              		.cfi_startproc
 2176              		@ args = 0, pretend = 0, frame = 0
 2177              		@ frame_needed = 0, uses_anonymous_args = 0
 777:lib/chibios/os/hal/src/hal_usb.c ****   size_t max;
 2178              		.loc 1 777 3 view .LVU641
 778:lib/chibios/os/hal/src/hal_usb.c **** 
 779:lib/chibios/os/hal/src/hal_usb.c ****   /* Is the EP0 state machine in the correct state for handling setup
 780:lib/chibios/os/hal/src/hal_usb.c ****      packets?*/
 781:lib/chibios/os/hal/src/hal_usb.c ****   if (usbp->ep0state != USB_EP0_STP_WAITING) {
 2179              		.loc 1 781 3 view .LVU642
 776:lib/chibios/os/hal/src/hal_usb.c ****   size_t max;
 2180              		.loc 1 776 49 is_stmt 0 view .LVU643
 2181 0000 70B5     		push	{r4, r5, r6, lr}
 2182              		.cfi_def_cfa_offset 16
 2183              		.cfi_offset 4, -16
 2184              		.cfi_offset 5, -12
 2185              		.cfi_offset 6, -8
 2186              		.cfi_offset 14, -4
 2187              		.loc 1 781 6 view .LVU644
 2188 0002 90F86430 		ldrb	r3, [r0, #100]	@ zero_extendqisi2
 776:lib/chibios/os/hal/src/hal_usb.c ****   size_t max;
 2189              		.loc 1 776 49 view .LVU645
 2190 0006 0446     		mov	r4, r0
 2191              		.loc 1 781 6 view .LVU646
 2192 0008 13B1     		cbz	r3, .L100
 782:lib/chibios/os/hal/src/hal_usb.c ****     /* This is unexpected could require handling with a warning event.*/
 783:lib/chibios/os/hal/src/hal_usb.c ****     /* CHTODO: handling here.*/
 784:lib/chibios/os/hal/src/hal_usb.c **** 
 785:lib/chibios/os/hal/src/hal_usb.c ****     /* Resetting the EP0 state machine and going ahead.*/
 786:lib/chibios/os/hal/src/hal_usb.c ****     usbp->ep0state = USB_EP0_STP_WAITING;
 2193              		.loc 1 786 5 is_stmt 1 view .LVU647
 2194              		.loc 1 786 20 is_stmt 0 view .LVU648
 2195 000a 0023     		movs	r3, #0
 2196 000c 80F86430 		strb	r3, [r0, #100]
 2197              	.L100:
 787:lib/chibios/os/hal/src/hal_usb.c ****   }
 788:lib/chibios/os/hal/src/hal_usb.c **** 
 789:lib/chibios/os/hal/src/hal_usb.c ****   /* Reading the setup data into the driver buffer.*/
 790:lib/chibios/os/hal/src/hal_usb.c ****   usbReadSetup(usbp, ep, usbp->setup);
 2198              		.loc 1 790 3 is_stmt 1 view .LVU649
 2199 0010 04F17402 		add	r2, r4, #116
 2200 0014 2046     		mov	r0, r4
 2201              	.LVL121:
 2202              		.loc 1 790 3 is_stmt 0 view .LVU650
 2203 0016 FFF7FEFF 		bl	usb_lld_read_setup
 2204              	.LVL122:
 791:lib/chibios/os/hal/src/hal_usb.c **** 
 792:lib/chibios/os/hal/src/hal_usb.c ****   /* First verify if the application has an handler installed for this
 793:lib/chibios/os/hal/src/hal_usb.c ****      request.*/
 794:lib/chibios/os/hal/src/hal_usb.c ****   /*lint -save -e9007 [13.5] No side effects, it is intentional.*/
 795:lib/chibios/os/hal/src/hal_usb.c ****   if ((usbp->config->requests_hook_cb == NULL) ||
 2205              		.loc 1 795 3 is_stmt 1 view .LVU651
 2206              		.loc 1 795 20 is_stmt 0 view .LVU652
 2207 001a 6368     		ldr	r3, [r4, #4]
 2208 001c 9B68     		ldr	r3, [r3, #8]
 2209              		.loc 1 795 6 view .LVU653
 2210 001e B3B9     		cbnz	r3, .L101
 2211              	.L105:
 796:lib/chibios/os/hal/src/hal_usb.c ****       !(usbp->config->requests_hook_cb(usbp))) {
 797:lib/chibios/os/hal/src/hal_usb.c ****   /*lint -restore*/
 798:lib/chibios/os/hal/src/hal_usb.c ****     /* Invoking the default handler, if this fails then stalls the
 799:lib/chibios/os/hal/src/hal_usb.c ****        endpoint zero as error.*/
 800:lib/chibios/os/hal/src/hal_usb.c ****     /*lint -save -e9007 [13.5] No side effects, it is intentional.*/
 801:lib/chibios/os/hal/src/hal_usb.c ****     if (((usbp->setup[0] & USB_RTYPE_TYPE_MASK) != USB_RTYPE_TYPE_STD) ||
 2212              		.loc 1 801 5 is_stmt 1 view .LVU654
 2213              		.loc 1 801 22 is_stmt 0 view .LVU655
 2214 0020 94F87430 		ldrb	r3, [r4, #116]	@ zero_extendqisi2
 2215              		.loc 1 801 8 view .LVU656
 2216 0024 13F06005 		ands	r5, r3, #96
 2217 0028 35D0     		beq	.L175
 2218              	.L121:
 802:lib/chibios/os/hal/src/hal_usb.c ****         !default_handler(usbp)) {
 803:lib/chibios/os/hal/src/hal_usb.c ****     /*lint -restore*/
 804:lib/chibios/os/hal/src/hal_usb.c ****       /* Error response, the state machine goes into an error state, the low
 805:lib/chibios/os/hal/src/hal_usb.c ****          level layer will have to reset it to USB_EP0_WAITING_SETUP after
 806:lib/chibios/os/hal/src/hal_usb.c ****          receiving a SETUP packet.*/
 807:lib/chibios/os/hal/src/hal_usb.c ****       usb_lld_stall_in(usbp, 0);
 2219              		.loc 1 807 7 is_stmt 1 view .LVU657
 2220 002a 0021     		movs	r1, #0
 2221 002c 2046     		mov	r0, r4
 2222 002e FFF7FEFF 		bl	usb_lld_stall_in
 2223              	.LVL123:
 808:lib/chibios/os/hal/src/hal_usb.c ****       usb_lld_stall_out(usbp, 0);
 2224              		.loc 1 808 7 view .LVU658
 2225 0032 0021     		movs	r1, #0
 2226 0034 2046     		mov	r0, r4
 2227 0036 FFF7FEFF 		bl	usb_lld_stall_out
 2228              	.LVL124:
 809:lib/chibios/os/hal/src/hal_usb.c ****       _usb_isr_invoke_event_cb(usbp, USB_EVENT_STALLED);
 2229              		.loc 1 809 7 view .LVU659
 2230 003a 6368     		ldr	r3, [r4, #4]
 2231 003c 1B68     		ldr	r3, [r3]
 2232 003e 13B1     		cbz	r3, .L133
 2233              		.loc 1 809 7 discriminator 1 view .LVU660
 2234 0040 0621     		movs	r1, #6
 2235 0042 2046     		mov	r0, r4
 2236 0044 9847     		blx	r3
 2237              	.LVL125:
 2238              	.L133:
 2239              		.loc 1 809 56 discriminator 3 view .LVU661
 810:lib/chibios/os/hal/src/hal_usb.c ****       usbp->ep0state = USB_EP0_ERROR;
 2240              		.loc 1 810 7 discriminator 3 view .LVU662
 2241              		.loc 1 810 22 is_stmt 0 discriminator 3 view .LVU663
 2242 0046 0623     		movs	r3, #6
 2243 0048 84F86430 		strb	r3, [r4, #100]
 811:lib/chibios/os/hal/src/hal_usb.c ****       return;
 2244              		.loc 1 811 7 is_stmt 1 discriminator 3 view .LVU664
 2245              	.L99:
 812:lib/chibios/os/hal/src/hal_usb.c ****     }
 813:lib/chibios/os/hal/src/hal_usb.c ****   }
 814:lib/chibios/os/hal/src/hal_usb.c **** #if (USB_SET_ADDRESS_ACK_HANDLING == USB_SET_ADDRESS_ACK_HW)
 815:lib/chibios/os/hal/src/hal_usb.c ****   if (usbp->setup[1] == USB_REQ_SET_ADDRESS) {
 816:lib/chibios/os/hal/src/hal_usb.c ****     /* Zero-length packet sent by hardware */
 817:lib/chibios/os/hal/src/hal_usb.c ****     return;
 818:lib/chibios/os/hal/src/hal_usb.c ****   }
 819:lib/chibios/os/hal/src/hal_usb.c **** #endif
 820:lib/chibios/os/hal/src/hal_usb.c ****   /* Transfer preparation. The request handler must have populated
 821:lib/chibios/os/hal/src/hal_usb.c ****      correctly the fields ep0next, ep0n and ep0endcb using the macro
 822:lib/chibios/os/hal/src/hal_usb.c ****      usbSetupTransfer().*/
 823:lib/chibios/os/hal/src/hal_usb.c ****   max = (size_t)get_hword(&usbp->setup[6]);
 824:lib/chibios/os/hal/src/hal_usb.c ****   /* The transfer size cannot exceed the specified amount.*/
 825:lib/chibios/os/hal/src/hal_usb.c ****   if (usbp->ep0n > max) {
 826:lib/chibios/os/hal/src/hal_usb.c ****     usbp->ep0n = max;
 827:lib/chibios/os/hal/src/hal_usb.c ****   }
 828:lib/chibios/os/hal/src/hal_usb.c ****   if ((usbp->setup[0] & USB_RTYPE_DIR_MASK) == USB_RTYPE_DIR_DEV2HOST) {
 829:lib/chibios/os/hal/src/hal_usb.c ****     /* IN phase.*/
 830:lib/chibios/os/hal/src/hal_usb.c ****     if (usbp->ep0n != 0U) {
 831:lib/chibios/os/hal/src/hal_usb.c ****       /* Starts the transmit phase.*/
 832:lib/chibios/os/hal/src/hal_usb.c ****       usbp->ep0state = USB_EP0_IN_TX;
 833:lib/chibios/os/hal/src/hal_usb.c ****       osalSysLockFromISR();
 834:lib/chibios/os/hal/src/hal_usb.c ****       usbStartTransmitI(usbp, 0, usbp->ep0next, usbp->ep0n);
 835:lib/chibios/os/hal/src/hal_usb.c ****       osalSysUnlockFromISR();
 836:lib/chibios/os/hal/src/hal_usb.c ****     }
 837:lib/chibios/os/hal/src/hal_usb.c ****     else {
 838:lib/chibios/os/hal/src/hal_usb.c ****       /* No transmission phase, directly receiving the zero sized status
 839:lib/chibios/os/hal/src/hal_usb.c ****          packet.*/
 840:lib/chibios/os/hal/src/hal_usb.c ****       usbp->ep0state = USB_EP0_OUT_WAITING_STS;
 841:lib/chibios/os/hal/src/hal_usb.c **** #if (USB_EP0_STATUS_STAGE == USB_EP0_STATUS_STAGE_SW)
 842:lib/chibios/os/hal/src/hal_usb.c ****       osalSysLockFromISR();
 843:lib/chibios/os/hal/src/hal_usb.c ****       usbStartReceiveI(usbp, 0, NULL, 0);
 844:lib/chibios/os/hal/src/hal_usb.c ****       osalSysUnlockFromISR();
 845:lib/chibios/os/hal/src/hal_usb.c **** #else
 846:lib/chibios/os/hal/src/hal_usb.c ****       usb_lld_end_setup(usbp, ep);
 847:lib/chibios/os/hal/src/hal_usb.c **** #endif
 848:lib/chibios/os/hal/src/hal_usb.c ****     }
 849:lib/chibios/os/hal/src/hal_usb.c ****   }
 850:lib/chibios/os/hal/src/hal_usb.c ****   else {
 851:lib/chibios/os/hal/src/hal_usb.c ****     /* OUT phase.*/
 852:lib/chibios/os/hal/src/hal_usb.c ****     if (usbp->ep0n != 0U) {
 853:lib/chibios/os/hal/src/hal_usb.c ****       /* Starts the receive phase.*/
 854:lib/chibios/os/hal/src/hal_usb.c ****       usbp->ep0state = USB_EP0_OUT_RX;
 855:lib/chibios/os/hal/src/hal_usb.c ****       osalSysLockFromISR();
 856:lib/chibios/os/hal/src/hal_usb.c ****       usbStartReceiveI(usbp, 0, (uint8_t *)usbp->ep0next, usbp->ep0n);
 857:lib/chibios/os/hal/src/hal_usb.c ****       osalSysUnlockFromISR();
 858:lib/chibios/os/hal/src/hal_usb.c ****     }
 859:lib/chibios/os/hal/src/hal_usb.c ****     else {
 860:lib/chibios/os/hal/src/hal_usb.c ****       /* No receive phase, directly sending the zero sized status
 861:lib/chibios/os/hal/src/hal_usb.c ****          packet.*/
 862:lib/chibios/os/hal/src/hal_usb.c ****       usbp->ep0state = USB_EP0_IN_SENDING_STS;
 863:lib/chibios/os/hal/src/hal_usb.c **** #if (USB_EP0_STATUS_STAGE == USB_EP0_STATUS_STAGE_SW)
 864:lib/chibios/os/hal/src/hal_usb.c ****       osalSysLockFromISR();
 865:lib/chibios/os/hal/src/hal_usb.c ****       usbStartTransmitI(usbp, 0, NULL, 0);
 866:lib/chibios/os/hal/src/hal_usb.c ****       osalSysUnlockFromISR();
 867:lib/chibios/os/hal/src/hal_usb.c **** #else
 868:lib/chibios/os/hal/src/hal_usb.c ****       usb_lld_end_setup(usbp, ep);
 869:lib/chibios/os/hal/src/hal_usb.c **** #endif
 870:lib/chibios/os/hal/src/hal_usb.c ****     }
 871:lib/chibios/os/hal/src/hal_usb.c ****   }
 872:lib/chibios/os/hal/src/hal_usb.c **** }
 2246              		.loc 1 872 1 is_stmt 0 view .LVU665
 2247 004c 70BD     		pop	{r4, r5, r6, pc}
 2248              	.LVL126:
 2249              	.L101:
 796:lib/chibios/os/hal/src/hal_usb.c ****   /*lint -restore*/
 2250              		.loc 1 796 9 discriminator 1 view .LVU666
 2251 004e 2046     		mov	r0, r4
 2252 0050 9847     		blx	r3
 2253              	.LVL127:
 795:lib/chibios/os/hal/src/hal_usb.c ****       !(usbp->config->requests_hook_cb(usbp))) {
 2254              		.loc 1 795 48 discriminator 1 view .LVU667
 2255 0052 0028     		cmp	r0, #0
 2256 0054 E4D0     		beq	.L105
 2257              	.L104:
 823:lib/chibios/os/hal/src/hal_usb.c ****   /* The transfer size cannot exceed the specified amount.*/
 2258              		.loc 1 823 3 is_stmt 1 view .LVU668
 2259              	.LVL128:
  52:lib/chibios/os/hal/src/hal_usb.c **** 
 2260              		.loc 1 52 3 view .LVU669
  54:lib/chibios/os/hal/src/hal_usb.c ****   hw |= (uint16_t)*p << 8U;
 2261              		.loc 1 54 3 view .LVU670
  55:lib/chibios/os/hal/src/hal_usb.c ****   return hw;
 2262              		.loc 1 55 3 view .LVU671
  56:lib/chibios/os/hal/src/hal_usb.c **** }
 2263              		.loc 1 56 3 view .LVU672
 823:lib/chibios/os/hal/src/hal_usb.c ****   /* The transfer size cannot exceed the specified amount.*/
 2264              		.loc 1 823 7 is_stmt 0 view .LVU673
 2265 0056 B4F87A30 		ldrh	r3, [r4, #122]	@ unaligned
 2266              	.LVL129:
 825:lib/chibios/os/hal/src/hal_usb.c ****     usbp->ep0n = max;
 2267              		.loc 1 825 3 is_stmt 1 view .LVU674
 825:lib/chibios/os/hal/src/hal_usb.c ****     usbp->ep0n = max;
 2268              		.loc 1 825 6 is_stmt 0 view .LVU675
 2269 005a E26E     		ldr	r2, [r4, #108]
 2270 005c 9A42     		cmp	r2, r3
 826:lib/chibios/os/hal/src/hal_usb.c ****   }
 2271              		.loc 1 826 5 is_stmt 1 view .LVU676
 826:lib/chibios/os/hal/src/hal_usb.c ****   }
 2272              		.loc 1 826 16 is_stmt 0 view .LVU677
 2273 005e 88BF     		it	hi
 2274 0060 E366     		strhi	r3, [r4, #108]
 828:lib/chibios/os/hal/src/hal_usb.c ****     /* IN phase.*/
 2275              		.loc 1 828 3 is_stmt 1 view .LVU678
 828:lib/chibios/os/hal/src/hal_usb.c ****     /* IN phase.*/
 2276              		.loc 1 828 6 is_stmt 0 view .LVU679
 2277 0062 94F97430 		ldrsb	r3, [r4, #116]
 2278              	.LVL130:
 830:lib/chibios/os/hal/src/hal_usb.c ****       /* Starts the transmit phase.*/
 2279              		.loc 1 830 13 view .LVU680
 2280 0066 E56E     		ldr	r5, [r4, #108]
 828:lib/chibios/os/hal/src/hal_usb.c ****     /* IN phase.*/
 2281              		.loc 1 828 6 view .LVU681
 2282 0068 002B     		cmp	r3, #0
 2283 006a 4FF02003 		mov	r3, #32
 2284 006e 80F2EF80 		bge	.L136
 830:lib/chibios/os/hal/src/hal_usb.c ****       /* Starts the transmit phase.*/
 2285              		.loc 1 830 5 is_stmt 1 view .LVU682
 830:lib/chibios/os/hal/src/hal_usb.c ****       /* Starts the transmit phase.*/
 2286              		.loc 1 830 8 is_stmt 0 view .LVU683
 2287 0072 002D     		cmp	r5, #0
 2288 0074 00F0DE80 		beq	.L137
 832:lib/chibios/os/hal/src/hal_usb.c ****       osalSysLockFromISR();
 2289              		.loc 1 832 7 is_stmt 1 view .LVU684
 832:lib/chibios/os/hal/src/hal_usb.c ****       osalSysLockFromISR();
 2290              		.loc 1 832 22 is_stmt 0 view .LVU685
 2291 0078 0922     		movs	r2, #9
 2292 007a 84F86420 		strb	r2, [r4, #100]
 833:lib/chibios/os/hal/src/hal_usb.c ****       usbStartTransmitI(usbp, 0, usbp->ep0next, usbp->ep0n);
 2293              		.loc 1 833 7 is_stmt 1 view .LVU686
 2294              	.LBB654:
 2295              	.LBI654:
 531:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 2296              		.loc 2 531 20 view .LVU687
 2297              	.LBE654:
 533:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 2298              		.loc 2 533 3 view .LVU688
 2299              	.LBB666:
 2300              	.LBB655:
 2301              	.LBI655:
 393:./lib/chibios/os/rt/include/chsys.h **** 
 2302              		.loc 3 393 20 view .LVU689
 2303              	.LBE655:
 2304              	.LBE666:
 395:./lib/chibios/os/rt/include/chsys.h ****   _stats_start_measure_crit_isr();
 2305              		.loc 3 395 3 view .LVU690
 2306              	.LBB667:
 2307              	.LBB663:
 2308              	.LBB656:
 2309              	.LBI656:
 708:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 2310              		.loc 4 708 27 view .LVU691
 2311              	.LBE656:
 2312              	.LBE663:
 2313              	.LBE667:
 710:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** }
 2314              		.loc 4 710 3 view .LVU692
 2315              	.LBB668:
 2316              	.LBB664:
 2317              	.LBB661:
 2318              	.LBB657:
 2319              	.LBI657:
 669:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 2320              		.loc 4 669 27 view .LVU693
 2321              	.LBE657:
 2322              	.LBE661:
 2323              	.LBE664:
 2324              	.LBE668:
 677:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if defined(__CM7_REV)
 2325              		.loc 4 677 3 view .LVU694
 2326              	.LVL131:
 2327              	.LBB669:
 2328              	.LBB665:
 2329              	.LBB662:
 2330              	.LBB660:
 2331              	.LBB658:
 2332              	.LBI658:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 2333              		.loc 5 491 27 view .LVU695
 2334              	.LBB659:
 2335              		.loc 5 493 3 view .LVU696
 2336              		.syntax unified
 2337              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 2338 007e 83F31188 		MSR basepri, r3
 2339              	@ 0 "" 2
 2340              	.LVL132:
 2341              		.loc 5 493 3 is_stmt 0 view .LVU697
 2342              		.thumb
 2343              		.syntax unified
 2344              	.LBE659:
 2345              	.LBE658:
 2346              	.LBE660:
 2347              	.LBE662:
 2348              	.LBE665:
 2349              	.LBE669:
 396:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_lock_from_isr();
 2350              		.loc 3 396 34 is_stmt 1 view .LVU698
 397:./lib/chibios/os/rt/include/chsys.h **** }
 2351              		.loc 3 397 29 view .LVU699
 834:lib/chibios/os/hal/src/hal_usb.c ****       osalSysUnlockFromISR();
 2352              		.loc 1 834 7 view .LVU700
 2353 0082 0021     		movs	r1, #0
 2354 0084 D4E91A23 		ldrd	r2, r3, [r4, #104]
 2355 0088 2046     		mov	r0, r4
 2356 008a FFF7FEFF 		bl	usbStartTransmitI
 2357              	.LVL133:
 835:lib/chibios/os/hal/src/hal_usb.c ****     }
 2358              		.loc 1 835 7 view .LVU701
 2359              	.LBB670:
 2360              	.LBI670:
 542:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 2361              		.loc 2 542 20 view .LVU702
 2362              	.LBB671:
 544:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 2363              		.loc 2 544 3 view .LVU703
 2364              	.LBB672:
 2365              	.LBI672:
 413:./lib/chibios/os/rt/include/chsys.h **** 
 2366              		.loc 3 413 20 view .LVU704
 2367              	.LBE672:
 2368              	.LBE671:
 2369              	.LBE670:
 415:./lib/chibios/os/rt/include/chsys.h ****   _stats_stop_measure_crit_isr();
 2370              		.loc 3 415 31 view .LVU705
 416:./lib/chibios/os/rt/include/chsys.h ****   port_unlock_from_isr();
 2371              		.loc 3 416 33 view .LVU706
 2372              		.loc 3 417 3 view .LVU707
 2373              	.LBB686:
 2374              	.LBB683:
 2375              	.LBB680:
 2376              	.LBB673:
 2377              	.LBI673:
 719:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 2378              		.loc 4 719 27 view .LVU708
 2379              	.LBE673:
 2380              	.LBE680:
 2381              	.LBE683:
 2382              	.LBE686:
 2383              		.loc 4 721 3 view .LVU709
 2384              	.LBB687:
 2385              	.LBB684:
 2386              	.LBB681:
 2387              	.LBB678:
 2388              	.LBB674:
 2389              	.LBI674:
 693:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 2390              		.loc 4 693 27 view .LVU710
 2391              	.LBE674:
 2392              	.LBE678:
 2393              	.LBE681:
 2394              	.LBE684:
 2395              	.LBE687:
 696:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else /* CORTEX_SIMPLIFIED_PRIORITY */
 2396              		.loc 4 696 3 view .LVU711
 2397              	.LBB688:
 2398              	.LBB685:
 2399              	.LBB682:
 2400              	.LBB679:
 2401              	.LBB677:
 2402              	.LBB675:
 2403              	.LBI675:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 2404              		.loc 5 491 27 view .LVU712
 2405              	.LBB676:
 2406              		.loc 5 493 3 view .LVU713
 2407              	.L183:
 2408              		.loc 5 493 3 is_stmt 0 view .LVU714
 2409              	.LBE676:
 2410              	.LBE675:
 2411              	.LBE677:
 2412              	.LBE679:
 2413              	.LBE682:
 2414              	.LBE685:
 2415              	.LBE688:
 857:lib/chibios/os/hal/src/hal_usb.c ****     }
 2416              		.loc 1 857 7 is_stmt 1 view .LVU715
 2417              	.LBB689:
 2418              	.LBI689:
 542:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 2419              		.loc 2 542 20 view .LVU716
 2420              	.LBB690:
 544:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 2421              		.loc 2 544 3 view .LVU717
 2422              	.LBB691:
 2423              	.LBI691:
 413:./lib/chibios/os/rt/include/chsys.h **** 
 2424              		.loc 3 413 20 view .LVU718
 2425              	.LBE691:
 2426              	.LBE690:
 2427              	.LBE689:
 415:./lib/chibios/os/rt/include/chsys.h ****   _stats_stop_measure_crit_isr();
 2428              		.loc 3 415 31 view .LVU719
 416:./lib/chibios/os/rt/include/chsys.h ****   port_unlock_from_isr();
 2429              		.loc 3 416 33 view .LVU720
 2430              		.loc 3 417 3 view .LVU721
 2431              	.LBB705:
 2432              	.LBB702:
 2433              	.LBB699:
 2434              	.LBB692:
 2435              	.LBI692:
 719:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 2436              		.loc 4 719 27 view .LVU722
 2437              	.LBE692:
 2438              	.LBE699:
 2439              	.LBE702:
 2440              	.LBE705:
 2441              		.loc 4 721 3 view .LVU723
 2442              	.LBB706:
 2443              	.LBB703:
 2444              	.LBB700:
 2445              	.LBB697:
 2446              	.LBB693:
 2447              	.LBI693:
 693:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 2448              		.loc 4 693 27 view .LVU724
 2449              	.LBE693:
 2450              	.LBE697:
 2451              	.LBE700:
 2452              	.LBE703:
 2453              	.LBE706:
 696:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else /* CORTEX_SIMPLIFIED_PRIORITY */
 2454              		.loc 4 696 3 view .LVU725
 2455              	.LBB707:
 2456              	.LBB704:
 2457              	.LBB701:
 2458              	.LBB698:
 2459              	.LBB696:
 2460              	.LBB694:
 2461              	.LBI694:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 2462              		.loc 5 491 27 view .LVU726
 2463              	.LBB695:
 2464              		.loc 5 493 3 view .LVU727
 2465 008e 0023     		movs	r3, #0
 2466              		.syntax unified
 2467              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 2468 0090 83F31188 		MSR basepri, r3
 2469              	@ 0 "" 2
 2470              	.LVL134:
 2471              		.loc 5 493 3 is_stmt 0 view .LVU728
 2472              		.thumb
 2473              		.syntax unified
 2474              	.LBE695:
 2475              	.LBE694:
 2476              	.LBE696:
 2477              	.LBE698:
 2478              	.LBE701:
 545:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 2479              		.loc 2 545 1 view .LVU729
 2480 0094 DAE7     		b	.L99
 2481              	.L175:
 2482              	.LVL135:
 545:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 2483              		.loc 2 545 1 view .LVU730
 2484              	.LBE704:
 2485              	.LBE707:
 2486              	.LBB708:
 2487              	.LBI708:
  84:lib/chibios/os/hal/src/hal_usb.c ****   const USBDescriptor *dp;
 2488              		.loc 1 84 13 is_stmt 1 view .LVU731
 2489              	.LBB709:
  85:lib/chibios/os/hal/src/hal_usb.c **** 
 2490              		.loc 1 85 3 view .LVU732
  88:lib/chibios/os/hal/src/hal_usb.c ****                                         USB_RTYPE_TYPE_MASK)) |
 2491              		.loc 1 88 3 view .LVU733
  90:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_DEVICE | ((uint32_t)USB_REQ_GET_STATUS << 8):
 2492              		.loc 1 90 13 is_stmt 0 view .LVU734
 2493 0096 94F87520 		ldrb	r2, [r4, #117]	@ zero_extendqisi2
  88:lib/chibios/os/hal/src/hal_usb.c ****                                         USB_RTYPE_TYPE_MASK)) |
 2494              		.loc 1 88 38 view .LVU735
 2495 009a 03F07F03 		and	r3, r3, #127
  89:lib/chibios/os/hal/src/hal_usb.c ****            ((uint32_t)usbp->setup[1] << 8U))) {
 2496              		.loc 1 89 63 view .LVU736
 2497 009e 43EA0223 		orr	r3, r3, r2, lsl #8
  88:lib/chibios/os/hal/src/hal_usb.c ****                                         USB_RTYPE_TYPE_MASK)) |
 2498              		.loc 1 88 3 view .LVU737
 2499 00a2 40F20232 		movw	r2, #770
 2500 00a6 9342     		cmp	r3, r2
 2501 00a8 00F0B180 		beq	.L106
 2502 00ac 20D8     		bhi	.L107
 2503 00ae B3F5807F 		cmp	r3, #256
 2504 00b2 47D0     		beq	.L108
 2505 00b4 0CD8     		bhi	.L109
 2506 00b6 012B     		cmp	r3, #1
 2507 00b8 3ED0     		beq	.L110
 2508 00ba 022B     		cmp	r3, #2
 2509 00bc 7FD0     		beq	.L111
 2510 00be 002B     		cmp	r3, #0
 2511 00c0 B3D1     		bne	.L121
  93:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 2512              		.loc 1 93 5 is_stmt 1 view .LVU738
 2513 00c2 04F17C02 		add	r2, r4, #124
 2514 00c6 A266     		str	r2, [r4, #104]
  93:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 2515              		.loc 1 93 5 view .LVU739
 2516 00c8 0222     		movs	r2, #2
 2517 00ca E266     		str	r2, [r4, #108]
  93:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 2518              		.loc 1 93 5 view .LVU740
 2519              	.L179:
 124:lib/chibios/os/hal/src/hal_usb.c **** #endif
 2520              		.loc 1 124 5 is_stmt 0 view .LVU741
 2521 00cc 2367     		str	r3, [r4, #112]
 124:lib/chibios/os/hal/src/hal_usb.c **** #endif
 2522              		.loc 1 124 49 is_stmt 1 view .LVU742
 126:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_DEVICE | ((uint32_t)USB_REQ_GET_DESCRIPTOR << 8):
 2523              		.loc 1 126 5 view .LVU743
 2524              	.LVL136:
 126:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_DEVICE | ((uint32_t)USB_REQ_GET_DESCRIPTOR << 8):
 2525              		.loc 1 126 5 is_stmt 0 view .LVU744
 2526 00ce C2E7     		b	.L104
 2527              	.LVL137:
 2528              	.L109:
  88:lib/chibios/os/hal/src/hal_usb.c ****                                         USB_RTYPE_TYPE_MASK)) |
 2529              		.loc 1 88 3 view .LVU745
 2530 00d0 B3F5817F 		cmp	r3, #258
 2531 00d4 00F08880 		beq	.L114
 2532 00d8 B3F5407F 		cmp	r3, #768
 2533 00dc A5D1     		bne	.L121
 107:lib/chibios/os/hal/src/hal_usb.c ****       usbp->status |= 2U;
 2534              		.loc 1 107 5 is_stmt 1 view .LVU746
 107:lib/chibios/os/hal/src/hal_usb.c ****       usbp->status |= 2U;
 2535              		.loc 1 107 8 is_stmt 0 view .LVU747
 2536 00de 94F87630 		ldrb	r3, [r4, #118]	@ zero_extendqisi2
 2537 00e2 012B     		cmp	r3, #1
 2538 00e4 A1D1     		bne	.L121
 108:lib/chibios/os/hal/src/hal_usb.c ****       usbSetupTransfer(usbp, NULL, 0, NULL);
 2539              		.loc 1 108 7 is_stmt 1 view .LVU748
 108:lib/chibios/os/hal/src/hal_usb.c ****       usbSetupTransfer(usbp, NULL, 0, NULL);
 2540              		.loc 1 108 20 is_stmt 0 view .LVU749
 2541 00e6 B4F87C30 		ldrh	r3, [r4, #124]
 2542 00ea 43F00203 		orr	r3, r3, #2
 2543 00ee 32E0     		b	.L185
 2544              	.L107:
  88:lib/chibios/os/hal/src/hal_usb.c ****                                         USB_RTYPE_TYPE_MASK)) |
 2545              		.loc 1 88 3 view .LVU750
 2546 00f0 B3F5006F 		cmp	r3, #2048
 2547 00f4 39D0     		beq	.L116
 2548 00f6 17D8     		bhi	.L117
 2549 00f8 B3F5A06F 		cmp	r3, #1280
 2550 00fc 31D0     		beq	.L118
 2551 00fe A3F5C063 		sub	r3, r3, #1536
 2552 0102 012B     		cmp	r3, #1
 2553 0104 91D8     		bhi	.L121
 130:lib/chibios/os/hal/src/hal_usb.c ****                                          usbp->setup[2],
 2554              		.loc 1 130 5 is_stmt 1 view .LVU751
 2555              	.LVL138:
 130:lib/chibios/os/hal/src/hal_usb.c ****                                          usbp->setup[2],
 2556              		.loc 1 130 5 is_stmt 0 view .LVU752
 2557              	.LBE709:
 2558              	.LBE708:
  52:lib/chibios/os/hal/src/hal_usb.c **** 
 2559              		.loc 1 52 3 is_stmt 1 view .LVU753
  54:lib/chibios/os/hal/src/hal_usb.c ****   hw |= (uint16_t)*p << 8U;
 2560              		.loc 1 54 3 view .LVU754
  55:lib/chibios/os/hal/src/hal_usb.c ****   return hw;
 2561              		.loc 1 55 3 view .LVU755
  56:lib/chibios/os/hal/src/hal_usb.c **** }
 2562              		.loc 1 56 3 view .LVU756
 2563              	.LBB752:
 2564              	.LBB742:
 130:lib/chibios/os/hal/src/hal_usb.c ****                                          usbp->setup[2],
 2565              		.loc 1 130 22 is_stmt 0 view .LVU757
 2566 0106 6368     		ldr	r3, [r4, #4]
 130:lib/chibios/os/hal/src/hal_usb.c ****                                          usbp->setup[2],
 2567              		.loc 1 130 10 view .LVU758
 2568 0108 94F87620 		ldrb	r2, [r4, #118]	@ zero_extendqisi2
 2569 010c 5E68     		ldr	r6, [r3, #4]
 2570 010e 94F87710 		ldrb	r1, [r4, #119]	@ zero_extendqisi2
 2571 0112 B4F87830 		ldrh	r3, [r4, #120]	@ unaligned
 2572 0116 2046     		mov	r0, r4
 2573 0118 B047     		blx	r6
 2574              	.LVL139:
 133:lib/chibios/os/hal/src/hal_usb.c ****       return false;
 2575              		.loc 1 133 5 is_stmt 1 view .LVU759
 133:lib/chibios/os/hal/src/hal_usb.c ****       return false;
 2576              		.loc 1 133 8 is_stmt 0 view .LVU760
 2577 011a 0028     		cmp	r0, #0
 2578 011c 85D0     		beq	.L121
 137:lib/chibios/os/hal/src/hal_usb.c ****     /*lint -restore*/
 2579              		.loc 1 137 5 is_stmt 1 view .LVU761
 2580 011e 4368     		ldr	r3, [r0, #4]
 2581 0120 A366     		str	r3, [r4, #104]
 137:lib/chibios/os/hal/src/hal_usb.c ****     /*lint -restore*/
 2582              		.loc 1 137 5 view .LVU762
 2583 0122 0368     		ldr	r3, [r0]
 2584              	.LVL140:
 2585              	.L181:
 142:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 2586              		.loc 1 142 5 is_stmt 0 view .LVU763
 2587 0124 E366     		str	r3, [r4, #108]
 2588 0126 1AE0     		b	.L180
 2589              	.L117:
  88:lib/chibios/os/hal/src/hal_usb.c ****                                         USB_RTYPE_TYPE_MASK)) |
 2590              		.loc 1 88 3 view .LVU764
 2591 0128 B3F5106F 		cmp	r3, #2304
 2592 012c 22D0     		beq	.L120
 2593 012e 40F60242 		movw	r2, #3074
 2594 0132 9342     		cmp	r3, r2
 2595 0134 7FF479AF 		bne	.L121
 2596              	.L110:
 176:lib/chibios/os/hal/src/hal_usb.c ****     /*lint -restore*/
 2597              		.loc 1 176 5 is_stmt 1 view .LVU765
 2598 0138 524B     		ldr	r3, .L188
 2599              	.L184:
 190:lib/chibios/os/hal/src/hal_usb.c ****         /*lint -restore*/
 2600              		.loc 1 190 9 is_stmt 0 view .LVU766
 2601 013a A366     		str	r3, [r4, #104]
 190:lib/chibios/os/hal/src/hal_usb.c ****         /*lint -restore*/
 2602              		.loc 1 190 9 is_stmt 1 view .LVU767
 2603 013c 0223     		movs	r3, #2
 2604 013e E366     		str	r3, [r4, #108]
 190:lib/chibios/os/hal/src/hal_usb.c ****         /*lint -restore*/
 2605              		.loc 1 190 9 view .LVU768
 2606 0140 0023     		movs	r3, #0
 2607 0142 C3E7     		b	.L179
 2608              	.L108:
  98:lib/chibios/os/hal/src/hal_usb.c ****       usbp->status &= ~2U;
 2609              		.loc 1 98 5 view .LVU769
  98:lib/chibios/os/hal/src/hal_usb.c ****       usbp->status &= ~2U;
 2610              		.loc 1 98 8 is_stmt 0 view .LVU770
 2611 0144 94F87630 		ldrb	r3, [r4, #118]	@ zero_extendqisi2
 2612 0148 012B     		cmp	r3, #1
 2613 014a 7FF46EAF 		bne	.L121
  99:lib/chibios/os/hal/src/hal_usb.c ****       usbSetupTransfer(usbp, NULL, 0, NULL);
 2614              		.loc 1 99 7 is_stmt 1 view .LVU771
  99:lib/chibios/os/hal/src/hal_usb.c ****       usbSetupTransfer(usbp, NULL, 0, NULL);
 2615              		.loc 1 99 20 is_stmt 0 view .LVU772
 2616 014e B4F87C30 		ldrh	r3, [r4, #124]
 2617 0152 23F00203 		bic	r3, r3, #2
 2618              	.L185:
 109:lib/chibios/os/hal/src/hal_usb.c ****       return true;
 2619              		.loc 1 109 7 view .LVU773
 2620 0156 C4E91A55 		strd	r5, r5, [r4, #104]
 108:lib/chibios/os/hal/src/hal_usb.c ****       usbSetupTransfer(usbp, NULL, 0, NULL);
 2621              		.loc 1 108 20 view .LVU774
 2622 015a A4F87C30 		strh	r3, [r4, #124]	@ movhi
 109:lib/chibios/os/hal/src/hal_usb.c ****       return true;
 2623              		.loc 1 109 7 is_stmt 1 view .LVU775
 109:lib/chibios/os/hal/src/hal_usb.c ****       return true;
 2624              		.loc 1 109 7 view .LVU776
 2625              	.L180:
 142:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 2626              		.loc 1 142 5 view .LVU777
 2627 015e 2567     		str	r5, [r4, #112]
 142:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 2628              		.loc 1 142 58 view .LVU778
 143:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_DEVICE | ((uint32_t)USB_REQ_SET_CONFIGURATION << 8):
 2629              		.loc 1 143 5 view .LVU779
 2630              	.LVL141:
 143:lib/chibios/os/hal/src/hal_usb.c ****   case (uint32_t)USB_RTYPE_RECIPIENT_DEVICE | ((uint32_t)USB_REQ_SET_CONFIGURATION << 8):
 2631              		.loc 1 143 5 is_stmt 0 view .LVU780
 2632 0160 79E7     		b	.L104
 2633              	.LVL142:
 2634              	.L118:
 124:lib/chibios/os/hal/src/hal_usb.c **** #endif
 2635              		.loc 1 124 5 is_stmt 1 view .LVU781
 2636 0162 C4E91A55 		strd	r5, r5, [r4, #104]
 124:lib/chibios/os/hal/src/hal_usb.c **** #endif
 2637              		.loc 1 124 5 view .LVU782
 2638 0166 484B     		ldr	r3, .L188+4
 2639 0168 B0E7     		b	.L179
 2640              	.L116:
 142:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 2641              		.loc 1 142 5 view .LVU783
 2642 016a 04F17F03 		add	r3, r4, #127
 2643 016e A366     		str	r3, [r4, #104]
 142:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 2644              		.loc 1 142 5 view .LVU784
 2645 0170 0123     		movs	r3, #1
 2646 0172 D7E7     		b	.L181
 2647              	.L120:
 153:lib/chibios/os/hal/src/hal_usb.c ****         /* Current configuration cleared.*/
 2648              		.loc 1 153 7 view .LVU785
 153:lib/chibios/os/hal/src/hal_usb.c ****         /* Current configuration cleared.*/
 2649              		.loc 1 153 10 is_stmt 0 view .LVU786
 2650 0174 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 2651 0176 042B     		cmp	r3, #4
 2652 0178 10D1     		bne	.L123
 155:lib/chibios/os/hal/src/hal_usb.c ****         usbDisableEndpointsI(usbp);
 2653              		.loc 1 155 9 is_stmt 1 view .LVU787
 2654              	.LBB710:
 2655              	.LBI710:
 531:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 2656              		.loc 2 531 20 view .LVU788
 2657              	.LBE710:
 2658              	.LBE742:
 2659              	.LBE752:
 533:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 2660              		.loc 2 533 3 view .LVU789
 2661              	.LBB753:
 2662              	.LBB743:
 2663              	.LBB722:
 2664              	.LBB711:
 2665              	.LBI711:
 393:./lib/chibios/os/rt/include/chsys.h **** 
 2666              		.loc 3 393 20 view .LVU790
 2667              	.LBE711:
 2668              	.LBE722:
 2669              	.LBE743:
 2670              	.LBE753:
 395:./lib/chibios/os/rt/include/chsys.h ****   _stats_start_measure_crit_isr();
 2671              		.loc 3 395 3 view .LVU791
 2672              	.LBB754:
 2673              	.LBB744:
 2674              	.LBB723:
 2675              	.LBB719:
 2676              	.LBB712:
 2677              	.LBI712:
 708:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 2678              		.loc 4 708 27 view .LVU792
 2679              	.LBE712:
 2680              	.LBE719:
 2681              	.LBE723:
 2682              	.LBE744:
 2683              	.LBE754:
 710:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** }
 2684              		.loc 4 710 3 view .LVU793
 2685              	.LBB755:
 2686              	.LBB745:
 2687              	.LBB724:
 2688              	.LBB720:
 2689              	.LBB717:
 2690              	.LBB713:
 2691              	.LBI713:
 669:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 2692              		.loc 4 669 27 view .LVU794
 2693              	.LBE713:
 2694              	.LBE717:
 2695              	.LBE720:
 2696              	.LBE724:
 2697              	.LBE745:
 2698              	.LBE755:
 677:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if defined(__CM7_REV)
 2699              		.loc 4 677 3 view .LVU795
 2700              	.LVL143:
 2701              	.LBB756:
 2702              	.LBB746:
 2703              	.LBB725:
 2704              	.LBB721:
 2705              	.LBB718:
 2706              	.LBB716:
 2707              	.LBB714:
 2708              	.LBI714:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 2709              		.loc 5 491 27 view .LVU796
 2710              	.LBB715:
 2711              		.loc 5 493 3 view .LVU797
 2712 017a 2023     		movs	r3, #32
 2713              		.syntax unified
 2714              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 2715 017c 83F31188 		MSR basepri, r3
 2716              	@ 0 "" 2
 2717              	.LVL144:
 2718              		.loc 5 493 3 is_stmt 0 view .LVU798
 2719              		.thumb
 2720              		.syntax unified
 2721              	.LBE715:
 2722              	.LBE714:
 2723              	.LBE716:
 2724              	.LBE718:
 2725              	.LBE721:
 2726              	.LBE725:
 2727              	.LBE746:
 2728              	.LBE756:
 396:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_lock_from_isr();
 2729              		.loc 3 396 34 is_stmt 1 view .LVU799
 397:./lib/chibios/os/rt/include/chsys.h **** }
 2730              		.loc 3 397 29 view .LVU800
 2731              	.LBB757:
 2732              	.LBB747:
 156:lib/chibios/os/hal/src/hal_usb.c ****         osalSysUnlockFromISR ();
 2733              		.loc 1 156 9 view .LVU801
 2734 0180 2046     		mov	r0, r4
 2735 0182 FFF7FEFF 		bl	usbDisableEndpointsI
 2736              	.LVL145:
 157:lib/chibios/os/hal/src/hal_usb.c ****         usbp->configuration = 0U;
 2737              		.loc 1 157 9 view .LVU802
 2738              	.LBB726:
 2739              	.LBI726:
 542:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 2740              		.loc 2 542 20 view .LVU803
 2741              	.LBE726:
 2742              	.LBE747:
 2743              	.LBE757:
 544:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 2744              		.loc 2 544 3 view .LVU804
 2745              	.LBB758:
 2746              	.LBB748:
 2747              	.LBB738:
 2748              	.LBB727:
 2749              	.LBI727:
 413:./lib/chibios/os/rt/include/chsys.h **** 
 2750              		.loc 3 413 20 view .LVU805
 2751              	.LBE727:
 2752              	.LBE738:
 2753              	.LBE748:
 2754              	.LBE758:
 415:./lib/chibios/os/rt/include/chsys.h ****   _stats_stop_measure_crit_isr();
 2755              		.loc 3 415 31 view .LVU806
 416:./lib/chibios/os/rt/include/chsys.h ****   port_unlock_from_isr();
 2756              		.loc 3 416 33 view .LVU807
 2757              		.loc 3 417 3 view .LVU808
 2758              	.LBB759:
 2759              	.LBB749:
 2760              	.LBB739:
 2761              	.LBB735:
 2762              	.LBB728:
 2763              	.LBI728:
 719:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 2764              		.loc 4 719 27 view .LVU809
 2765              	.LBE728:
 2766              	.LBE735:
 2767              	.LBE739:
 2768              	.LBE749:
 2769              	.LBE759:
 2770              		.loc 4 721 3 view .LVU810
 2771              	.LBB760:
 2772              	.LBB750:
 2773              	.LBB740:
 2774              	.LBB736:
 2775              	.LBB733:
 2776              	.LBB729:
 2777              	.LBI729:
 693:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 2778              		.loc 4 693 27 view .LVU811
 2779              	.LBE729:
 2780              	.LBE733:
 2781              	.LBE736:
 2782              	.LBE740:
 2783              	.LBE750:
 2784              	.LBE760:
 696:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else /* CORTEX_SIMPLIFIED_PRIORITY */
 2785              		.loc 4 696 3 view .LVU812
 2786              	.LBB761:
 2787              	.LBB751:
 2788              	.LBB741:
 2789              	.LBB737:
 2790              	.LBB734:
 2791              	.LBB732:
 2792              	.LBB730:
 2793              	.LBI730:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 2794              		.loc 5 491 27 view .LVU813
 2795              	.LBB731:
 2796              		.loc 5 493 3 view .LVU814
 2797              		.syntax unified
 2798              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 2799 0186 85F31188 		MSR basepri, r5
 2800              	@ 0 "" 2
 2801              	.LVL146:
 2802              		.loc 5 493 3 is_stmt 0 view .LVU815
 2803              		.thumb
 2804              		.syntax unified
 2805              	.LBE731:
 2806              	.LBE730:
 2807              	.LBE732:
 2808              	.LBE734:
 2809              	.LBE737:
 2810              	.LBE741:
 158:lib/chibios/os/hal/src/hal_usb.c ****         usbp->state = USB_SELECTED;
 2811              		.loc 1 158 9 is_stmt 1 view .LVU816
 159:lib/chibios/os/hal/src/hal_usb.c ****         _usb_isr_invoke_event_cb(usbp, USB_EVENT_UNCONFIGURED);
 2812              		.loc 1 159 21 is_stmt 0 view .LVU817
 2813 018a 0321     		movs	r1, #3
 160:lib/chibios/os/hal/src/hal_usb.c ****       }
 2814              		.loc 1 160 9 view .LVU818
 2815 018c 6368     		ldr	r3, [r4, #4]
 158:lib/chibios/os/hal/src/hal_usb.c ****         usbp->state = USB_SELECTED;
 2816              		.loc 1 158 29 view .LVU819
 2817 018e 84F87F50 		strb	r5, [r4, #127]
 159:lib/chibios/os/hal/src/hal_usb.c ****         _usb_isr_invoke_event_cb(usbp, USB_EVENT_UNCONFIGURED);
 2818              		.loc 1 159 9 is_stmt 1 view .LVU820
 159:lib/chibios/os/hal/src/hal_usb.c ****         _usb_isr_invoke_event_cb(usbp, USB_EVENT_UNCONFIGURED);
 2819              		.loc 1 159 21 is_stmt 0 view .LVU821
 2820 0192 2170     		strb	r1, [r4]
 160:lib/chibios/os/hal/src/hal_usb.c ****       }
 2821              		.loc 1 160 9 is_stmt 1 view .LVU822
 2822 0194 1B68     		ldr	r3, [r3]
 2823 0196 0BB1     		cbz	r3, .L123
 160:lib/chibios/os/hal/src/hal_usb.c ****       }
 2824              		.loc 1 160 9 view .LVU823
 2825 0198 2046     		mov	r0, r4
 2826 019a 9847     		blx	r3
 2827              	.LVL147:
 2828              	.L123:
 160:lib/chibios/os/hal/src/hal_usb.c ****       }
 2829              		.loc 1 160 63 view .LVU824
 162:lib/chibios/os/hal/src/hal_usb.c ****         /* New configuration.*/
 2830              		.loc 1 162 7 view .LVU825
 162:lib/chibios/os/hal/src/hal_usb.c ****         /* New configuration.*/
 2831              		.loc 1 162 22 is_stmt 0 view .LVU826
 2832 019c 94F87630 		ldrb	r3, [r4, #118]	@ zero_extendqisi2
 162:lib/chibios/os/hal/src/hal_usb.c ****         /* New configuration.*/
 2833              		.loc 1 162 10 view .LVU827
 2834 01a0 4BB1     		cbz	r3, .L126
 164:lib/chibios/os/hal/src/hal_usb.c ****         usbp->state = USB_ACTIVE;
 2835              		.loc 1 164 9 is_stmt 1 view .LVU828
 164:lib/chibios/os/hal/src/hal_usb.c ****         usbp->state = USB_ACTIVE;
 2836              		.loc 1 164 29 is_stmt 0 view .LVU829
 2837 01a2 84F87F30 		strb	r3, [r4, #127]
 165:lib/chibios/os/hal/src/hal_usb.c ****         _usb_isr_invoke_event_cb(usbp, USB_EVENT_CONFIGURED);
 2838              		.loc 1 165 9 is_stmt 1 view .LVU830
 165:lib/chibios/os/hal/src/hal_usb.c ****         _usb_isr_invoke_event_cb(usbp, USB_EVENT_CONFIGURED);
 2839              		.loc 1 165 21 is_stmt 0 view .LVU831
 2840 01a6 0423     		movs	r3, #4
 2841 01a8 2370     		strb	r3, [r4]
 166:lib/chibios/os/hal/src/hal_usb.c ****       }
 2842              		.loc 1 166 9 is_stmt 1 view .LVU832
 2843 01aa 6368     		ldr	r3, [r4, #4]
 2844 01ac 1B68     		ldr	r3, [r3]
 2845 01ae 13B1     		cbz	r3, .L126
 166:lib/chibios/os/hal/src/hal_usb.c ****       }
 2846              		.loc 1 166 9 view .LVU833
 2847 01b0 0221     		movs	r1, #2
 2848 01b2 2046     		mov	r0, r4
 2849 01b4 9847     		blx	r3
 2850              	.LVL148:
 2851              	.L126:
 166:lib/chibios/os/hal/src/hal_usb.c ****       }
 2852              		.loc 1 166 61 view .LVU834
 169:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 2853              		.loc 1 169 5 view .LVU835
 2854 01b6 0023     		movs	r3, #0
 2855 01b8 C4E91A33 		strd	r3, r3, [r4, #104]
 169:lib/chibios/os/hal/src/hal_usb.c ****     return true;
 2856              		.loc 1 169 5 view .LVU836
 2857 01bc 86E7     		b	.L179
 2858              	.L111:
 181:lib/chibios/os/hal/src/hal_usb.c ****       switch (usb_lld_get_status_in(usbp, usbp->setup[4] & 0x0FU)) {
 2859              		.loc 1 181 5 view .LVU837
 181:lib/chibios/os/hal/src/hal_usb.c ****       switch (usb_lld_get_status_in(usbp, usbp->setup[4] & 0x0FU)) {
 2860              		.loc 1 181 21 is_stmt 0 view .LVU838
 2861 01be 94F87830 		ldrb	r3, [r4, #120]	@ zero_extendqisi2
 181:lib/chibios/os/hal/src/hal_usb.c ****       switch (usb_lld_get_status_in(usbp, usbp->setup[4] & 0x0FU)) {
 2862              		.loc 1 181 8 view .LVU839
 2863 01c2 1D06     		lsls	r5, r3, #24
 182:lib/chibios/os/hal/src/hal_usb.c ****       case EP_STATUS_STALLED:
 2864              		.loc 1 182 15 view .LVU840
 2865 01c4 03F00F01 		and	r1, r3, #15
 2866 01c8 2046     		mov	r0, r4
 181:lib/chibios/os/hal/src/hal_usb.c ****       switch (usb_lld_get_status_in(usbp, usbp->setup[4] & 0x0FU)) {
 2867              		.loc 1 181 8 view .LVU841
 2868 01ca 0AD5     		bpl	.L128
 2869              	.LVL149:
 182:lib/chibios/os/hal/src/hal_usb.c ****       case EP_STATUS_STALLED:
 2870              		.loc 1 182 7 is_stmt 1 view .LVU842
 182:lib/chibios/os/hal/src/hal_usb.c ****       case EP_STATUS_STALLED:
 2871              		.loc 1 182 15 is_stmt 0 view .LVU843
 2872 01cc FFF7FEFF 		bl	usb_lld_get_status_in
 2873              	.LVL150:
 2874              	.L187:
 199:lib/chibios/os/hal/src/hal_usb.c ****       case EP_STATUS_STALLED:
 2875              		.loc 1 199 7 view .LVU844
 2876 01d0 0128     		cmp	r0, #1
 2877 01d2 04D0     		beq	.L129
 2878 01d4 0228     		cmp	r0, #2
 2879 01d6 7FF428AF 		bne	.L121
 190:lib/chibios/os/hal/src/hal_usb.c ****         /*lint -restore*/
 2880              		.loc 1 190 9 is_stmt 1 view .LVU845
 2881 01da 2C4B     		ldr	r3, .L188+8
 2882 01dc ADE7     		b	.L184
 2883              	.L129:
 185:lib/chibios/os/hal/src/hal_usb.c ****         /*lint -restore*/
 2884              		.loc 1 185 9 view .LVU846
 2885 01de 2C4B     		ldr	r3, .L188+12
 2886 01e0 ABE7     		b	.L184
 2887              	.LVL151:
 2888              	.L128:
 199:lib/chibios/os/hal/src/hal_usb.c ****       case EP_STATUS_STALLED:
 2889              		.loc 1 199 7 view .LVU847
 199:lib/chibios/os/hal/src/hal_usb.c ****       case EP_STATUS_STALLED:
 2890              		.loc 1 199 15 is_stmt 0 view .LVU848
 2891 01e2 FFF7FEFF 		bl	usb_lld_get_status_out
 2892              	.LVL152:
 199:lib/chibios/os/hal/src/hal_usb.c ****       case EP_STATUS_STALLED:
 2893              		.loc 1 199 15 view .LVU849
 2894 01e6 F3E7     		b	.L187
 2895              	.L114:
 217:lib/chibios/os/hal/src/hal_usb.c ****       return false;
 2896              		.loc 1 217 5 is_stmt 1 view .LVU850
 217:lib/chibios/os/hal/src/hal_usb.c ****       return false;
 2897              		.loc 1 217 8 is_stmt 0 view .LVU851
 2898 01e8 94F87630 		ldrb	r3, [r4, #118]	@ zero_extendqisi2
 2899 01ec 002B     		cmp	r3, #0
 2900 01ee 7FF41CAF 		bne	.L121
 221:lib/chibios/os/hal/src/hal_usb.c ****       if ((usbp->setup[4] & 0x80U) != 0U) {
 2901              		.loc 1 221 5 is_stmt 1 view .LVU852
 221:lib/chibios/os/hal/src/hal_usb.c ****       if ((usbp->setup[4] & 0x80U) != 0U) {
 2902              		.loc 1 221 21 is_stmt 0 view .LVU853
 2903 01f2 94F87830 		ldrb	r3, [r4, #120]	@ zero_extendqisi2
 221:lib/chibios/os/hal/src/hal_usb.c ****       if ((usbp->setup[4] & 0x80U) != 0U) {
 2904              		.loc 1 221 8 view .LVU854
 2905 01f6 13F00F01 		ands	r1, r3, #15
 2906 01fa DCD0     		beq	.L126
 222:lib/chibios/os/hal/src/hal_usb.c ****         usb_lld_clear_in(usbp, usbp->setup[4] & 0x0FU);
 2907              		.loc 1 222 7 is_stmt 1 view .LVU855
 222:lib/chibios/os/hal/src/hal_usb.c ****         usb_lld_clear_in(usbp, usbp->setup[4] & 0x0FU);
 2908              		.loc 1 222 10 is_stmt 0 view .LVU856
 2909 01fc 1A06     		lsls	r2, r3, #24
 223:lib/chibios/os/hal/src/hal_usb.c ****       }
 2910              		.loc 1 223 9 view .LVU857
 2911 01fe 2046     		mov	r0, r4
 222:lib/chibios/os/hal/src/hal_usb.c ****         usb_lld_clear_in(usbp, usbp->setup[4] & 0x0FU);
 2912              		.loc 1 222 10 view .LVU858
 2913 0200 02D5     		bpl	.L131
 2914              	.LVL153:
 223:lib/chibios/os/hal/src/hal_usb.c ****       }
 2915              		.loc 1 223 9 is_stmt 1 view .LVU859
 2916 0202 FFF7FEFF 		bl	usb_lld_clear_in
 2917              	.LVL154:
 223:lib/chibios/os/hal/src/hal_usb.c ****       }
 2918              		.loc 1 223 9 is_stmt 0 view .LVU860
 2919 0206 D6E7     		b	.L126
 2920              	.LVL155:
 2921              	.L131:
 226:lib/chibios/os/hal/src/hal_usb.c ****       }
 2922              		.loc 1 226 9 is_stmt 1 view .LVU861
 2923 0208 FFF7FEFF 		bl	usb_lld_clear_out
 2924              	.LVL156:
 226:lib/chibios/os/hal/src/hal_usb.c ****       }
 2925              		.loc 1 226 9 is_stmt 0 view .LVU862
 2926 020c D3E7     		b	.L126
 2927              	.L106:
 233:lib/chibios/os/hal/src/hal_usb.c ****       return false;
 2928              		.loc 1 233 5 is_stmt 1 view .LVU863
 233:lib/chibios/os/hal/src/hal_usb.c ****       return false;
 2929              		.loc 1 233 8 is_stmt 0 view .LVU864
 2930 020e 94F87630 		ldrb	r3, [r4, #118]	@ zero_extendqisi2
 2931 0212 002B     		cmp	r3, #0
 2932 0214 7FF409AF 		bne	.L121
 237:lib/chibios/os/hal/src/hal_usb.c ****       if ((usbp->setup[4] & 0x80U) != 0U) {
 2933              		.loc 1 237 5 is_stmt 1 view .LVU865
 237:lib/chibios/os/hal/src/hal_usb.c ****       if ((usbp->setup[4] & 0x80U) != 0U) {
 2934              		.loc 1 237 21 is_stmt 0 view .LVU866
 2935 0218 94F87830 		ldrb	r3, [r4, #120]	@ zero_extendqisi2
 237:lib/chibios/os/hal/src/hal_usb.c ****       if ((usbp->setup[4] & 0x80U) != 0U) {
 2936              		.loc 1 237 8 view .LVU867
 2937 021c 13F00F01 		ands	r1, r3, #15
 2938 0220 C9D0     		beq	.L126
 238:lib/chibios/os/hal/src/hal_usb.c ****         usb_lld_stall_in(usbp, usbp->setup[4] & 0x0FU);
 2939              		.loc 1 238 7 is_stmt 1 view .LVU868
 238:lib/chibios/os/hal/src/hal_usb.c ****         usb_lld_stall_in(usbp, usbp->setup[4] & 0x0FU);
 2940              		.loc 1 238 10 is_stmt 0 view .LVU869
 2941 0222 1B06     		lsls	r3, r3, #24
 239:lib/chibios/os/hal/src/hal_usb.c ****       }
 2942              		.loc 1 239 9 view .LVU870
 2943 0224 2046     		mov	r0, r4
 238:lib/chibios/os/hal/src/hal_usb.c ****         usb_lld_stall_in(usbp, usbp->setup[4] & 0x0FU);
 2944              		.loc 1 238 10 view .LVU871
 2945 0226 02D5     		bpl	.L132
 2946              	.LVL157:
 239:lib/chibios/os/hal/src/hal_usb.c ****       }
 2947              		.loc 1 239 9 is_stmt 1 view .LVU872
 2948 0228 FFF7FEFF 		bl	usb_lld_stall_in
 2949              	.LVL158:
 239:lib/chibios/os/hal/src/hal_usb.c ****       }
 2950              		.loc 1 239 9 is_stmt 0 view .LVU873
 2951 022c C3E7     		b	.L126
 2952              	.LVL159:
 2953              	.L132:
 242:lib/chibios/os/hal/src/hal_usb.c ****       }
 2954              		.loc 1 242 9 is_stmt 1 view .LVU874
 2955 022e FFF7FEFF 		bl	usb_lld_stall_out
 2956              	.LVL160:
 242:lib/chibios/os/hal/src/hal_usb.c ****       }
 2957              		.loc 1 242 9 is_stmt 0 view .LVU875
 2958 0232 C0E7     		b	.L126
 2959              	.LVL161:
 2960              	.L137:
 242:lib/chibios/os/hal/src/hal_usb.c ****       }
 2961              		.loc 1 242 9 view .LVU876
 2962              	.LBE751:
 2963              	.LBE761:
 840:lib/chibios/os/hal/src/hal_usb.c **** #if (USB_EP0_STATUS_STAGE == USB_EP0_STATUS_STAGE_SW)
 2964              		.loc 1 840 7 is_stmt 1 view .LVU877
 840:lib/chibios/os/hal/src/hal_usb.c **** #if (USB_EP0_STATUS_STAGE == USB_EP0_STATUS_STAGE_SW)
 2965              		.loc 1 840 22 is_stmt 0 view .LVU878
 2966 0234 1422     		movs	r2, #20
 2967 0236 84F86420 		strb	r2, [r4, #100]
 842:lib/chibios/os/hal/src/hal_usb.c ****       usbStartReceiveI(usbp, 0, NULL, 0);
 2968              		.loc 1 842 7 is_stmt 1 view .LVU879
 2969              	.LBB762:
 2970              	.LBI762:
 531:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 2971              		.loc 2 531 20 view .LVU880
 2972              	.LBE762:
 533:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 2973              		.loc 2 533 3 view .LVU881
 2974              	.LBB774:
 2975              	.LBB763:
 2976              	.LBI763:
 393:./lib/chibios/os/rt/include/chsys.h **** 
 2977              		.loc 3 393 20 view .LVU882
 2978              	.LBE763:
 2979              	.LBE774:
 395:./lib/chibios/os/rt/include/chsys.h ****   _stats_start_measure_crit_isr();
 2980              		.loc 3 395 3 view .LVU883
 2981              	.LBB775:
 2982              	.LBB771:
 2983              	.LBB764:
 2984              	.LBI764:
 708:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 2985              		.loc 4 708 27 view .LVU884
 2986              	.LBE764:
 2987              	.LBE771:
 2988              	.LBE775:
 710:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** }
 2989              		.loc 4 710 3 view .LVU885
 2990              	.LBB776:
 2991              	.LBB772:
 2992              	.LBB769:
 2993              	.LBB765:
 2994              	.LBI765:
 669:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 2995              		.loc 4 669 27 view .LVU886
 2996              	.LBE765:
 2997              	.LBE769:
 2998              	.LBE772:
 2999              	.LBE776:
 677:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if defined(__CM7_REV)
 3000              		.loc 4 677 3 view .LVU887
 3001              	.LVL162:
 3002              	.LBB777:
 3003              	.LBB773:
 3004              	.LBB770:
 3005              	.LBB768:
 3006              	.LBB766:
 3007              	.LBI766:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 3008              		.loc 5 491 27 view .LVU888
 3009              	.LBB767:
 3010              		.loc 5 493 3 view .LVU889
 3011              		.syntax unified
 3012              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 3013 023a 83F31188 		MSR basepri, r3
 3014              	@ 0 "" 2
 3015              	.LVL163:
 3016              		.loc 5 493 3 is_stmt 0 view .LVU890
 3017              		.thumb
 3018              		.syntax unified
 3019              	.LBE767:
 3020              	.LBE766:
 3021              	.LBE768:
 3022              	.LBE770:
 3023              	.LBE773:
 3024              	.LBE777:
 396:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_lock_from_isr();
 3025              		.loc 3 396 34 is_stmt 1 view .LVU891
 397:./lib/chibios/os/rt/include/chsys.h **** }
 3026              		.loc 3 397 29 view .LVU892
 843:lib/chibios/os/hal/src/hal_usb.c ****       osalSysUnlockFromISR();
 3027              		.loc 1 843 7 view .LVU893
 3028 023e 2B46     		mov	r3, r5
 3029 0240 2A46     		mov	r2, r5
 3030 0242 2946     		mov	r1, r5
 3031 0244 2046     		mov	r0, r4
 3032 0246 FFF7FEFF 		bl	usbStartReceiveI
 3033              	.LVL164:
 844:lib/chibios/os/hal/src/hal_usb.c **** #else
 3034              		.loc 1 844 7 view .LVU894
 3035              	.LBB778:
 3036              	.LBI778:
 542:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 3037              		.loc 2 542 20 view .LVU895
 3038              	.LBB779:
 544:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 3039              		.loc 2 544 3 view .LVU896
 3040              	.LBB780:
 3041              	.LBI780:
 413:./lib/chibios/os/rt/include/chsys.h **** 
 3042              		.loc 3 413 20 view .LVU897
 3043              	.LBE780:
 3044              	.LBE779:
 3045              	.LBE778:
 415:./lib/chibios/os/rt/include/chsys.h ****   _stats_stop_measure_crit_isr();
 3046              		.loc 3 415 31 view .LVU898
 416:./lib/chibios/os/rt/include/chsys.h ****   port_unlock_from_isr();
 3047              		.loc 3 416 33 view .LVU899
 3048              		.loc 3 417 3 view .LVU900
 3049              	.LBB794:
 3050              	.LBB791:
 3051              	.LBB788:
 3052              	.LBB781:
 3053              	.LBI781:
 719:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3054              		.loc 4 719 27 view .LVU901
 3055              	.LBE781:
 3056              	.LBE788:
 3057              	.LBE791:
 3058              	.LBE794:
 3059              		.loc 4 721 3 view .LVU902
 3060              	.LBB795:
 3061              	.LBB792:
 3062              	.LBB789:
 3063              	.LBB786:
 3064              	.LBB782:
 3065              	.LBI782:
 693:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3066              		.loc 4 693 27 view .LVU903
 3067              	.LBE782:
 3068              	.LBE786:
 3069              	.LBE789:
 3070              	.LBE792:
 3071              	.LBE795:
 696:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else /* CORTEX_SIMPLIFIED_PRIORITY */
 3072              		.loc 4 696 3 view .LVU904
 3073              	.LBB796:
 3074              	.LBB793:
 3075              	.LBB790:
 3076              	.LBB787:
 3077              	.LBB785:
 3078              	.LBB783:
 3079              	.LBI783:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 3080              		.loc 5 491 27 view .LVU905
 3081              	.LBB784:
 3082              		.loc 5 493 3 view .LVU906
 3083              	.L182:
 3084              		.loc 5 493 3 is_stmt 0 view .LVU907
 3085              	.LBE784:
 3086              	.LBE783:
 3087              	.LBE785:
 3088              	.LBE787:
 3089              	.LBE790:
 3090              	.LBE793:
 3091              	.LBE796:
 866:lib/chibios/os/hal/src/hal_usb.c **** #else
 3092              		.loc 1 866 7 is_stmt 1 view .LVU908
 3093              	.LBB797:
 3094              	.LBI797:
 542:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 3095              		.loc 2 542 20 view .LVU909
 3096              	.LBB798:
 544:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 3097              		.loc 2 544 3 view .LVU910
 3098              	.LBB799:
 3099              	.LBI799:
 413:./lib/chibios/os/rt/include/chsys.h **** 
 3100              		.loc 3 413 20 view .LVU911
 3101              	.LBE799:
 3102              	.LBE798:
 3103              	.LBE797:
 415:./lib/chibios/os/rt/include/chsys.h ****   _stats_stop_measure_crit_isr();
 3104              		.loc 3 415 31 view .LVU912
 416:./lib/chibios/os/rt/include/chsys.h ****   port_unlock_from_isr();
 3105              		.loc 3 416 33 view .LVU913
 3106              		.loc 3 417 3 view .LVU914
 3107              	.LBB813:
 3108              	.LBB810:
 3109              	.LBB807:
 3110              	.LBB800:
 3111              	.LBI800:
 719:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3112              		.loc 4 719 27 view .LVU915
 3113              	.LBE800:
 3114              	.LBE807:
 3115              	.LBE810:
 3116              	.LBE813:
 3117              		.loc 4 721 3 view .LVU916
 3118              	.LBB814:
 3119              	.LBB811:
 3120              	.LBB808:
 3121              	.LBB805:
 3122              	.LBB801:
 3123              	.LBI801:
 693:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3124              		.loc 4 693 27 view .LVU917
 3125              	.LBE801:
 3126              	.LBE805:
 3127              	.LBE808:
 3128              	.LBE811:
 3129              	.LBE814:
 696:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else /* CORTEX_SIMPLIFIED_PRIORITY */
 3130              		.loc 4 696 3 view .LVU918
 3131              	.LBB815:
 3132              	.LBB812:
 3133              	.LBB809:
 3134              	.LBB806:
 3135              	.LBB804:
 3136              	.LBB802:
 3137              	.LBI802:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 3138              		.loc 5 491 27 view .LVU919
 3139              	.LBB803:
 3140              		.loc 5 493 3 view .LVU920
 3141              		.syntax unified
 3142              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 3143 024a 85F31188 		MSR basepri, r5
 3144              	@ 0 "" 2
 3145              	.LVL165:
 3146              		.loc 5 493 3 is_stmt 0 view .LVU921
 3147              		.thumb
 3148              		.syntax unified
 3149              	.LBE803:
 3150              	.LBE802:
 3151              	.LBE804:
 3152              	.LBE806:
 3153              	.LBE809:
 545:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 3154              		.loc 2 545 1 view .LVU922
 3155 024e FDE6     		b	.L99
 3156              	.LVL166:
 3157              	.L136:
 545:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 3158              		.loc 2 545 1 view .LVU923
 3159              	.LBE812:
 3160              	.LBE815:
 852:lib/chibios/os/hal/src/hal_usb.c ****       /* Starts the receive phase.*/
 3161              		.loc 1 852 5 is_stmt 1 view .LVU924
 852:lib/chibios/os/hal/src/hal_usb.c ****       /* Starts the receive phase.*/
 3162              		.loc 1 852 8 is_stmt 0 view .LVU925
 3163 0250 5DB1     		cbz	r5, .L138
 854:lib/chibios/os/hal/src/hal_usb.c ****       osalSysLockFromISR();
 3164              		.loc 1 854 7 is_stmt 1 view .LVU926
 854:lib/chibios/os/hal/src/hal_usb.c ****       osalSysLockFromISR();
 3165              		.loc 1 854 22 is_stmt 0 view .LVU927
 3166 0252 1522     		movs	r2, #21
 3167 0254 84F86420 		strb	r2, [r4, #100]
 855:lib/chibios/os/hal/src/hal_usb.c ****       usbStartReceiveI(usbp, 0, (uint8_t *)usbp->ep0next, usbp->ep0n);
 3168              		.loc 1 855 7 is_stmt 1 view .LVU928
 3169              	.LBB816:
 3170              	.LBI816:
 531:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 3171              		.loc 2 531 20 view .LVU929
 3172              	.LBE816:
 533:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 3173              		.loc 2 533 3 view .LVU930
 3174              	.LBB828:
 3175              	.LBB817:
 3176              	.LBI817:
 393:./lib/chibios/os/rt/include/chsys.h **** 
 3177              		.loc 3 393 20 view .LVU931
 3178              	.LBE817:
 3179              	.LBE828:
 395:./lib/chibios/os/rt/include/chsys.h ****   _stats_start_measure_crit_isr();
 3180              		.loc 3 395 3 view .LVU932
 3181              	.LBB829:
 3182              	.LBB825:
 3183              	.LBB818:
 3184              	.LBI818:
 708:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3185              		.loc 4 708 27 view .LVU933
 3186              	.LBE818:
 3187              	.LBE825:
 3188              	.LBE829:
 710:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** }
 3189              		.loc 4 710 3 view .LVU934
 3190              	.LBB830:
 3191              	.LBB826:
 3192              	.LBB823:
 3193              	.LBB819:
 3194              	.LBI819:
 669:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3195              		.loc 4 669 27 view .LVU935
 3196              	.LBE819:
 3197              	.LBE823:
 3198              	.LBE826:
 3199              	.LBE830:
 677:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if defined(__CM7_REV)
 3200              		.loc 4 677 3 view .LVU936
 3201              	.LVL167:
 3202              	.LBB831:
 3203              	.LBB827:
 3204              	.LBB824:
 3205              	.LBB822:
 3206              	.LBB820:
 3207              	.LBI820:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 3208              		.loc 5 491 27 view .LVU937
 3209              	.LBB821:
 3210              		.loc 5 493 3 view .LVU938
 3211              		.syntax unified
 3212              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 3213 0258 83F31188 		MSR basepri, r3
 3214              	@ 0 "" 2
 3215              	.LVL168:
 3216              		.loc 5 493 3 is_stmt 0 view .LVU939
 3217              		.thumb
 3218              		.syntax unified
 3219              	.LBE821:
 3220              	.LBE820:
 3221              	.LBE822:
 3222              	.LBE824:
 3223              	.LBE827:
 3224              	.LBE831:
 396:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_lock_from_isr();
 3225              		.loc 3 396 34 is_stmt 1 view .LVU940
 397:./lib/chibios/os/rt/include/chsys.h **** }
 3226              		.loc 3 397 29 view .LVU941
 856:lib/chibios/os/hal/src/hal_usb.c ****       osalSysUnlockFromISR();
 3227              		.loc 1 856 7 view .LVU942
 3228 025c 0021     		movs	r1, #0
 3229 025e D4E91A23 		ldrd	r2, r3, [r4, #104]
 3230 0262 2046     		mov	r0, r4
 3231 0264 FFF7FEFF 		bl	usbStartReceiveI
 3232              	.LVL169:
 856:lib/chibios/os/hal/src/hal_usb.c ****       osalSysUnlockFromISR();
 3233              		.loc 1 856 7 is_stmt 0 view .LVU943
 3234 0268 11E7     		b	.L183
 3235              	.LVL170:
 3236              	.L138:
 862:lib/chibios/os/hal/src/hal_usb.c **** #if (USB_EP0_STATUS_STAGE == USB_EP0_STATUS_STAGE_SW)
 3237              		.loc 1 862 7 is_stmt 1 view .LVU944
 862:lib/chibios/os/hal/src/hal_usb.c **** #if (USB_EP0_STATUS_STAGE == USB_EP0_STATUS_STAGE_SW)
 3238              		.loc 1 862 22 is_stmt 0 view .LVU945
 3239 026a 0B22     		movs	r2, #11
 3240 026c 84F86420 		strb	r2, [r4, #100]
 864:lib/chibios/os/hal/src/hal_usb.c ****       usbStartTransmitI(usbp, 0, NULL, 0);
 3241              		.loc 1 864 7 is_stmt 1 view .LVU946
 3242              	.LBB832:
 3243              	.LBI832:
 531:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 3244              		.loc 2 531 20 view .LVU947
 3245              	.LBE832:
 533:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 3246              		.loc 2 533 3 view .LVU948
 3247              	.LBB844:
 3248              	.LBB833:
 3249              	.LBI833:
 393:./lib/chibios/os/rt/include/chsys.h **** 
 3250              		.loc 3 393 20 view .LVU949
 3251              	.LBE833:
 3252              	.LBE844:
 395:./lib/chibios/os/rt/include/chsys.h ****   _stats_start_measure_crit_isr();
 3253              		.loc 3 395 3 view .LVU950
 3254              	.LBB845:
 3255              	.LBB841:
 3256              	.LBB834:
 3257              	.LBI834:
 708:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3258              		.loc 4 708 27 view .LVU951
 3259              	.LBE834:
 3260              	.LBE841:
 3261              	.LBE845:
 710:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** }
 3262              		.loc 4 710 3 view .LVU952
 3263              	.LBB846:
 3264              	.LBB842:
 3265              	.LBB839:
 3266              	.LBB835:
 3267              	.LBI835:
 669:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3268              		.loc 4 669 27 view .LVU953
 3269              	.LBE835:
 3270              	.LBE839:
 3271              	.LBE842:
 3272              	.LBE846:
 677:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if defined(__CM7_REV)
 3273              		.loc 4 677 3 view .LVU954
 3274              	.LVL171:
 3275              	.LBB847:
 3276              	.LBB843:
 3277              	.LBB840:
 3278              	.LBB838:
 3279              	.LBB836:
 3280              	.LBI836:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 3281              		.loc 5 491 27 view .LVU955
 3282              	.LBB837:
 3283              		.loc 5 493 3 view .LVU956
 3284              		.syntax unified
 3285              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 3286 0270 83F31188 		MSR basepri, r3
 3287              	@ 0 "" 2
 3288              	.LVL172:
 3289              		.loc 5 493 3 is_stmt 0 view .LVU957
 3290              		.thumb
 3291              		.syntax unified
 3292              	.LBE837:
 3293              	.LBE836:
 3294              	.LBE838:
 3295              	.LBE840:
 3296              	.LBE843:
 3297              	.LBE847:
 396:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_lock_from_isr();
 3298              		.loc 3 396 34 is_stmt 1 view .LVU958
 397:./lib/chibios/os/rt/include/chsys.h **** }
 3299              		.loc 3 397 29 view .LVU959
 865:lib/chibios/os/hal/src/hal_usb.c ****       osalSysUnlockFromISR();
 3300              		.loc 1 865 7 view .LVU960
 3301 0274 2B46     		mov	r3, r5
 3302 0276 2A46     		mov	r2, r5
 3303 0278 2946     		mov	r1, r5
 3304 027a 2046     		mov	r0, r4
 3305 027c FFF7FEFF 		bl	usbStartTransmitI
 3306              	.LVL173:
 865:lib/chibios/os/hal/src/hal_usb.c ****       osalSysUnlockFromISR();
 3307              		.loc 1 865 7 is_stmt 0 view .LVU961
 3308 0280 E3E7     		b	.L182
 3309              	.L189:
 3310 0282 00BF     		.align	2
 3311              	.L188:
 3312 0284 00000000 		.word	.LANCHOR0
 3313 0288 00000000 		.word	set_address
 3314 028c 00000000 		.word	.LANCHOR2
 3315 0290 00000000 		.word	.LANCHOR1
 3316              		.cfi_endproc
 3317              	.LFE297:
 3319              		.section	.text._usb_ep0in,"ax",%progbits
 3320              		.align	1
 3321              		.global	_usb_ep0in
 3322              		.syntax unified
 3323              		.thumb
 3324              		.thumb_func
 3325              		.fpu fpv4-sp-d16
 3327              	_usb_ep0in:
 3328              	.LVL174:
 3329              	.LFB298:
 873:lib/chibios/os/hal/src/hal_usb.c **** 
 874:lib/chibios/os/hal/src/hal_usb.c **** /**
 875:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   Default EP0 IN callback.
 876:lib/chibios/os/hal/src/hal_usb.c ****  * @details This function is used by the low level driver as default handler
 877:lib/chibios/os/hal/src/hal_usb.c ****  *          for EP0 IN events.
 878:lib/chibios/os/hal/src/hal_usb.c ****  *
 879:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] usbp      pointer to the @p USBDriver object
 880:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] ep        endpoint number, always zero
 881:lib/chibios/os/hal/src/hal_usb.c ****  *
 882:lib/chibios/os/hal/src/hal_usb.c ****  * @notapi
 883:lib/chibios/os/hal/src/hal_usb.c ****  */
 884:lib/chibios/os/hal/src/hal_usb.c **** void _usb_ep0in(USBDriver *usbp, usbep_t ep) {
 3330              		.loc 1 884 46 is_stmt 1 view -0
 3331              		.cfi_startproc
 3332              		@ args = 0, pretend = 0, frame = 0
 3333              		@ frame_needed = 0, uses_anonymous_args = 0
 885:lib/chibios/os/hal/src/hal_usb.c ****   size_t max;
 3334              		.loc 1 885 3 view .LVU963
 886:lib/chibios/os/hal/src/hal_usb.c **** 
 887:lib/chibios/os/hal/src/hal_usb.c ****   (void)ep;
 3335              		.loc 1 887 3 view .LVU964
 888:lib/chibios/os/hal/src/hal_usb.c ****   switch (usbp->ep0state) {
 3336              		.loc 1 888 3 view .LVU965
 884:lib/chibios/os/hal/src/hal_usb.c ****   size_t max;
 3337              		.loc 1 884 46 is_stmt 0 view .LVU966
 3338 0000 38B5     		push	{r3, r4, r5, lr}
 3339              		.cfi_def_cfa_offset 16
 3340              		.cfi_offset 3, -16
 3341              		.cfi_offset 4, -12
 3342              		.cfi_offset 5, -8
 3343              		.cfi_offset 14, -4
 3344              		.loc 1 888 15 view .LVU967
 3345 0002 90F86430 		ldrb	r3, [r0, #100]	@ zero_extendqisi2
 884:lib/chibios/os/hal/src/hal_usb.c ****   size_t max;
 3346              		.loc 1 884 46 view .LVU968
 3347 0006 0446     		mov	r4, r0
 3348              		.loc 1 888 3 view .LVU969
 3349 0008 002B     		cmp	r3, #0
 3350 000a 3ED0     		beq	.L191
 3351 000c 063B     		subs	r3, r3, #6
 3352 000e DAB2     		uxtb	r2, r3
 3353 0010 0F2A     		cmp	r2, #15
 3354 0012 34D8     		bhi	.L190
 3355 0014 0F2B     		cmp	r3, #15
 3356 0016 32D8     		bhi	.L190
 3357 0018 DFE803F0 		tbb	[pc, r3]
 3358              	.L193:
 3359 001c 37       		.byte	(.L191-.L193)/2
 3360 001d 31       		.byte	(.L190-.L193)/2
 3361 001e 31       		.byte	(.L190-.L193)/2
 3362 001f 08       		.byte	(.L196-.L193)/2
 3363 0020 22       		.byte	(.L195-.L193)/2
 3364 0021 32       		.byte	(.L194-.L193)/2
 3365 0022 31       		.byte	(.L190-.L193)/2
 3366 0023 31       		.byte	(.L190-.L193)/2
 3367 0024 31       		.byte	(.L190-.L193)/2
 3368 0025 31       		.byte	(.L190-.L193)/2
 3369 0026 31       		.byte	(.L190-.L193)/2
 3370 0027 31       		.byte	(.L190-.L193)/2
 3371 0028 31       		.byte	(.L190-.L193)/2
 3372 0029 31       		.byte	(.L190-.L193)/2
 3373 002a 37       		.byte	(.L191-.L193)/2
 3374 002b 37       		.byte	(.L191-.L193)/2
 3375              		.p2align 1
 3376              	.L196:
 889:lib/chibios/os/hal/src/hal_usb.c ****   case USB_EP0_IN_TX:
 890:lib/chibios/os/hal/src/hal_usb.c ****     max = (size_t)get_hword(&usbp->setup[6]);
 3377              		.loc 1 890 5 is_stmt 1 view .LVU970
 3378              	.LVL175:
  52:lib/chibios/os/hal/src/hal_usb.c **** 
 3379              		.loc 1 52 3 view .LVU971
  54:lib/chibios/os/hal/src/hal_usb.c ****   hw |= (uint16_t)*p << 8U;
 3380              		.loc 1 54 3 view .LVU972
  55:lib/chibios/os/hal/src/hal_usb.c ****   return hw;
 3381              		.loc 1 55 3 view .LVU973
  56:lib/chibios/os/hal/src/hal_usb.c **** }
 3382              		.loc 1 56 3 view .LVU974
 891:lib/chibios/os/hal/src/hal_usb.c ****     /* If the transmitted size is less than the requested size and it is a
 892:lib/chibios/os/hal/src/hal_usb.c ****        multiple of the maximum packet size then a zero size packet must be
 893:lib/chibios/os/hal/src/hal_usb.c ****        transmitted.*/
 894:lib/chibios/os/hal/src/hal_usb.c ****     if ((usbp->ep0n < max) &&
 3383              		.loc 1 894 5 view .LVU975
 3384              		.loc 1 894 14 is_stmt 0 view .LVU976
 3385 002c C56E     		ldr	r5, [r0, #108]
 890:lib/chibios/os/hal/src/hal_usb.c ****     /* If the transmitted size is less than the requested size and it is a
 3386              		.loc 1 890 9 view .LVU977
 3387 002e B0F87A30 		ldrh	r3, [r0, #122]	@ unaligned
 3388              		.loc 1 894 8 view .LVU978
 3389 0032 9D42     		cmp	r5, r3
 3390 0034 14D2     		bcs	.L195
 895:lib/chibios/os/hal/src/hal_usb.c ****         ((usbp->ep0n % usbp->epc[0]->in_maxsize) == 0U)) {
 3391              		.loc 1 895 36 discriminator 1 view .LVU979
 3392 0036 C368     		ldr	r3, [r0, #12]
 3393 0038 1B8A     		ldrh	r3, [r3, #16]
 3394              		.loc 1 895 22 discriminator 1 view .LVU980
 3395 003a B5FBF3F2 		udiv	r2, r5, r3
 3396 003e 03FB1255 		mls	r5, r3, r2, r5
 894:lib/chibios/os/hal/src/hal_usb.c ****         ((usbp->ep0n % usbp->epc[0]->in_maxsize) == 0U)) {
 3397              		.loc 1 894 28 discriminator 1 view .LVU981
 3398 0042 6DB9     		cbnz	r5, .L195
 896:lib/chibios/os/hal/src/hal_usb.c ****       osalSysLockFromISR();
 3399              		.loc 1 896 7 is_stmt 1 view .LVU982
 3400              	.LBB848:
 3401              	.LBI848:
 531:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 3402              		.loc 2 531 20 view .LVU983
 3403              	.LBE848:
 533:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 3404              		.loc 2 533 3 view .LVU984
 3405              	.LBB860:
 3406              	.LBB849:
 3407              	.LBI849:
 393:./lib/chibios/os/rt/include/chsys.h **** 
 3408              		.loc 3 393 20 view .LVU985
 3409              	.LBE849:
 3410              	.LBE860:
 395:./lib/chibios/os/rt/include/chsys.h ****   _stats_start_measure_crit_isr();
 3411              		.loc 3 395 3 view .LVU986
 3412              	.LBB861:
 3413              	.LBB857:
 3414              	.LBB850:
 3415              	.LBI850:
 708:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3416              		.loc 4 708 27 view .LVU987
 3417              	.LBE850:
 3418              	.LBE857:
 3419              	.LBE861:
 710:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** }
 3420              		.loc 4 710 3 view .LVU988
 3421              	.LBB862:
 3422              	.LBB858:
 3423              	.LBB855:
 3424              	.LBB851:
 3425              	.LBI851:
 669:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3426              		.loc 4 669 27 view .LVU989
 3427              	.LBE851:
 3428              	.LBE855:
 3429              	.LBE858:
 3430              	.LBE862:
 677:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if defined(__CM7_REV)
 3431              		.loc 4 677 3 view .LVU990
 3432              	.LVL176:
 3433              	.LBB863:
 3434              	.LBB859:
 3435              	.LBB856:
 3436              	.LBB854:
 3437              	.LBB852:
 3438              	.LBI852:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 3439              		.loc 5 491 27 view .LVU991
 3440              	.LBB853:
 3441              		.loc 5 493 3 view .LVU992
 3442 0044 2023     		movs	r3, #32
 3443              		.syntax unified
 3444              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 3445 0046 83F31188 		MSR basepri, r3
 3446              	@ 0 "" 2
 3447              	.LVL177:
 3448              		.loc 5 493 3 is_stmt 0 view .LVU993
 3449              		.thumb
 3450              		.syntax unified
 3451              	.LBE853:
 3452              	.LBE852:
 3453              	.LBE854:
 3454              	.LBE856:
 3455              	.LBE859:
 3456              	.LBE863:
 396:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_lock_from_isr();
 3457              		.loc 3 396 34 is_stmt 1 view .LVU994
 397:./lib/chibios/os/rt/include/chsys.h **** }
 3458              		.loc 3 397 29 view .LVU995
 897:lib/chibios/os/hal/src/hal_usb.c ****       usbStartTransmitI(usbp, 0, NULL, 0);
 3459              		.loc 1 897 7 view .LVU996
 3460 004a 2B46     		mov	r3, r5
 3461 004c 2A46     		mov	r2, r5
 3462 004e 2946     		mov	r1, r5
 3463              	.LVL178:
 3464              		.loc 1 897 7 is_stmt 0 view .LVU997
 3465 0050 FFF7FEFF 		bl	usbStartTransmitI
 3466              	.LVL179:
 898:lib/chibios/os/hal/src/hal_usb.c ****       osalSysUnlockFromISR();
 3467              		.loc 1 898 7 is_stmt 1 view .LVU998
 3468              	.LBB864:
 3469              	.LBI864:
 542:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 3470              		.loc 2 542 20 view .LVU999
 3471              	.LBE864:
 544:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 3472              		.loc 2 544 3 view .LVU1000
 3473              	.LBB876:
 3474              	.LBB865:
 3475              	.LBI865:
 413:./lib/chibios/os/rt/include/chsys.h **** 
 3476              		.loc 3 413 20 view .LVU1001
 3477              	.LBE865:
 3478              	.LBE876:
 415:./lib/chibios/os/rt/include/chsys.h ****   _stats_stop_measure_crit_isr();
 3479              		.loc 3 415 31 view .LVU1002
 416:./lib/chibios/os/rt/include/chsys.h ****   port_unlock_from_isr();
 3480              		.loc 3 416 33 view .LVU1003
 3481              		.loc 3 417 3 view .LVU1004
 3482              	.LBB877:
 3483              	.LBB873:
 3484              	.LBB866:
 3485              	.LBI866:
 719:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3486              		.loc 4 719 27 view .LVU1005
 3487              	.LBE866:
 3488              	.LBE873:
 3489              	.LBE877:
 3490              		.loc 4 721 3 view .LVU1006
 3491              	.LBB878:
 3492              	.LBB874:
 3493              	.LBB871:
 3494              	.LBB867:
 3495              	.LBI867:
 693:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3496              		.loc 4 693 27 view .LVU1007
 3497              	.LBE867:
 3498              	.LBE871:
 3499              	.LBE874:
 3500              	.LBE878:
 696:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else /* CORTEX_SIMPLIFIED_PRIORITY */
 3501              		.loc 4 696 3 view .LVU1008
 3502              	.LBB879:
 3503              	.LBB875:
 3504              	.LBB872:
 3505              	.LBB870:
 3506              	.LBB868:
 3507              	.LBI868:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 3508              		.loc 5 491 27 view .LVU1009
 3509              	.LBB869:
 3510              		.loc 5 493 3 view .LVU1010
 3511              		.syntax unified
 3512              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 3513 0054 85F31188 		MSR basepri, r5
 3514              	@ 0 "" 2
 3515              	.LVL180:
 3516              		.loc 5 493 3 is_stmt 0 view .LVU1011
 3517              		.thumb
 3518              		.syntax unified
 3519              	.LBE869:
 3520              	.LBE868:
 3521              	.LBE870:
 3522              	.LBE872:
 3523              	.LBE875:
 3524              	.LBE879:
 899:lib/chibios/os/hal/src/hal_usb.c ****       usbp->ep0state = USB_EP0_IN_WAITING_TX0;
 3525              		.loc 1 899 7 is_stmt 1 view .LVU1012
 3526              		.loc 1 899 22 is_stmt 0 view .LVU1013
 3527 0058 0A23     		movs	r3, #10
 3528              	.L208:
 900:lib/chibios/os/hal/src/hal_usb.c ****       return;
 901:lib/chibios/os/hal/src/hal_usb.c ****     }
 902:lib/chibios/os/hal/src/hal_usb.c ****     /* Falls through.*/
 903:lib/chibios/os/hal/src/hal_usb.c ****   case USB_EP0_IN_WAITING_TX0:
 904:lib/chibios/os/hal/src/hal_usb.c ****     /* Transmit phase over, receiving the zero sized status packet.*/
 905:lib/chibios/os/hal/src/hal_usb.c ****     usbp->ep0state = USB_EP0_OUT_WAITING_STS;
 906:lib/chibios/os/hal/src/hal_usb.c **** #if (USB_EP0_STATUS_STAGE == USB_EP0_STATUS_STAGE_SW)
 907:lib/chibios/os/hal/src/hal_usb.c ****     osalSysLockFromISR();
 908:lib/chibios/os/hal/src/hal_usb.c ****     usbStartReceiveI(usbp, 0, NULL, 0);
 909:lib/chibios/os/hal/src/hal_usb.c ****     osalSysUnlockFromISR();
 910:lib/chibios/os/hal/src/hal_usb.c **** #else
 911:lib/chibios/os/hal/src/hal_usb.c ****     usb_lld_end_setup(usbp, ep);
 912:lib/chibios/os/hal/src/hal_usb.c **** #endif
 913:lib/chibios/os/hal/src/hal_usb.c ****     return;
 914:lib/chibios/os/hal/src/hal_usb.c ****   case USB_EP0_IN_SENDING_STS:
 915:lib/chibios/os/hal/src/hal_usb.c ****     /* Status packet sent, invoking the callback if defined.*/
 916:lib/chibios/os/hal/src/hal_usb.c ****     if (usbp->ep0endcb != NULL) {
 917:lib/chibios/os/hal/src/hal_usb.c ****       usbp->ep0endcb(usbp);
 918:lib/chibios/os/hal/src/hal_usb.c ****     }
 919:lib/chibios/os/hal/src/hal_usb.c ****     usbp->ep0state = USB_EP0_STP_WAITING;
 920:lib/chibios/os/hal/src/hal_usb.c ****     return;
 921:lib/chibios/os/hal/src/hal_usb.c ****   case USB_EP0_STP_WAITING:
 922:lib/chibios/os/hal/src/hal_usb.c ****   case USB_EP0_OUT_WAITING_STS:
 923:lib/chibios/os/hal/src/hal_usb.c ****   case USB_EP0_OUT_RX:
 924:lib/chibios/os/hal/src/hal_usb.c ****     /* All the above are invalid states in the IN phase.*/
 925:lib/chibios/os/hal/src/hal_usb.c ****     osalDbgAssert(false, "EP0 state machine error");
 926:lib/chibios/os/hal/src/hal_usb.c ****     /* Falls through.*/
 927:lib/chibios/os/hal/src/hal_usb.c ****   case USB_EP0_ERROR:
 928:lib/chibios/os/hal/src/hal_usb.c ****     /* Error response, the state machine goes into an error state, the low
 929:lib/chibios/os/hal/src/hal_usb.c ****        level layer will have to reset it to USB_EP0_WAITING_SETUP after
 930:lib/chibios/os/hal/src/hal_usb.c ****        receiving a SETUP packet.*/
 931:lib/chibios/os/hal/src/hal_usb.c ****     usb_lld_stall_in(usbp, 0);
 932:lib/chibios/os/hal/src/hal_usb.c ****     usb_lld_stall_out(usbp, 0);
 933:lib/chibios/os/hal/src/hal_usb.c ****     _usb_isr_invoke_event_cb(usbp, USB_EVENT_STALLED);
 934:lib/chibios/os/hal/src/hal_usb.c ****     usbp->ep0state = USB_EP0_ERROR;
 3529              		.loc 1 934 20 discriminator 3 view .LVU1014
 3530 005a 84F86430 		strb	r3, [r4, #100]
 935:lib/chibios/os/hal/src/hal_usb.c ****     return;
 3531              		.loc 1 935 5 is_stmt 1 discriminator 3 view .LVU1015
 936:lib/chibios/os/hal/src/hal_usb.c ****   default:
 937:lib/chibios/os/hal/src/hal_usb.c ****     osalDbgAssert(false, "EP0 state machine invalid state");
 3532              		.loc 1 937 5 discriminator 3 view .LVU1016
 935:lib/chibios/os/hal/src/hal_usb.c ****     return;
 3533              		.loc 1 935 5 is_stmt 0 discriminator 3 view .LVU1017
 3534 005e 0EE0     		b	.L190
 3535              	.LVL181:
 3536              	.L195:
 905:lib/chibios/os/hal/src/hal_usb.c **** #if (USB_EP0_STATUS_STAGE == USB_EP0_STATUS_STAGE_SW)
 3537              		.loc 1 905 5 is_stmt 1 view .LVU1018
 905:lib/chibios/os/hal/src/hal_usb.c **** #if (USB_EP0_STATUS_STAGE == USB_EP0_STATUS_STAGE_SW)
 3538              		.loc 1 905 20 is_stmt 0 view .LVU1019
 3539 0060 1423     		movs	r3, #20
 3540 0062 84F86430 		strb	r3, [r4, #100]
 907:lib/chibios/os/hal/src/hal_usb.c ****     usbStartReceiveI(usbp, 0, NULL, 0);
 3541              		.loc 1 907 5 is_stmt 1 view .LVU1020
 3542              	.LBB880:
 3543              	.LBI880:
 531:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 3544              		.loc 2 531 20 view .LVU1021
 3545              	.LBE880:
 533:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 3546              		.loc 2 533 3 view .LVU1022
 3547              	.LBB892:
 3548              	.LBB881:
 3549              	.LBI881:
 393:./lib/chibios/os/rt/include/chsys.h **** 
 3550              		.loc 3 393 20 view .LVU1023
 3551              	.LBE881:
 3552              	.LBE892:
 395:./lib/chibios/os/rt/include/chsys.h ****   _stats_start_measure_crit_isr();
 3553              		.loc 3 395 3 view .LVU1024
 3554              	.LBB893:
 3555              	.LBB889:
 3556              	.LBB882:
 3557              	.LBI882:
 708:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3558              		.loc 4 708 27 view .LVU1025
 3559              	.LBE882:
 3560              	.LBE889:
 3561              	.LBE893:
 710:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** }
 3562              		.loc 4 710 3 view .LVU1026
 3563              	.LBB894:
 3564              	.LBB890:
 3565              	.LBB887:
 3566              	.LBB883:
 3567              	.LBI883:
 669:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3568              		.loc 4 669 27 view .LVU1027
 3569              	.LBE883:
 3570              	.LBE887:
 3571              	.LBE890:
 3572              	.LBE894:
 677:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if defined(__CM7_REV)
 3573              		.loc 4 677 3 view .LVU1028
 3574              	.LVL182:
 3575              	.LBB895:
 3576              	.LBB891:
 3577              	.LBB888:
 3578              	.LBB886:
 3579              	.LBB884:
 3580              	.LBI884:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 3581              		.loc 5 491 27 view .LVU1029
 3582              	.LBB885:
 3583              		.loc 5 493 3 view .LVU1030
 3584 0066 2023     		movs	r3, #32
 3585              		.syntax unified
 3586              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 3587 0068 83F31188 		MSR basepri, r3
 3588              	@ 0 "" 2
 3589              	.LVL183:
 3590              		.loc 5 493 3 is_stmt 0 view .LVU1031
 3591              		.thumb
 3592              		.syntax unified
 3593              	.LBE885:
 3594              	.LBE884:
 3595              	.LBE886:
 3596              	.LBE888:
 3597              	.LBE891:
 3598              	.LBE895:
 396:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_lock_from_isr();
 3599              		.loc 3 396 34 is_stmt 1 view .LVU1032
 397:./lib/chibios/os/rt/include/chsys.h **** }
 3600              		.loc 3 397 29 view .LVU1033
 908:lib/chibios/os/hal/src/hal_usb.c ****     osalSysUnlockFromISR();
 3601              		.loc 1 908 5 view .LVU1034
 3602 006c 0023     		movs	r3, #0
 3603 006e 1A46     		mov	r2, r3
 3604 0070 1946     		mov	r1, r3
 3605              	.LVL184:
 908:lib/chibios/os/hal/src/hal_usb.c ****     osalSysUnlockFromISR();
 3606              		.loc 1 908 5 is_stmt 0 view .LVU1035
 3607 0072 2046     		mov	r0, r4
 3608              	.LVL185:
 908:lib/chibios/os/hal/src/hal_usb.c ****     osalSysUnlockFromISR();
 3609              		.loc 1 908 5 view .LVU1036
 3610 0074 FFF7FEFF 		bl	usbStartReceiveI
 3611              	.LVL186:
 909:lib/chibios/os/hal/src/hal_usb.c **** #else
 3612              		.loc 1 909 5 is_stmt 1 view .LVU1037
 3613              	.LBB896:
 3614              	.LBI896:
 542:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 3615              		.loc 2 542 20 view .LVU1038
 3616              	.LBB897:
 544:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 3617              		.loc 2 544 3 view .LVU1039
 3618              	.LBB898:
 3619              	.LBI898:
 413:./lib/chibios/os/rt/include/chsys.h **** 
 3620              		.loc 3 413 20 view .LVU1040
 3621              	.LBE898:
 3622              	.LBE897:
 3623              	.LBE896:
 415:./lib/chibios/os/rt/include/chsys.h ****   _stats_stop_measure_crit_isr();
 3624              		.loc 3 415 31 view .LVU1041
 416:./lib/chibios/os/rt/include/chsys.h ****   port_unlock_from_isr();
 3625              		.loc 3 416 33 view .LVU1042
 3626              		.loc 3 417 3 view .LVU1043
 3627              	.LBB912:
 3628              	.LBB909:
 3629              	.LBB906:
 3630              	.LBB899:
 3631              	.LBI899:
 719:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3632              		.loc 4 719 27 view .LVU1044
 3633              	.LBE899:
 3634              	.LBE906:
 3635              	.LBE909:
 3636              	.LBE912:
 3637              		.loc 4 721 3 view .LVU1045
 3638              	.LBB913:
 3639              	.LBB910:
 3640              	.LBB907:
 3641              	.LBB904:
 3642              	.LBB900:
 3643              	.LBI900:
 693:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3644              		.loc 4 693 27 view .LVU1046
 3645              	.LBE900:
 3646              	.LBE904:
 3647              	.LBE907:
 3648              	.LBE910:
 3649              	.LBE913:
 696:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else /* CORTEX_SIMPLIFIED_PRIORITY */
 3650              		.loc 4 696 3 view .LVU1047
 3651              	.LBB914:
 3652              	.LBB911:
 3653              	.LBB908:
 3654              	.LBB905:
 3655              	.LBB903:
 3656              	.LBB901:
 3657              	.LBI901:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 3658              		.loc 5 491 27 view .LVU1048
 3659              	.LBB902:
 3660              		.loc 5 493 3 view .LVU1049
 3661 0078 0023     		movs	r3, #0
 3662              		.syntax unified
 3663              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 3664 007a 83F31188 		MSR basepri, r3
 3665              	@ 0 "" 2
 3666              	.LVL187:
 3667              		.thumb
 3668              		.syntax unified
 3669              	.L190:
 3670              		.loc 5 493 3 is_stmt 0 view .LVU1050
 3671              	.LBE902:
 3672              	.LBE901:
 3673              	.LBE903:
 3674              	.LBE905:
 3675              	.LBE908:
 3676              	.LBE911:
 3677              	.LBE914:
 938:lib/chibios/os/hal/src/hal_usb.c ****   }
 939:lib/chibios/os/hal/src/hal_usb.c **** }
 3678              		.loc 1 939 1 view .LVU1051
 3679 007e 38BD     		pop	{r3, r4, r5, pc}
 3680              	.LVL188:
 3681              	.L194:
 916:lib/chibios/os/hal/src/hal_usb.c ****       usbp->ep0endcb(usbp);
 3682              		.loc 1 916 5 is_stmt 1 view .LVU1052
 916:lib/chibios/os/hal/src/hal_usb.c ****       usbp->ep0endcb(usbp);
 3683              		.loc 1 916 13 is_stmt 0 view .LVU1053
 3684 0080 036F     		ldr	r3, [r0, #112]
 916:lib/chibios/os/hal/src/hal_usb.c ****       usbp->ep0endcb(usbp);
 3685              		.loc 1 916 8 view .LVU1054
 3686 0082 03B1     		cbz	r3, .L197
 917:lib/chibios/os/hal/src/hal_usb.c ****     }
 3687              		.loc 1 917 7 is_stmt 1 view .LVU1055
 3688 0084 9847     		blx	r3
 3689              	.LVL189:
 3690              	.L197:
 919:lib/chibios/os/hal/src/hal_usb.c ****     return;
 3691              		.loc 1 919 5 view .LVU1056
 919:lib/chibios/os/hal/src/hal_usb.c ****     return;
 3692              		.loc 1 919 20 is_stmt 0 view .LVU1057
 3693 0086 0023     		movs	r3, #0
 3694 0088 E7E7     		b	.L208
 3695              	.LVL190:
 3696              	.L191:
 925:lib/chibios/os/hal/src/hal_usb.c ****     /* Falls through.*/
 3697              		.loc 1 925 5 is_stmt 1 discriminator 5 view .LVU1058
 931:lib/chibios/os/hal/src/hal_usb.c ****     usb_lld_stall_out(usbp, 0);
 3698              		.loc 1 931 5 discriminator 5 view .LVU1059
 3699 008a 0021     		movs	r1, #0
 3700              	.LVL191:
 931:lib/chibios/os/hal/src/hal_usb.c ****     usb_lld_stall_out(usbp, 0);
 3701              		.loc 1 931 5 is_stmt 0 discriminator 5 view .LVU1060
 3702 008c 2046     		mov	r0, r4
 3703              	.LVL192:
 931:lib/chibios/os/hal/src/hal_usb.c ****     usb_lld_stall_out(usbp, 0);
 3704              		.loc 1 931 5 discriminator 5 view .LVU1061
 3705 008e FFF7FEFF 		bl	usb_lld_stall_in
 3706              	.LVL193:
 932:lib/chibios/os/hal/src/hal_usb.c ****     _usb_isr_invoke_event_cb(usbp, USB_EVENT_STALLED);
 3707              		.loc 1 932 5 is_stmt 1 discriminator 5 view .LVU1062
 3708 0092 0021     		movs	r1, #0
 3709 0094 2046     		mov	r0, r4
 3710 0096 FFF7FEFF 		bl	usb_lld_stall_out
 3711              	.LVL194:
 933:lib/chibios/os/hal/src/hal_usb.c ****     usbp->ep0state = USB_EP0_ERROR;
 3712              		.loc 1 933 5 discriminator 5 view .LVU1063
 3713 009a 6368     		ldr	r3, [r4, #4]
 3714 009c 1B68     		ldr	r3, [r3]
 3715 009e 13B1     		cbz	r3, .L198
 933:lib/chibios/os/hal/src/hal_usb.c ****     usbp->ep0state = USB_EP0_ERROR;
 3716              		.loc 1 933 5 discriminator 1 view .LVU1064
 3717 00a0 0621     		movs	r1, #6
 3718 00a2 2046     		mov	r0, r4
 3719 00a4 9847     		blx	r3
 3720              	.LVL195:
 3721              	.L198:
 933:lib/chibios/os/hal/src/hal_usb.c ****     usbp->ep0state = USB_EP0_ERROR;
 3722              		.loc 1 933 54 discriminator 3 view .LVU1065
 934:lib/chibios/os/hal/src/hal_usb.c ****     return;
 3723              		.loc 1 934 5 discriminator 3 view .LVU1066
 934:lib/chibios/os/hal/src/hal_usb.c ****     return;
 3724              		.loc 1 934 20 is_stmt 0 discriminator 3 view .LVU1067
 3725 00a6 0623     		movs	r3, #6
 3726 00a8 D7E7     		b	.L208
 3727              		.cfi_endproc
 3728              	.LFE298:
 3730              		.section	.text._usb_ep0out,"ax",%progbits
 3731              		.align	1
 3732              		.global	_usb_ep0out
 3733              		.syntax unified
 3734              		.thumb
 3735              		.thumb_func
 3736              		.fpu fpv4-sp-d16
 3738              	_usb_ep0out:
 3739              	.LVL196:
 3740              	.LFB299:
 940:lib/chibios/os/hal/src/hal_usb.c **** 
 941:lib/chibios/os/hal/src/hal_usb.c **** /**
 942:lib/chibios/os/hal/src/hal_usb.c ****  * @brief   Default EP0 OUT callback.
 943:lib/chibios/os/hal/src/hal_usb.c ****  * @details This function is used by the low level driver as default handler
 944:lib/chibios/os/hal/src/hal_usb.c ****  *          for EP0 OUT events.
 945:lib/chibios/os/hal/src/hal_usb.c ****  *
 946:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] usbp      pointer to the @p USBDriver object
 947:lib/chibios/os/hal/src/hal_usb.c ****  * @param[in] ep        endpoint number, always zero
 948:lib/chibios/os/hal/src/hal_usb.c ****  *
 949:lib/chibios/os/hal/src/hal_usb.c ****  * @notapi
 950:lib/chibios/os/hal/src/hal_usb.c ****  */
 951:lib/chibios/os/hal/src/hal_usb.c **** void _usb_ep0out(USBDriver *usbp, usbep_t ep) {
 3741              		.loc 1 951 47 is_stmt 1 view -0
 3742              		.cfi_startproc
 3743              		@ args = 0, pretend = 0, frame = 0
 3744              		@ frame_needed = 0, uses_anonymous_args = 0
 952:lib/chibios/os/hal/src/hal_usb.c **** 
 953:lib/chibios/os/hal/src/hal_usb.c ****   (void)ep;
 3745              		.loc 1 953 3 view .LVU1069
 954:lib/chibios/os/hal/src/hal_usb.c ****   switch (usbp->ep0state) {
 3746              		.loc 1 954 3 view .LVU1070
 951:lib/chibios/os/hal/src/hal_usb.c **** 
 3747              		.loc 1 951 47 is_stmt 0 view .LVU1071
 3748 0000 10B5     		push	{r4, lr}
 3749              		.cfi_def_cfa_offset 8
 3750              		.cfi_offset 4, -8
 3751              		.cfi_offset 14, -4
 3752              		.loc 1 954 15 view .LVU1072
 3753 0002 90F86430 		ldrb	r3, [r0, #100]	@ zero_extendqisi2
 3754              		.loc 1 954 3 view .LVU1073
 3755 0006 142B     		cmp	r3, #20
 951:lib/chibios/os/hal/src/hal_usb.c **** 
 3756              		.loc 1 951 47 view .LVU1074
 3757 0008 0446     		mov	r4, r0
 3758              		.loc 1 954 3 view .LVU1075
 3759 000a 29D0     		beq	.L210
 3760 000c 17D8     		bhi	.L211
 3761 000e 062B     		cmp	r3, #6
 3762 0010 05D0     		beq	.L212
 3763 0012 01D8     		bhi	.L213
 3764 0014 1BB1     		cbz	r3, .L212
 3765              	.LVL197:
 3766              	.L209:
 955:lib/chibios/os/hal/src/hal_usb.c ****   case USB_EP0_OUT_RX:
 956:lib/chibios/os/hal/src/hal_usb.c ****     /* Receive phase over, sending the zero sized status packet.*/
 957:lib/chibios/os/hal/src/hal_usb.c ****     usbp->ep0state = USB_EP0_IN_SENDING_STS;
 958:lib/chibios/os/hal/src/hal_usb.c **** #if (USB_EP0_STATUS_STAGE == USB_EP0_STATUS_STAGE_SW)
 959:lib/chibios/os/hal/src/hal_usb.c ****     osalSysLockFromISR();
 960:lib/chibios/os/hal/src/hal_usb.c ****     usbStartTransmitI(usbp, 0, NULL, 0);
 961:lib/chibios/os/hal/src/hal_usb.c ****     osalSysUnlockFromISR();
 962:lib/chibios/os/hal/src/hal_usb.c **** #else
 963:lib/chibios/os/hal/src/hal_usb.c ****     usb_lld_end_setup(usbp, ep);
 964:lib/chibios/os/hal/src/hal_usb.c **** #endif
 965:lib/chibios/os/hal/src/hal_usb.c ****     return;
 966:lib/chibios/os/hal/src/hal_usb.c ****   case USB_EP0_OUT_WAITING_STS:
 967:lib/chibios/os/hal/src/hal_usb.c ****     /* Status packet received, it must be zero sized, invoking the callback
 968:lib/chibios/os/hal/src/hal_usb.c ****        if defined.*/
 969:lib/chibios/os/hal/src/hal_usb.c **** #if (USB_EP0_STATUS_STAGE == USB_EP0_STATUS_STAGE_SW)
 970:lib/chibios/os/hal/src/hal_usb.c ****     if (usbGetReceiveTransactionSizeX(usbp, 0) != 0U) {
 971:lib/chibios/os/hal/src/hal_usb.c ****       break;
 972:lib/chibios/os/hal/src/hal_usb.c ****     }
 973:lib/chibios/os/hal/src/hal_usb.c **** #endif
 974:lib/chibios/os/hal/src/hal_usb.c ****     if (usbp->ep0endcb != NULL) {
 975:lib/chibios/os/hal/src/hal_usb.c ****       usbp->ep0endcb(usbp);
 976:lib/chibios/os/hal/src/hal_usb.c ****     }
 977:lib/chibios/os/hal/src/hal_usb.c ****     usbp->ep0state = USB_EP0_STP_WAITING;
 978:lib/chibios/os/hal/src/hal_usb.c ****     return;
 979:lib/chibios/os/hal/src/hal_usb.c ****   case USB_EP0_STP_WAITING:
 980:lib/chibios/os/hal/src/hal_usb.c ****   case USB_EP0_IN_TX:
 981:lib/chibios/os/hal/src/hal_usb.c ****   case USB_EP0_IN_WAITING_TX0:
 982:lib/chibios/os/hal/src/hal_usb.c ****   case USB_EP0_IN_SENDING_STS:
 983:lib/chibios/os/hal/src/hal_usb.c ****     /* All the above are invalid states in the IN phase.*/
 984:lib/chibios/os/hal/src/hal_usb.c ****     osalDbgAssert(false, "EP0 state machine error");
 985:lib/chibios/os/hal/src/hal_usb.c ****     /* Falls through.*/
 986:lib/chibios/os/hal/src/hal_usb.c ****   case USB_EP0_ERROR:
 987:lib/chibios/os/hal/src/hal_usb.c ****     /* Error response, the state machine goes into an error state, the low
 988:lib/chibios/os/hal/src/hal_usb.c ****        level layer will have to reset it to USB_EP0_WAITING_SETUP after
 989:lib/chibios/os/hal/src/hal_usb.c ****        receiving a SETUP packet.*/
 990:lib/chibios/os/hal/src/hal_usb.c ****     usb_lld_stall_in(usbp, 0);
 991:lib/chibios/os/hal/src/hal_usb.c ****     usb_lld_stall_out(usbp, 0);
 992:lib/chibios/os/hal/src/hal_usb.c ****     _usb_isr_invoke_event_cb(usbp, USB_EVENT_STALLED);
 993:lib/chibios/os/hal/src/hal_usb.c ****     usbp->ep0state = USB_EP0_ERROR;
 994:lib/chibios/os/hal/src/hal_usb.c ****     return;
 995:lib/chibios/os/hal/src/hal_usb.c ****   default:
 996:lib/chibios/os/hal/src/hal_usb.c ****     osalDbgAssert(false, "EP0 state machine invalid state");
 997:lib/chibios/os/hal/src/hal_usb.c ****   }
 998:lib/chibios/os/hal/src/hal_usb.c **** }
 3767              		.loc 1 998 1 view .LVU1076
 3768 0016 10BD     		pop	{r4, pc}
 3769              	.LVL198:
 3770              	.L213:
 954:lib/chibios/os/hal/src/hal_usb.c ****   case USB_EP0_OUT_RX:
 3771              		.loc 1 954 3 view .LVU1077
 3772 0018 093B     		subs	r3, r3, #9
 3773 001a 022B     		cmp	r3, #2
 3774 001c FBD8     		bhi	.L209
 3775              	.L212:
 984:lib/chibios/os/hal/src/hal_usb.c ****     /* Falls through.*/
 3776              		.loc 1 984 5 is_stmt 1 discriminator 5 view .LVU1078
 990:lib/chibios/os/hal/src/hal_usb.c ****     usb_lld_stall_out(usbp, 0);
 3777              		.loc 1 990 5 discriminator 5 view .LVU1079
 3778 001e 0021     		movs	r1, #0
 3779              	.LVL199:
 990:lib/chibios/os/hal/src/hal_usb.c ****     usb_lld_stall_out(usbp, 0);
 3780              		.loc 1 990 5 is_stmt 0 discriminator 5 view .LVU1080
 3781 0020 2046     		mov	r0, r4
 3782              	.LVL200:
 990:lib/chibios/os/hal/src/hal_usb.c ****     usb_lld_stall_out(usbp, 0);
 3783              		.loc 1 990 5 discriminator 5 view .LVU1081
 3784 0022 FFF7FEFF 		bl	usb_lld_stall_in
 3785              	.LVL201:
 991:lib/chibios/os/hal/src/hal_usb.c ****     _usb_isr_invoke_event_cb(usbp, USB_EVENT_STALLED);
 3786              		.loc 1 991 5 is_stmt 1 discriminator 5 view .LVU1082
 3787 0026 0021     		movs	r1, #0
 3788 0028 2046     		mov	r0, r4
 3789 002a FFF7FEFF 		bl	usb_lld_stall_out
 3790              	.LVL202:
 992:lib/chibios/os/hal/src/hal_usb.c ****     usbp->ep0state = USB_EP0_ERROR;
 3791              		.loc 1 992 5 discriminator 5 view .LVU1083
 3792 002e 6368     		ldr	r3, [r4, #4]
 3793 0030 1B68     		ldr	r3, [r3]
 3794 0032 13B1     		cbz	r3, .L216
 992:lib/chibios/os/hal/src/hal_usb.c ****     usbp->ep0state = USB_EP0_ERROR;
 3795              		.loc 1 992 5 discriminator 1 view .LVU1084
 3796 0034 0621     		movs	r1, #6
 3797 0036 2046     		mov	r0, r4
 3798 0038 9847     		blx	r3
 3799              	.LVL203:
 3800              	.L216:
 992:lib/chibios/os/hal/src/hal_usb.c ****     usbp->ep0state = USB_EP0_ERROR;
 3801              		.loc 1 992 54 discriminator 3 view .LVU1085
 993:lib/chibios/os/hal/src/hal_usb.c ****     return;
 3802              		.loc 1 993 5 discriminator 3 view .LVU1086
 993:lib/chibios/os/hal/src/hal_usb.c ****     return;
 3803              		.loc 1 993 20 is_stmt 0 discriminator 3 view .LVU1087
 3804 003a 0623     		movs	r3, #6
 3805 003c 19E0     		b	.L229
 3806              	.LVL204:
 3807              	.L211:
 954:lib/chibios/os/hal/src/hal_usb.c ****   case USB_EP0_OUT_RX:
 3808              		.loc 1 954 3 view .LVU1088
 3809 003e 152B     		cmp	r3, #21
 3810 0040 E9D1     		bne	.L209
 957:lib/chibios/os/hal/src/hal_usb.c **** #if (USB_EP0_STATUS_STAGE == USB_EP0_STATUS_STAGE_SW)
 3811              		.loc 1 957 5 is_stmt 1 view .LVU1089
 957:lib/chibios/os/hal/src/hal_usb.c **** #if (USB_EP0_STATUS_STAGE == USB_EP0_STATUS_STAGE_SW)
 3812              		.loc 1 957 20 is_stmt 0 view .LVU1090
 3813 0042 0B23     		movs	r3, #11
 3814 0044 80F86430 		strb	r3, [r0, #100]
 959:lib/chibios/os/hal/src/hal_usb.c ****     usbStartTransmitI(usbp, 0, NULL, 0);
 3815              		.loc 1 959 5 is_stmt 1 view .LVU1091
 3816              	.LBB915:
 3817              	.LBI915:
 531:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 3818              		.loc 2 531 20 view .LVU1092
 3819              	.LBE915:
 533:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 3820              		.loc 2 533 3 view .LVU1093
 3821              	.LBB927:
 3822              	.LBB916:
 3823              	.LBI916:
 393:./lib/chibios/os/rt/include/chsys.h **** 
 3824              		.loc 3 393 20 view .LVU1094
 3825              	.LBE916:
 3826              	.LBE927:
 395:./lib/chibios/os/rt/include/chsys.h ****   _stats_start_measure_crit_isr();
 3827              		.loc 3 395 3 view .LVU1095
 3828              	.LBB928:
 3829              	.LBB924:
 3830              	.LBB917:
 3831              	.LBI917:
 708:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3832              		.loc 4 708 27 view .LVU1096
 3833              	.LBE917:
 3834              	.LBE924:
 3835              	.LBE928:
 710:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** }
 3836              		.loc 4 710 3 view .LVU1097
 3837              	.LBB929:
 3838              	.LBB925:
 3839              	.LBB922:
 3840              	.LBB918:
 3841              	.LBI918:
 669:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3842              		.loc 4 669 27 view .LVU1098
 3843              	.LBE918:
 3844              	.LBE922:
 3845              	.LBE925:
 3846              	.LBE929:
 677:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #if defined(__CM7_REV)
 3847              		.loc 4 677 3 view .LVU1099
 3848              	.LVL205:
 3849              	.LBB930:
 3850              	.LBB926:
 3851              	.LBB923:
 3852              	.LBB921:
 3853              	.LBB919:
 3854              	.LBI919:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 3855              		.loc 5 491 27 view .LVU1100
 3856              	.LBB920:
 3857              		.loc 5 493 3 view .LVU1101
 3858 0048 2023     		movs	r3, #32
 3859              		.syntax unified
 3860              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 3861 004a 83F31188 		MSR basepri, r3
 3862              	@ 0 "" 2
 3863              	.LVL206:
 3864              		.loc 5 493 3 is_stmt 0 view .LVU1102
 3865              		.thumb
 3866              		.syntax unified
 3867              	.LBE920:
 3868              	.LBE919:
 3869              	.LBE921:
 3870              	.LBE923:
 3871              	.LBE926:
 3872              	.LBE930:
 396:./lib/chibios/os/rt/include/chsys.h ****   _dbg_check_lock_from_isr();
 3873              		.loc 3 396 34 is_stmt 1 view .LVU1103
 397:./lib/chibios/os/rt/include/chsys.h **** }
 3874              		.loc 3 397 29 view .LVU1104
 960:lib/chibios/os/hal/src/hal_usb.c ****     osalSysUnlockFromISR();
 3875              		.loc 1 960 5 view .LVU1105
 3876 004e 0023     		movs	r3, #0
 3877 0050 1A46     		mov	r2, r3
 3878 0052 1946     		mov	r1, r3
 3879              	.LVL207:
 960:lib/chibios/os/hal/src/hal_usb.c ****     osalSysUnlockFromISR();
 3880              		.loc 1 960 5 is_stmt 0 view .LVU1106
 3881 0054 FFF7FEFF 		bl	usbStartTransmitI
 3882              	.LVL208:
 961:lib/chibios/os/hal/src/hal_usb.c **** #else
 3883              		.loc 1 961 5 is_stmt 1 view .LVU1107
 3884              	.LBB931:
 3885              	.LBI931:
 542:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 3886              		.loc 2 542 20 view .LVU1108
 3887              	.LBB932:
 544:./lib/chibios/os/hal/osal/rt-nil/osal.h **** }
 3888              		.loc 2 544 3 view .LVU1109
 3889              	.LBB933:
 3890              	.LBI933:
 413:./lib/chibios/os/rt/include/chsys.h **** 
 3891              		.loc 3 413 20 view .LVU1110
 3892              	.LBE933:
 3893              	.LBE932:
 3894              	.LBE931:
 415:./lib/chibios/os/rt/include/chsys.h ****   _stats_stop_measure_crit_isr();
 3895              		.loc 3 415 31 view .LVU1111
 416:./lib/chibios/os/rt/include/chsys.h ****   port_unlock_from_isr();
 3896              		.loc 3 416 33 view .LVU1112
 3897              		.loc 3 417 3 view .LVU1113
 3898              	.LBB947:
 3899              	.LBB944:
 3900              	.LBB941:
 3901              	.LBB934:
 3902              	.LBI934:
 719:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3903              		.loc 4 719 27 view .LVU1114
 3904              	.LBE934:
 3905              	.LBE941:
 3906              	.LBE944:
 3907              	.LBE947:
 3908              		.loc 4 721 3 view .LVU1115
 3909              	.LBB948:
 3910              	.LBB945:
 3911              	.LBB942:
 3912              	.LBB939:
 3913              	.LBB935:
 3914              	.LBI935:
 693:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** 
 3915              		.loc 4 693 27 view .LVU1116
 3916              	.LBE935:
 3917              	.LBE939:
 3918              	.LBE942:
 3919              	.LBE945:
 3920              	.LBE948:
 696:./lib/chibios/os/common/ports/ARMCMx/chcore_v7m.h **** #else /* CORTEX_SIMPLIFIED_PRIORITY */
 3921              		.loc 4 696 3 view .LVU1117
 3922              	.LBB949:
 3923              	.LBB946:
 3924              	.LBB943:
 3925              	.LBB940:
 3926              	.LBB938:
 3927              	.LBB936:
 3928              	.LBI936:
 491:./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h **** {
 3929              		.loc 5 491 27 view .LVU1118
 3930              	.LBB937:
 3931              		.loc 5 493 3 view .LVU1119
 3932 0058 0023     		movs	r3, #0
 3933              		.syntax unified
 3934              	@ 493 "./lib/chibios/os/common/ext/ARM/CMSIS/Core/Include/cmsis_gcc.h" 1
 3935 005a 83F31188 		MSR basepri, r3
 3936              	@ 0 "" 2
 3937              	.LVL209:
 3938              		.loc 5 493 3 is_stmt 0 view .LVU1120
 3939              		.thumb
 3940              		.syntax unified
 3941              	.LBE937:
 3942              	.LBE936:
 3943              	.LBE938:
 3944              	.LBE940:
 3945              	.LBE943:
 545:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 3946              		.loc 2 545 1 view .LVU1121
 3947 005e DAE7     		b	.L209
 3948              	.LVL210:
 3949              	.L210:
 545:./lib/chibios/os/hal/osal/rt-nil/osal.h **** 
 3950              		.loc 2 545 1 view .LVU1122
 3951              	.LBE946:
 3952              	.LBE949:
 970:lib/chibios/os/hal/src/hal_usb.c ****       break;
 3953              		.loc 1 970 5 is_stmt 1 view .LVU1123
 970:lib/chibios/os/hal/src/hal_usb.c ****       break;
 3954              		.loc 1 970 9 is_stmt 0 view .LVU1124
 3955 0060 C368     		ldr	r3, [r0, #12]
 3956 0062 9B69     		ldr	r3, [r3, #24]
 970:lib/chibios/os/hal/src/hal_usb.c ****       break;
 3957              		.loc 1 970 8 view .LVU1125
 3958 0064 5B68     		ldr	r3, [r3, #4]
 3959 0066 002B     		cmp	r3, #0
 3960 0068 D5D1     		bne	.L209
 974:lib/chibios/os/hal/src/hal_usb.c ****       usbp->ep0endcb(usbp);
 3961              		.loc 1 974 5 is_stmt 1 view .LVU1126
 974:lib/chibios/os/hal/src/hal_usb.c ****       usbp->ep0endcb(usbp);
 3962              		.loc 1 974 13 is_stmt 0 view .LVU1127
 3963 006a 036F     		ldr	r3, [r0, #112]
 974:lib/chibios/os/hal/src/hal_usb.c ****       usbp->ep0endcb(usbp);
 3964              		.loc 1 974 8 view .LVU1128
 3965 006c 03B1     		cbz	r3, .L215
 975:lib/chibios/os/hal/src/hal_usb.c ****     }
 3966              		.loc 1 975 7 is_stmt 1 view .LVU1129
 3967 006e 9847     		blx	r3
 3968              	.LVL211:
 3969              	.L215:
 977:lib/chibios/os/hal/src/hal_usb.c ****     return;
 3970              		.loc 1 977 5 view .LVU1130
 977:lib/chibios/os/hal/src/hal_usb.c ****     return;
 3971              		.loc 1 977 20 is_stmt 0 view .LVU1131
 3972 0070 0023     		movs	r3, #0
 3973              	.L229:
 993:lib/chibios/os/hal/src/hal_usb.c ****     return;
 3974              		.loc 1 993 20 discriminator 3 view .LVU1132
 3975 0072 84F86430 		strb	r3, [r4, #100]
 994:lib/chibios/os/hal/src/hal_usb.c ****   default:
 3976              		.loc 1 994 5 is_stmt 1 discriminator 3 view .LVU1133
 996:lib/chibios/os/hal/src/hal_usb.c ****   }
 3977              		.loc 1 996 5 discriminator 3 view .LVU1134
 994:lib/chibios/os/hal/src/hal_usb.c ****   default:
 3978              		.loc 1 994 5 is_stmt 0 discriminator 3 view .LVU1135
 3979 0076 CEE7     		b	.L209
 3980              		.cfi_endproc
 3981              	.LFE299:
 3983              		.section	.rodata.active_status,"a"
 3984              		.set	.LANCHOR2,. + 0
 3987              	active_status:
 3988 0000 0000     		.space	2
 3989              		.section	.rodata.halted_status,"a"
 3990              		.set	.LANCHOR1,. + 0
 3993              	halted_status:
 3994 0000 0100     		.ascii	"\001\000"
 3995              		.section	.rodata.zero_status,"a"
 3996              		.set	.LANCHOR0,. + 0
 3999              	zero_status:
 4000 0000 0000     		.space	2
 4001              		.text
 4002              	.Letext0:
 4003              		.file 6 "c:\\qmk_msys\\mingw64\\lib\\gcc\\arm-none-eabi\\10.1.0\\include\\stddef.h"
 4004              		.file 7 "c:\\qmk_msys\\mingw64\\arm-none-eabi\\include\\machine\\_default_types.h"
 4005              		.file 8 "c:\\qmk_msys\\mingw64\\arm-none-eabi\\include\\sys\\_stdint.h"
 4006              		.file 9 "./lib/chibios/os/common/ports/ARMCMx/compilers/GCC/chtypes.h"
 4007              		.file 10 "./lib/chibios/os/rt/include/chsystypes.h"
 4008              		.file 11 "./lib/chibios/os/rt/include/chschd.h"
 4009              		.file 12 "./lib/chibios/os/rt/include/chtime.h"
 4010              		.file 13 "./lib/chibios/os/rt/include/chsem.h"
 4011              		.file 14 "./lib/chibios/os/rt/include/chmtx.h"
 4012              		.file 15 "./lib/chibios/os/hal/include/hal_usb.h"
 4013              		.file 16 "./lib/chibios/os/hal/ports/STM32/LLD/USBv1/hal_usb_lld.h"
 4014              		.file 17 "./lib/chibios/os/hal/ports/STM32/LLD/USBv1/stm32_usb.h"
 4015              		.file 18 "./lib/chibios/os/rt/include/chthreads.h"
 4016              		.file 19 "<built-in>"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 hal_usb.c
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:18     .text.set_address:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:25     .text.set_address:0000000000000000 set_address
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:69     .text.usbInit:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:76     .text.usbInit:0000000000000000 usbInit
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:90     .text.usbObjectInit:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:97     .text.usbObjectInit:0000000000000000 usbObjectInit
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:140    .text.usbStart:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:147    .text.usbStart:0000000000000000 usbStart
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:320    .text.usbStop:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:327    .text.usbStop:0000000000000000 usbStop
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:564    .text.usbInitEndpointI:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:571    .text.usbInitEndpointI:0000000000000000 usbInitEndpointI
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:651    .text.usbDisableEndpointsI:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:658    .text.usbDisableEndpointsI:0000000000000000 usbDisableEndpointsI
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:779    .text.usbStartReceiveI:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:786    .text.usbStartReceiveI:0000000000000000 usbStartReceiveI
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:859    .text.usbStartTransmitI:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:866    .text.usbStartTransmitI:0000000000000000 usbStartTransmitI
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:939    .text.usbReceive:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:946    .text.usbReceive:0000000000000000 usbReceive
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:1171   .text.usbTransmit:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:1178   .text.usbTransmit:0000000000000000 usbTransmit
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:1403   .text.usbStallReceiveI:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:1410   .text.usbStallReceiveI:0000000000000000 usbStallReceiveI
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:1454   .text.usbStallTransmitI:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:1461   .text.usbStallTransmitI:0000000000000000 usbStallTransmitI
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:1505   .text.usbWakeupHost:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:1512   .text.usbWakeupHost:0000000000000000 usbWakeupHost
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:1561   .text.usbWakeupHost:0000000000000024 $d
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:1566   .text._usb_reset:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:1573   .text._usb_reset:0000000000000000 _usb_reset
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:1851   .text._usb_suspend:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:1858   .text._usb_suspend:0000000000000000 _usb_suspend
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:2128   .text._usb_wakeup:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:2135   .text._usb_wakeup:0000000000000000 _usb_wakeup
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:2164   .text._usb_ep0setup:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:2171   .text._usb_ep0setup:0000000000000000 _usb_ep0setup
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:3312   .text._usb_ep0setup:0000000000000284 $d
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:3320   .text._usb_ep0in:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:3327   .text._usb_ep0in:0000000000000000 _usb_ep0in
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:3359   .text._usb_ep0in:000000000000001c $d
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:3375   .text._usb_ep0in:000000000000002c $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:3731   .text._usb_ep0out:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:3738   .text._usb_ep0out:0000000000000000 _usb_ep0out
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:3987   .rodata.active_status:0000000000000000 active_status
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:3988   .rodata.active_status:0000000000000000 $d
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:3993   .rodata.halted_status:0000000000000000 halted_status
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:3999   .rodata.zero_status:0000000000000000 zero_status
C:\Users\lhanj\AppData\Local\Temp\ccto1Ftn.s:4000   .rodata.zero_status:0000000000000000 $d

UNDEFINED SYMBOLS
usb_lld_set_address
usb_lld_init
memset
usb_lld_start
usb_lld_stop
chThdResumeI
chSchRescheduleS
usb_lld_init_endpoint
usb_lld_disable_endpoints
usb_lld_start_out
usb_lld_start_in
chThdSuspendTimeoutS
usb_lld_stall_out
usb_lld_stall_in
chThdSleep
usb_lld_reset
usb_lld_read_setup
usb_lld_get_status_in
usb_lld_get_status_out
usb_lld_clear_in
usb_lld_clear_out
