   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 2
  13              		.file	"matrix_common.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.matrix_init_user,"ax",%progbits
  18              		.align	1
  19              		.weak	matrix_init_user
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	matrix_init_user:
  27              	.LFB293:
  28              		.file 1 "quantum/matrix_common.c"
   1:quantum/matrix_common.c **** #include "quantum.h"
   2:quantum/matrix_common.c **** #include "matrix.h"
   3:quantum/matrix_common.c **** #include "debounce.h"
   4:quantum/matrix_common.c **** #include "wait.h"
   5:quantum/matrix_common.c **** #include "print.h"
   6:quantum/matrix_common.c **** #include "debug.h"
   7:quantum/matrix_common.c **** 
   8:quantum/matrix_common.c **** #ifndef MATRIX_IO_DELAY
   9:quantum/matrix_common.c **** #    define MATRIX_IO_DELAY 30
  10:quantum/matrix_common.c **** #endif
  11:quantum/matrix_common.c **** 
  12:quantum/matrix_common.c **** /* matrix state(1:on, 0:off) */
  13:quantum/matrix_common.c **** matrix_row_t raw_matrix[MATRIX_ROWS];
  14:quantum/matrix_common.c **** matrix_row_t matrix[MATRIX_ROWS];
  15:quantum/matrix_common.c **** 
  16:quantum/matrix_common.c **** #ifdef MATRIX_MASKED
  17:quantum/matrix_common.c **** extern const matrix_row_t matrix_mask[];
  18:quantum/matrix_common.c **** #endif
  19:quantum/matrix_common.c **** 
  20:quantum/matrix_common.c **** // user-defined overridable functions
  21:quantum/matrix_common.c **** 
  22:quantum/matrix_common.c **** __attribute__((weak)) void matrix_init_kb(void) { matrix_init_user(); }
  23:quantum/matrix_common.c **** 
  24:quantum/matrix_common.c **** __attribute__((weak)) void matrix_scan_kb(void) { matrix_scan_user(); }
  25:quantum/matrix_common.c **** 
  26:quantum/matrix_common.c **** __attribute__((weak)) void matrix_init_user(void) {}
  29              		.loc 1 26 51 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34              		.loc 1 26 52 view .LVU1
  35 0000 7047     		bx	lr
  36              		.cfi_endproc
  37              	.LFE293:
  39              		.section	.text.matrix_init_kb,"ax",%progbits
  40              		.align	1
  41              		.weak	matrix_init_kb
  42              		.syntax unified
  43              		.thumb
  44              		.thumb_func
  45              		.fpu fpv4-sp-d16
  47              	matrix_init_kb:
  48              	.LFB291:
  22:quantum/matrix_common.c **** 
  49              		.loc 1 22 49 view -0
  50              		.cfi_startproc
  51              		@ args = 0, pretend = 0, frame = 0
  52              		@ frame_needed = 0, uses_anonymous_args = 0
  22:quantum/matrix_common.c **** 
  53              		.loc 1 22 51 view .LVU3
  22:quantum/matrix_common.c **** 
  54              		.loc 1 22 49 is_stmt 0 view .LVU4
  55 0000 08B5     		push	{r3, lr}
  56              		.cfi_def_cfa_offset 8
  57              		.cfi_offset 3, -8
  58              		.cfi_offset 14, -4
  22:quantum/matrix_common.c **** 
  59              		.loc 1 22 51 view .LVU5
  60 0002 FFF7FEFF 		bl	matrix_init_user
  61              	.LVL0:
  22:quantum/matrix_common.c **** 
  62              		.loc 1 22 71 view .LVU6
  63 0006 08BD     		pop	{r3, pc}
  64              		.cfi_endproc
  65              	.LFE291:
  67              		.section	.text.matrix_scan_user,"ax",%progbits
  68              		.align	1
  69              		.weak	matrix_scan_user
  70              		.syntax unified
  71              		.thumb
  72              		.thumb_func
  73              		.fpu fpv4-sp-d16
  75              	matrix_scan_user:
  76              	.LFB311:
  77              		.cfi_startproc
  78              		@ args = 0, pretend = 0, frame = 0
  79              		@ frame_needed = 0, uses_anonymous_args = 0
  80              		@ link register save eliminated.
  81 0000 7047     		bx	lr
  82              		.cfi_endproc
  83              	.LFE311:
  85              		.section	.text.matrix_scan_kb,"ax",%progbits
  86              		.align	1
  87              		.weak	matrix_scan_kb
  88              		.syntax unified
  89              		.thumb
  90              		.thumb_func
  91              		.fpu fpv4-sp-d16
  93              	matrix_scan_kb:
  94              	.LFB292:
  24:quantum/matrix_common.c **** 
  95              		.loc 1 24 49 is_stmt 1 view -0
  96              		.cfi_startproc
  97              		@ args = 0, pretend = 0, frame = 0
  98              		@ frame_needed = 0, uses_anonymous_args = 0
  24:quantum/matrix_common.c **** 
  99              		.loc 1 24 51 view .LVU8
  24:quantum/matrix_common.c **** 
 100              		.loc 1 24 49 is_stmt 0 view .LVU9
 101 0000 08B5     		push	{r3, lr}
 102              		.cfi_def_cfa_offset 8
 103              		.cfi_offset 3, -8
 104              		.cfi_offset 14, -4
  24:quantum/matrix_common.c **** 
 105              		.loc 1 24 51 view .LVU10
 106 0002 FFF7FEFF 		bl	matrix_scan_user
 107              	.LVL1:
  24:quantum/matrix_common.c **** 
 108              		.loc 1 24 71 view .LVU11
 109 0006 08BD     		pop	{r3, pc}
 110              		.cfi_endproc
 111              	.LFE292:
 113              		.section	.text.matrix_rows,"ax",%progbits
 114              		.align	1
 115              		.global	matrix_rows
 116              		.syntax unified
 117              		.thumb
 118              		.thumb_func
 119              		.fpu fpv4-sp-d16
 121              	matrix_rows:
 122              	.LFB295:
  27:quantum/matrix_common.c **** 
  28:quantum/matrix_common.c **** __attribute__((weak)) void matrix_scan_user(void) {}
  29:quantum/matrix_common.c **** 
  30:quantum/matrix_common.c **** // helper functions
  31:quantum/matrix_common.c **** 
  32:quantum/matrix_common.c **** inline uint8_t matrix_rows(void) { return MATRIX_ROWS; }
 123              		.loc 1 32 34 is_stmt 1 view -0
 124              		.cfi_startproc
 125              		@ args = 0, pretend = 0, frame = 0
 126              		@ frame_needed = 0, uses_anonymous_args = 0
 127              		@ link register save eliminated.
 128              		.loc 1 32 36 view .LVU13
 129              		.loc 1 32 56 is_stmt 0 view .LVU14
 130 0000 0B20     		movs	r0, #11
 131 0002 7047     		bx	lr
 132              		.cfi_endproc
 133              	.LFE295:
 135              		.section	.text.matrix_cols,"ax",%progbits
 136              		.align	1
 137              		.global	matrix_cols
 138              		.syntax unified
 139              		.thumb
 140              		.thumb_func
 141              		.fpu fpv4-sp-d16
 143              	matrix_cols:
 144              	.LFB296:
  33:quantum/matrix_common.c **** 
  34:quantum/matrix_common.c **** inline uint8_t matrix_cols(void) { return MATRIX_COLS; }
 145              		.loc 1 34 34 is_stmt 1 view -0
 146              		.cfi_startproc
 147              		@ args = 0, pretend = 0, frame = 0
 148              		@ frame_needed = 0, uses_anonymous_args = 0
 149              		@ link register save eliminated.
 150              		.loc 1 34 36 view .LVU16
 151              		.loc 1 34 56 is_stmt 0 view .LVU17
 152 0000 0820     		movs	r0, #8
 153 0002 7047     		bx	lr
 154              		.cfi_endproc
 155              	.LFE296:
 157              		.section	.text.matrix_is_on,"ax",%progbits
 158              		.align	1
 159              		.global	matrix_is_on
 160              		.syntax unified
 161              		.thumb
 162              		.thumb_func
 163              		.fpu fpv4-sp-d16
 165              	matrix_is_on:
 166              	.LVL2:
 167              	.LFB297:
  35:quantum/matrix_common.c **** 
  36:quantum/matrix_common.c **** inline bool matrix_is_on(uint8_t row, uint8_t col) { return (matrix[row] & ((matrix_row_t)1 << col)
 168              		.loc 1 36 52 is_stmt 1 view -0
 169              		.cfi_startproc
 170              		@ args = 0, pretend = 0, frame = 0
 171              		@ frame_needed = 0, uses_anonymous_args = 0
 172              		@ link register save eliminated.
 173              		.loc 1 36 54 view .LVU19
 174              		.loc 1 36 68 is_stmt 0 view .LVU20
 175 0000 044B     		ldr	r3, .L8
 176 0002 1A5C     		ldrb	r2, [r3, r0]	@ zero_extendqisi2
 177              		.loc 1 36 93 view .LVU21
 178 0004 0123     		movs	r3, #1
 179 0006 03FA01F1 		lsl	r1, r3, r1
 180              	.LVL3:
 181              		.loc 1 36 74 view .LVU22
 182 000a 0A42     		tst	r2, r1
 183              		.loc 1 36 103 view .LVU23
 184 000c 14BF     		ite	ne
 185 000e 1846     		movne	r0, r3
 186              	.LVL4:
 187              		.loc 1 36 103 view .LVU24
 188 0010 0020     		moveq	r0, #0
 189 0012 7047     		bx	lr
 190              	.L9:
 191              		.align	2
 192              	.L8:
 193 0014 00000000 		.word	matrix
 194              		.cfi_endproc
 195              	.LFE297:
 197              		.section	.text.matrix_get_row,"ax",%progbits
 198              		.align	1
 199              		.global	matrix_get_row
 200              		.syntax unified
 201              		.thumb
 202              		.thumb_func
 203              		.fpu fpv4-sp-d16
 205              	matrix_get_row:
 206              	.LVL5:
 207              	.LFB298:
  37:quantum/matrix_common.c **** 
  38:quantum/matrix_common.c **** inline matrix_row_t matrix_get_row(uint8_t row) {
 208              		.loc 1 38 49 is_stmt 1 view -0
 209              		.cfi_startproc
 210              		@ args = 0, pretend = 0, frame = 0
 211              		@ frame_needed = 0, uses_anonymous_args = 0
 212              		@ link register save eliminated.
  39:quantum/matrix_common.c ****     // Matrix mask lets you disable switches in the returned matrix data. For example, if you have 
  40:quantum/matrix_common.c ****     // switch blocker installed and the switch is always pressed.
  41:quantum/matrix_common.c **** #ifdef MATRIX_MASKED
  42:quantum/matrix_common.c ****     return matrix[row] & matrix_mask[row];
  43:quantum/matrix_common.c **** #else
  44:quantum/matrix_common.c ****     return matrix[row];
 213              		.loc 1 44 5 view .LVU26
  45:quantum/matrix_common.c **** #endif
  46:quantum/matrix_common.c **** }
 214              		.loc 1 46 1 is_stmt 0 view .LVU27
 215 0000 014B     		ldr	r3, .L11
 216 0002 185C     		ldrb	r0, [r3, r0]	@ zero_extendqisi2
 217              	.LVL6:
 218              		.loc 1 46 1 view .LVU28
 219 0004 7047     		bx	lr
 220              	.L12:
 221 0006 00BF     		.align	2
 222              	.L11:
 223 0008 00000000 		.word	matrix
 224              		.cfi_endproc
 225              	.LFE298:
 227              		.section	.text.matrix_is_modified,"ax",%progbits
 228              		.align	1
 229              		.global	matrix_is_modified
 230              		.syntax unified
 231              		.thumb
 232              		.thumb_func
 233              		.fpu fpv4-sp-d16
 235              	matrix_is_modified:
 236              	.LFB299:
  47:quantum/matrix_common.c **** 
  48:quantum/matrix_common.c **** // Deprecated.
  49:quantum/matrix_common.c **** bool matrix_is_modified(void) {
 237              		.loc 1 49 31 is_stmt 1 view -0
 238              		.cfi_startproc
 239              		@ args = 0, pretend = 0, frame = 0
 240              		@ frame_needed = 0, uses_anonymous_args = 0
  50:quantum/matrix_common.c ****     if (debounce_active()) return false;
 241              		.loc 1 50 5 view .LVU30
  49:quantum/matrix_common.c ****     if (debounce_active()) return false;
 242              		.loc 1 49 31 is_stmt 0 view .LVU31
 243 0000 08B5     		push	{r3, lr}
 244              		.cfi_def_cfa_offset 8
 245              		.cfi_offset 3, -8
 246              		.cfi_offset 14, -4
 247              		.loc 1 50 9 view .LVU32
 248 0002 FFF7FEFF 		bl	debounce_active
 249              	.LVL7:
 250              		.loc 1 50 8 view .LVU33
 251 0006 80F00100 		eor	r0, r0, #1
  51:quantum/matrix_common.c ****     return true;
  52:quantum/matrix_common.c **** }
 252              		.loc 1 52 1 view .LVU34
 253 000a C0B2     		uxtb	r0, r0
 254 000c 08BD     		pop	{r3, pc}
 255              		.cfi_endproc
 256              	.LFE299:
 258              		.section	.rodata.matrix_print.str1.1,"aMS",%progbits,1
 259              	.LC0:
 260 0000 0A722F63 		.ascii	"\012r/c 01234567\012\000"
 260      20303132 
 260      33343536 
 260      370A00
 261              	.LC1:
 262 000f 25303258 		.ascii	"%02X\000"
 262      00
 263              	.LC2:
 264 0014 3A2000   		.ascii	": \000"
 265              	.LC3:
 266 0017 25303862 		.ascii	"%08b\000"
 266      00
 267              	.LC4:
 268 001c 0A00     		.ascii	"\012\000"
 269              		.section	.text.matrix_print,"ax",%progbits
 270              		.align	1
 271              		.global	matrix_print
 272              		.syntax unified
 273              		.thumb
 274              		.thumb_func
 275              		.fpu fpv4-sp-d16
 277              	matrix_print:
 278              	.LFB300:
  53:quantum/matrix_common.c **** 
  54:quantum/matrix_common.c **** #if (MATRIX_COLS <= 8)
  55:quantum/matrix_common.c **** #    define print_matrix_header() print("\nr/c 01234567\n")
  56:quantum/matrix_common.c **** #    define print_matrix_row(row) print_bin_reverse8(matrix_get_row(row))
  57:quantum/matrix_common.c **** #    define matrix_bitpop(row) bitpop(matrix_get_row(row))
  58:quantum/matrix_common.c **** #elif (MATRIX_COLS <= 16)
  59:quantum/matrix_common.c **** #    define print_matrix_header() print("\nr/c 0123456789ABCDEF\n")
  60:quantum/matrix_common.c **** #    define print_matrix_row(row) print_bin_reverse16(matrix_get_row(row))
  61:quantum/matrix_common.c **** #    define matrix_bitpop(row) bitpop16(matrix_get_row(row))
  62:quantum/matrix_common.c **** #elif (MATRIX_COLS <= 32)
  63:quantum/matrix_common.c **** #    define print_matrix_header() print("\nr/c 0123456789ABCDEF0123456789ABCDEF\n")
  64:quantum/matrix_common.c **** #    define print_matrix_row(row) print_bin_reverse32(matrix_get_row(row))
  65:quantum/matrix_common.c **** #    define matrix_bitpop(row) bitpop32(matrix_get_row(row))
  66:quantum/matrix_common.c **** #endif
  67:quantum/matrix_common.c **** 
  68:quantum/matrix_common.c **** void matrix_print(void) {
 279              		.loc 1 68 25 is_stmt 1 view -0
 280              		.cfi_startproc
 281              		@ args = 0, pretend = 0, frame = 0
 282              		@ frame_needed = 0, uses_anonymous_args = 0
  69:quantum/matrix_common.c ****     print_matrix_header();
 283              		.loc 1 69 5 view .LVU36
  68:quantum/matrix_common.c ****     print_matrix_header();
 284              		.loc 1 68 25 is_stmt 0 view .LVU37
 285 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 286              		.cfi_def_cfa_offset 24
 287              		.cfi_offset 4, -24
 288              		.cfi_offset 5, -20
 289              		.cfi_offset 6, -16
 290              		.cfi_offset 7, -12
 291              		.cfi_offset 8, -8
 292              		.cfi_offset 14, -4
 293              		.loc 1 69 5 view .LVU38
 294 0004 0F48     		ldr	r0, .L17
 295 0006 104D     		ldr	r5, .L17+4
 296              	.LBB11:
  70:quantum/matrix_common.c **** 
  71:quantum/matrix_common.c ****     for (uint8_t row = 0; row < MATRIX_ROWS; row++) {
  72:quantum/matrix_common.c ****         print_hex8(row);
 297              		.loc 1 72 9 view .LVU39
 298 0008 DFF84C80 		ldr	r8, .L17+20
  73:quantum/matrix_common.c ****         print(": ");
 299              		.loc 1 73 9 view .LVU40
 300 000c 0F4F     		ldr	r7, .L17+8
  74:quantum/matrix_common.c ****         print_matrix_row(row);
 301              		.loc 1 74 9 view .LVU41
 302 000e 104E     		ldr	r6, .L17+12
 303              	.LBE11:
  69:quantum/matrix_common.c **** 
 304              		.loc 1 69 5 view .LVU42
 305 0010 FFF7FEFF 		bl	printf_
 306              	.LVL8:
  71:quantum/matrix_common.c ****         print_hex8(row);
 307              		.loc 1 71 5 is_stmt 1 view .LVU43
 308              	.LBB14:
  71:quantum/matrix_common.c ****         print_hex8(row);
 309              		.loc 1 71 10 view .LVU44
  71:quantum/matrix_common.c ****         print_hex8(row);
 310              		.loc 1 71 27 view .LVU45
 311              	.LBE14:
  69:quantum/matrix_common.c **** 
 312              		.loc 1 69 5 is_stmt 0 view .LVU46
 313 0014 0024     		movs	r4, #0
 314              	.LVL9:
 315              	.L15:
 316              	.LBB15:
  72:quantum/matrix_common.c ****         print(": ");
 317              		.loc 1 72 9 is_stmt 1 discriminator 3 view .LVU47
 318 0016 2146     		mov	r1, r4
 319 0018 4046     		mov	r0, r8
 320 001a FFF7FEFF 		bl	printf_
 321              	.LVL10:
  73:quantum/matrix_common.c ****         print_matrix_row(row);
 322              		.loc 1 73 9 discriminator 3 view .LVU48
 323 001e 3846     		mov	r0, r7
 324 0020 FFF7FEFF 		bl	printf_
 325              	.LVL11:
 326              		.loc 1 74 9 discriminator 3 view .LVU49
 327              	.LBB12:
 328              	.LBI12:
  38:quantum/matrix_common.c ****     // Matrix mask lets you disable switches in the returned matrix data. For example, if you have 
 329              		.loc 1 38 21 discriminator 3 view .LVU50
 330              	.LBB13:
  44:quantum/matrix_common.c **** #endif
 331              		.loc 1 44 5 discriminator 3 view .LVU51
  44:quantum/matrix_common.c **** #endif
 332              		.loc 1 44 5 is_stmt 0 discriminator 3 view .LVU52
 333              	.LBE13:
 334              	.LBE12:
 335              		.loc 1 74 9 discriminator 3 view .LVU53
 336 0024 15F8010B 		ldrb	r0, [r5], #1	@ zero_extendqisi2
 337 0028 FFF7FEFF 		bl	bitrev
 338              	.LVL12:
 339 002c 0146     		mov	r1, r0
 340 002e 3046     		mov	r0, r6
 341 0030 FFF7FEFF 		bl	printf_
 342              	.LVL13:
  75:quantum/matrix_common.c ****         print("\n");
 343              		.loc 1 75 9 is_stmt 1 discriminator 3 view .LVU54
  71:quantum/matrix_common.c ****         print_hex8(row);
 344              		.loc 1 71 5 is_stmt 0 discriminator 3 view .LVU55
 345 0034 0134     		adds	r4, r4, #1
 346              	.LVL14:
 347              		.loc 1 75 9 discriminator 3 view .LVU56
 348 0036 0748     		ldr	r0, .L17+16
 349 0038 FFF7FEFF 		bl	printf_
 350              	.LVL15:
  71:quantum/matrix_common.c ****         print_hex8(row);
 351              		.loc 1 71 46 is_stmt 1 discriminator 3 view .LVU57
  71:quantum/matrix_common.c ****         print_hex8(row);
 352              		.loc 1 71 27 discriminator 3 view .LVU58
  71:quantum/matrix_common.c ****         print_hex8(row);
 353              		.loc 1 71 5 is_stmt 0 discriminator 3 view .LVU59
 354 003c 0B2C     		cmp	r4, #11
 355 003e EAD1     		bne	.L15
 356              	.LBE15:
  76:quantum/matrix_common.c ****     }
  77:quantum/matrix_common.c **** }
 357              		.loc 1 77 1 view .LVU60
 358 0040 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 359              	.L18:
 360              		.align	2
 361              	.L17:
 362 0044 00000000 		.word	.LC0
 363 0048 00000000 		.word	matrix
 364 004c 14000000 		.word	.LC2
 365 0050 17000000 		.word	.LC3
 366 0054 1C000000 		.word	.LC4
 367 0058 0F000000 		.word	.LC1
 368              		.cfi_endproc
 369              	.LFE300:
 371              		.section	.text.matrix_key_count,"ax",%progbits
 372              		.align	1
 373              		.global	matrix_key_count
 374              		.syntax unified
 375              		.thumb
 376              		.thumb_func
 377              		.fpu fpv4-sp-d16
 379              	matrix_key_count:
 380              	.LFB301:
  78:quantum/matrix_common.c **** 
  79:quantum/matrix_common.c **** uint8_t matrix_key_count(void) {
 381              		.loc 1 79 32 is_stmt 1 view -0
 382              		.cfi_startproc
 383              		@ args = 0, pretend = 0, frame = 0
 384              		@ frame_needed = 0, uses_anonymous_args = 0
  80:quantum/matrix_common.c ****     uint8_t count = 0;
 385              		.loc 1 80 5 view .LVU62
 386              	.LVL16:
  81:quantum/matrix_common.c ****     for (uint8_t i = 0; i < MATRIX_ROWS; i++) {
 387              		.loc 1 81 5 view .LVU63
 388              	.LBB16:
 389              		.loc 1 81 10 view .LVU64
 390              		.loc 1 81 25 view .LVU65
 391              	.LBE16:
  79:quantum/matrix_common.c ****     uint8_t count = 0;
 392              		.loc 1 79 32 is_stmt 0 view .LVU66
 393 0000 70B5     		push	{r4, r5, r6, lr}
 394              		.cfi_def_cfa_offset 16
 395              		.cfi_offset 4, -16
 396              		.cfi_offset 5, -12
 397              		.cfi_offset 6, -8
 398              		.cfi_offset 14, -4
 399 0002 074E     		ldr	r6, .L22
  79:quantum/matrix_common.c ****     uint8_t count = 0;
 400              		.loc 1 79 32 view .LVU67
 401 0004 0B25     		movs	r5, #11
  80:quantum/matrix_common.c ****     uint8_t count = 0;
 402              		.loc 1 80 13 view .LVU68
 403 0006 0024     		movs	r4, #0
 404              	.LVL17:
 405              	.L20:
 406              	.LBB19:
  82:quantum/matrix_common.c ****         count += matrix_bitpop(i);
 407              		.loc 1 82 9 is_stmt 1 view .LVU69
 408              	.LBB17:
 409              	.LBI17:
  38:quantum/matrix_common.c ****     // Matrix mask lets you disable switches in the returned matrix data. For example, if you have 
 410              		.loc 1 38 21 view .LVU70
 411              	.LBB18:
  44:quantum/matrix_common.c **** #endif
 412              		.loc 1 44 5 view .LVU71
  44:quantum/matrix_common.c **** #endif
 413              		.loc 1 44 5 is_stmt 0 view .LVU72
 414              	.LBE18:
 415              	.LBE17:
 416              		.loc 1 82 18 view .LVU73
 417 0008 16F8010B 		ldrb	r0, [r6], #1	@ zero_extendqisi2
 418              	.LVL18:
 419              		.loc 1 82 18 view .LVU74
 420 000c FFF7FEFF 		bl	bitpop
 421              	.LVL19:
  81:quantum/matrix_common.c ****         count += matrix_bitpop(i);
 422              		.loc 1 81 5 view .LVU75
 423 0010 013D     		subs	r5, r5, #1
 424              		.loc 1 82 15 view .LVU76
 425 0012 2044     		add	r0, r0, r4
  81:quantum/matrix_common.c ****         count += matrix_bitpop(i);
 426              		.loc 1 81 5 view .LVU77
 427 0014 15F0FF05 		ands	r5, r5, #255
 428              		.loc 1 82 15 view .LVU78
 429 0018 C4B2     		uxtb	r4, r0
 430              	.LVL20:
  81:quantum/matrix_common.c ****         count += matrix_bitpop(i);
 431              		.loc 1 81 42 is_stmt 1 view .LVU79
  81:quantum/matrix_common.c ****         count += matrix_bitpop(i);
 432              		.loc 1 81 25 view .LVU80
  81:quantum/matrix_common.c ****         count += matrix_bitpop(i);
 433              		.loc 1 81 5 is_stmt 0 view .LVU81
 434 001a F5D1     		bne	.L20
 435              	.LBE19:
  83:quantum/matrix_common.c ****     }
  84:quantum/matrix_common.c ****     return count;
 436              		.loc 1 84 5 is_stmt 1 view .LVU82
  85:quantum/matrix_common.c **** }
 437              		.loc 1 85 1 is_stmt 0 view .LVU83
 438 001c 2046     		mov	r0, r4
 439 001e 70BD     		pop	{r4, r5, r6, pc}
 440              	.LVL21:
 441              	.L23:
 442              		.loc 1 85 1 view .LVU84
 443              		.align	2
 444              	.L22:
 445 0020 00000000 		.word	matrix
 446              		.cfi_endproc
 447              	.LFE301:
 449              		.section	.text.matrix_io_delay,"ax",%progbits
 450              		.align	1
 451              		.weak	matrix_io_delay
 452              		.syntax unified
 453              		.thumb
 454              		.thumb_func
 455              		.fpu fpv4-sp-d16
 457              	matrix_io_delay:
 458              	.LFB302:
  86:quantum/matrix_common.c **** 
  87:quantum/matrix_common.c **** /*ã€€`matrix_io_delay ()` exists for backwards compatibility. From now on, use matrix_output_unsele
  88:quantum/matrix_common.c **** __attribute__((weak)) void matrix_io_delay(void) { wait_us(MATRIX_IO_DELAY); }
 459              		.loc 1 88 50 is_stmt 1 view -0
 460              		.cfi_startproc
 461              		@ args = 0, pretend = 0, frame = 0
 462              		@ frame_needed = 0, uses_anonymous_args = 0
 463              		@ link register save eliminated.
 464              		.loc 1 88 52 view .LVU86
 465              		.loc 1 88 52 view .LVU87
 466              		.loc 1 88 52 view .LVU88
 467 0000 0320     		movs	r0, #3
 468 0002 FFF7FEBF 		b	chThdSleep
 469              	.LVL22:
 470              		.cfi_endproc
 471              	.LFE302:
 473              		.section	.text.matrix_output_select_delay,"ax",%progbits
 474              		.align	1
 475              		.weak	matrix_output_select_delay
 476              		.syntax unified
 477              		.thumb
 478              		.thumb_func
 479              		.fpu fpv4-sp-d16
 481              	matrix_output_select_delay:
 482              	.LFB303:
  89:quantum/matrix_common.c **** 
  90:quantum/matrix_common.c **** __attribute__((weak)) void matrix_output_select_delay(void) { waitInputPinDelay(); }
 483              		.loc 1 90 61 view -0
 484              		.cfi_startproc
 485              		@ args = 0, pretend = 0, frame = 0
 486              		@ frame_needed = 0, uses_anonymous_args = 0
 487              		@ link register save eliminated.
 488              		.loc 1 90 63 view .LVU90
 489              	.LVL23:
 490              	.LBB20:
 491              	.LBI20:
 492              		.file 2 "tmk_core/common/chibios/wait.c"
   1:tmk_core/common/chibios/wait.c **** /* Copyright 2021 QMK
   2:tmk_core/common/chibios/wait.c ****  *
   3:tmk_core/common/chibios/wait.c ****  * This program is free software: you can redistribute it and/or modify
   4:tmk_core/common/chibios/wait.c ****  * it under the terms of the GNU General Public License as published by
   5:tmk_core/common/chibios/wait.c ****  * the Free Software Foundation, either version 3 of the License, or
   6:tmk_core/common/chibios/wait.c ****  * (at your option) any later version.
   7:tmk_core/common/chibios/wait.c ****  *
   8:tmk_core/common/chibios/wait.c ****  * This program is distributed in the hope that it will be useful,
   9:tmk_core/common/chibios/wait.c ****  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  10:tmk_core/common/chibios/wait.c ****  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  11:tmk_core/common/chibios/wait.c ****  * GNU General Public License for more details.
  12:tmk_core/common/chibios/wait.c ****  *
  13:tmk_core/common/chibios/wait.c ****  * You should have received a copy of the GNU General Public License
  14:tmk_core/common/chibios/wait.c ****  * along with this program.  If not, see <http://www.gnu.org/licenses/>.
  15:tmk_core/common/chibios/wait.c ****  */
  16:tmk_core/common/chibios/wait.c **** 
  17:tmk_core/common/chibios/wait.c **** #ifndef __OPTIMIZE__
  18:tmk_core/common/chibios/wait.c **** #    pragma message "Compiler optimizations disabled; wait_cpuclock() won't work as designed"
  19:tmk_core/common/chibios/wait.c **** #endif
  20:tmk_core/common/chibios/wait.c **** 
  21:tmk_core/common/chibios/wait.c **** #define CLOCK_DELAY_NOP8 "nop\n\t nop\n\t nop\n\t nop\n\t   nop\n\t nop\n\t nop\n\t nop\n\t"
  22:tmk_core/common/chibios/wait.c **** 
  23:tmk_core/common/chibios/wait.c **** __attribute__((always_inline)) static inline void wait_cpuclock(unsigned int n) { /* n: 1..135 */
 493              		.loc 2 23 51 view .LVU91
 494              	.LBB21:
  24:tmk_core/common/chibios/wait.c ****     /* The argument n must be a constant expression.
  25:tmk_core/common/chibios/wait.c ****      * That way, compiler optimization will remove unnecessary code. */
  26:tmk_core/common/chibios/wait.c ****     if (n < 1) {
 495              		.loc 2 26 5 view .LVU92
  27:tmk_core/common/chibios/wait.c ****         return;
  28:tmk_core/common/chibios/wait.c ****     }
  29:tmk_core/common/chibios/wait.c ****     if (n > 8) {
 496              		.loc 2 29 5 view .LVU93
 497              	.LBB22:
  30:tmk_core/common/chibios/wait.c ****         unsigned int n8 = n / 8;
 498              		.loc 2 30 9 view .LVU94
  31:tmk_core/common/chibios/wait.c ****         n               = n - n8 * 8;
 499              		.loc 2 31 9 view .LVU95
  32:tmk_core/common/chibios/wait.c ****         switch (n8) {
 500              		.loc 2 32 9 view .LVU96
  33:tmk_core/common/chibios/wait.c ****             case 16:
  34:tmk_core/common/chibios/wait.c ****                 asm volatile(CLOCK_DELAY_NOP8::: "memory");
  35:tmk_core/common/chibios/wait.c ****             case 15:
  36:tmk_core/common/chibios/wait.c ****                 asm volatile(CLOCK_DELAY_NOP8::: "memory");
  37:tmk_core/common/chibios/wait.c ****             case 14:
  38:tmk_core/common/chibios/wait.c ****                 asm volatile(CLOCK_DELAY_NOP8::: "memory");
  39:tmk_core/common/chibios/wait.c ****             case 13:
  40:tmk_core/common/chibios/wait.c ****                 asm volatile(CLOCK_DELAY_NOP8::: "memory");
  41:tmk_core/common/chibios/wait.c ****             case 12:
  42:tmk_core/common/chibios/wait.c ****                 asm volatile(CLOCK_DELAY_NOP8::: "memory");
  43:tmk_core/common/chibios/wait.c ****             case 11:
  44:tmk_core/common/chibios/wait.c ****                 asm volatile(CLOCK_DELAY_NOP8::: "memory");
  45:tmk_core/common/chibios/wait.c ****             case 10:
  46:tmk_core/common/chibios/wait.c ****                 asm volatile(CLOCK_DELAY_NOP8::: "memory");
  47:tmk_core/common/chibios/wait.c ****             case 9:
  48:tmk_core/common/chibios/wait.c ****                 asm volatile(CLOCK_DELAY_NOP8::: "memory");
  49:tmk_core/common/chibios/wait.c ****             case 8:
  50:tmk_core/common/chibios/wait.c ****                 asm volatile(CLOCK_DELAY_NOP8::: "memory");
  51:tmk_core/common/chibios/wait.c ****             case 7:
  52:tmk_core/common/chibios/wait.c ****                 asm volatile(CLOCK_DELAY_NOP8::: "memory");
  53:tmk_core/common/chibios/wait.c ****             case 6:
  54:tmk_core/common/chibios/wait.c ****                 asm volatile(CLOCK_DELAY_NOP8::: "memory");
  55:tmk_core/common/chibios/wait.c ****             case 5:
  56:tmk_core/common/chibios/wait.c ****                 asm volatile(CLOCK_DELAY_NOP8::: "memory");
  57:tmk_core/common/chibios/wait.c ****             case 4:
  58:tmk_core/common/chibios/wait.c ****                 asm volatile(CLOCK_DELAY_NOP8::: "memory");
  59:tmk_core/common/chibios/wait.c ****             case 3:
  60:tmk_core/common/chibios/wait.c ****                 asm volatile(CLOCK_DELAY_NOP8::: "memory");
  61:tmk_core/common/chibios/wait.c ****             case 2:
  62:tmk_core/common/chibios/wait.c ****                 asm volatile(CLOCK_DELAY_NOP8::: "memory");
 501              		.loc 2 62 17 view .LVU97
 502              		.syntax unified
 503              	@ 62 "tmk_core/common/chibios/wait.c" 1
 504 0000 00BF     		nop
 505 0002 00BF     		 nop
 506 0004 00BF     		 nop
 507 0006 00BF     		 nop
 508 0008 00BF     		   nop
 509 000a 00BF     		 nop
 510 000c 00BF     		 nop
 511 000e 00BF     		 nop
 512              		
 513              	@ 0 "" 2
  63:tmk_core/common/chibios/wait.c ****             case 1:
  64:tmk_core/common/chibios/wait.c ****                 asm volatile(CLOCK_DELAY_NOP8::: "memory");
 514              		.loc 2 64 17 view .LVU98
 515              	@ 64 "tmk_core/common/chibios/wait.c" 1
 516 0010 00BF     		nop
 517 0012 00BF     		 nop
 518 0014 00BF     		 nop
 519 0016 00BF     		 nop
 520 0018 00BF     		   nop
 521 001a 00BF     		 nop
 522 001c 00BF     		 nop
 523 001e 00BF     		 nop
 524              		
 525              	@ 0 "" 2
 526              		.loc 2 64 17 is_stmt 0 view .LVU99
 527              		.thumb
 528              		.syntax unified
 529              	.LBE22:
  65:tmk_core/common/chibios/wait.c ****             case 0:
  66:tmk_core/common/chibios/wait.c ****                 break;
  67:tmk_core/common/chibios/wait.c ****         }
  68:tmk_core/common/chibios/wait.c ****     }
  69:tmk_core/common/chibios/wait.c ****     switch (n) {
 530              		.loc 2 69 5 is_stmt 1 view .LVU100
  70:tmk_core/common/chibios/wait.c ****         case 8:
  71:tmk_core/common/chibios/wait.c ****             asm volatile("nop" ::: "memory");
  72:tmk_core/common/chibios/wait.c ****         case 7:
  73:tmk_core/common/chibios/wait.c ****             asm volatile("nop" ::: "memory");
  74:tmk_core/common/chibios/wait.c ****         case 6:
  75:tmk_core/common/chibios/wait.c ****             asm volatile("nop" ::: "memory");
  76:tmk_core/common/chibios/wait.c ****         case 5:
  77:tmk_core/common/chibios/wait.c ****             asm volatile("nop" ::: "memory");
  78:tmk_core/common/chibios/wait.c ****         case 4:
  79:tmk_core/common/chibios/wait.c ****             asm volatile("nop" ::: "memory");
  80:tmk_core/common/chibios/wait.c ****         case 3:
  81:tmk_core/common/chibios/wait.c ****             asm volatile("nop" ::: "memory");
  82:tmk_core/common/chibios/wait.c ****         case 2:
  83:tmk_core/common/chibios/wait.c ****             asm volatile("nop" ::: "memory");
 531              		.loc 2 83 13 view .LVU101
 532              		.syntax unified
 533              	@ 83 "tmk_core/common/chibios/wait.c" 1
 534 0020 00BF     		nop
 535              	@ 0 "" 2
  84:tmk_core/common/chibios/wait.c ****         case 1:
  85:tmk_core/common/chibios/wait.c ****             asm volatile("nop" ::: "memory");
 536              		.loc 2 85 13 view .LVU102
 537              	@ 85 "tmk_core/common/chibios/wait.c" 1
 538 0022 00BF     		nop
 539              	@ 0 "" 2
 540              	.LVL24:
 541              		.loc 2 85 13 is_stmt 0 view .LVU103
 542              		.thumb
 543              		.syntax unified
 544              	.LBE21:
 545              	.LBE20:
 546              		.loc 1 90 84 view .LVU104
 547 0024 7047     		bx	lr
 548              		.cfi_endproc
 549              	.LFE303:
 551              		.section	.text.matrix_output_unselect_delay,"ax",%progbits
 552              		.align	1
 553              		.weak	matrix_output_unselect_delay
 554              		.syntax unified
 555              		.thumb
 556              		.thumb_func
 557              		.fpu fpv4-sp-d16
 559              	matrix_output_unselect_delay:
 560              	.LVL25:
 561              	.LFB304:
  91:quantum/matrix_common.c **** __attribute__((weak)) void matrix_output_unselect_delay(uint8_t line, bool key_pressed) { matrix_io
 562              		.loc 1 91 89 is_stmt 1 view -0
 563              		.cfi_startproc
 564              		@ args = 0, pretend = 0, frame = 0
 565              		@ frame_needed = 0, uses_anonymous_args = 0
 566              		.loc 1 91 91 view .LVU106
 567              		.loc 1 91 89 is_stmt 0 view .LVU107
 568 0000 08B5     		push	{r3, lr}
 569              		.cfi_def_cfa_offset 8
 570              		.cfi_offset 3, -8
 571              		.cfi_offset 14, -4
 572              		.loc 1 91 91 view .LVU108
 573 0002 FFF7FEFF 		bl	matrix_io_delay
 574              	.LVL26:
 575              		.loc 1 91 110 view .LVU109
 576 0006 08BD     		pop	{r3, pc}
 577              		.cfi_endproc
 578              	.LFE304:
 580              		.section	.text.matrix_init_custom,"ax",%progbits
 581              		.align	1
 582              		.weak	matrix_init_custom
 583              		.syntax unified
 584              		.thumb
 585              		.thumb_func
 586              		.fpu fpv4-sp-d16
 588              	matrix_init_custom:
 589              	.LFB313:
 590              		.cfi_startproc
 591              		@ args = 0, pretend = 0, frame = 0
 592              		@ frame_needed = 0, uses_anonymous_args = 0
 593              		@ link register save eliminated.
 594 0000 7047     		bx	lr
 595              		.cfi_endproc
 596              	.LFE313:
 598              		.section	.text.matrix_scan_custom,"ax",%progbits
 599              		.align	1
 600              		.weak	matrix_scan_custom
 601              		.syntax unified
 602              		.thumb
 603              		.thumb_func
 604              		.fpu fpv4-sp-d16
 606              	matrix_scan_custom:
 607              	.LVL27:
 608              	.LFB306:
  92:quantum/matrix_common.c **** 
  93:quantum/matrix_common.c **** // CUSTOM MATRIX 'LITE'
  94:quantum/matrix_common.c **** __attribute__((weak)) void matrix_init_custom(void) {}
  95:quantum/matrix_common.c **** 
  96:quantum/matrix_common.c **** __attribute__((weak)) bool matrix_scan_custom(matrix_row_t current_matrix[]) { return true; }
 609              		.loc 1 96 78 is_stmt 1 view -0
 610              		.cfi_startproc
 611              		@ args = 0, pretend = 0, frame = 0
 612              		@ frame_needed = 0, uses_anonymous_args = 0
 613              		@ link register save eliminated.
 614              		.loc 1 96 80 view .LVU111
 615              		.loc 1 96 93 is_stmt 0 view .LVU112
 616 0000 0120     		movs	r0, #1
 617              	.LVL28:
 618              		.loc 1 96 93 view .LVU113
 619 0002 7047     		bx	lr
 620              		.cfi_endproc
 621              	.LFE306:
 623              		.section	.text.matrix_init,"ax",%progbits
 624              		.align	1
 625              		.weak	matrix_init
 626              		.syntax unified
 627              		.thumb
 628              		.thumb_func
 629              		.fpu fpv4-sp-d16
 631              	matrix_init:
 632              	.LFB307:
  97:quantum/matrix_common.c **** 
  98:quantum/matrix_common.c **** __attribute__((weak)) void matrix_init(void) {
 633              		.loc 1 98 46 is_stmt 1 view -0
 634              		.cfi_startproc
 635              		@ args = 0, pretend = 0, frame = 0
 636              		@ frame_needed = 0, uses_anonymous_args = 0
  99:quantum/matrix_common.c ****     matrix_init_custom();
 637              		.loc 1 99 5 view .LVU115
  98:quantum/matrix_common.c ****     matrix_init_custom();
 638              		.loc 1 98 46 is_stmt 0 view .LVU116
 639 0000 08B5     		push	{r3, lr}
 640              		.cfi_def_cfa_offset 8
 641              		.cfi_offset 3, -8
 642              		.cfi_offset 14, -4
 643              		.loc 1 99 5 view .LVU117
 644 0002 FFF7FEFF 		bl	matrix_init_custom
 645              	.LVL29:
 100:quantum/matrix_common.c **** 
 101:quantum/matrix_common.c ****     // initialize matrix state: all keys off
 102:quantum/matrix_common.c ****     for (uint8_t i = 0; i < MATRIX_ROWS; i++) {
 646              		.loc 1 102 5 is_stmt 1 view .LVU118
 647              	.LBB23:
 648              		.loc 1 102 10 view .LVU119
 649              		.loc 1 102 25 view .LVU120
 103:quantum/matrix_common.c ****         raw_matrix[i] = 0;
 650              		.loc 1 103 23 is_stmt 0 view .LVU121
 651 0006 094A     		ldr	r2, .L30
 652 0008 0023     		movs	r3, #0
 653 000a 5360     		str	r3, [r2, #4]	@ unaligned
 654 000c 1360     		str	r3, [r2]	@ unaligned
 655 000e C2F80730 		str	r3, [r2, #7]	@ unaligned
 104:quantum/matrix_common.c ****         matrix[i]     = 0;
 656              		.loc 1 104 23 view .LVU122
 657 0012 074A     		ldr	r2, .L30+4
 658              	.LBE23:
 105:quantum/matrix_common.c ****     }
 106:quantum/matrix_common.c **** 
 107:quantum/matrix_common.c ****     debounce_init(MATRIX_ROWS);
 659              		.loc 1 107 5 view .LVU123
 660 0014 0B20     		movs	r0, #11
 661              	.LBB24:
 104:quantum/matrix_common.c ****         matrix[i]     = 0;
 662              		.loc 1 104 23 view .LVU124
 663 0016 5360     		str	r3, [r2, #4]	@ unaligned
 664 0018 1360     		str	r3, [r2]	@ unaligned
 665 001a C2F80730 		str	r3, [r2, #7]	@ unaligned
 666              	.LVL30:
 104:quantum/matrix_common.c ****         matrix[i]     = 0;
 667              		.loc 1 104 23 view .LVU125
 668              	.LBE24:
 669              		.loc 1 107 5 is_stmt 1 view .LVU126
 670 001e FFF7FEFF 		bl	debounce_init
 671              	.LVL31:
 108:quantum/matrix_common.c **** 
 109:quantum/matrix_common.c ****     matrix_init_quantum();
 672              		.loc 1 109 5 view .LVU127
 110:quantum/matrix_common.c **** }
 673              		.loc 1 110 1 is_stmt 0 view .LVU128
 674 0022 BDE80840 		pop	{r3, lr}
 675              		.cfi_restore 14
 676              		.cfi_restore 3
 677              		.cfi_def_cfa_offset 0
 109:quantum/matrix_common.c **** }
 678              		.loc 1 109 5 view .LVU129
 679 0026 FFF7FEBF 		b	matrix_init_quantum
 680              	.LVL32:
 681              	.L31:
 682 002a 00BF     		.align	2
 683              	.L30:
 684 002c 00000000 		.word	raw_matrix
 685 0030 00000000 		.word	matrix
 686              		.cfi_endproc
 687              	.LFE307:
 689              		.section	.text.matrix_scan,"ax",%progbits
 690              		.align	1
 691              		.weak	matrix_scan
 692              		.syntax unified
 693              		.thumb
 694              		.thumb_func
 695              		.fpu fpv4-sp-d16
 697              	matrix_scan:
 698              	.LFB308:
 111:quantum/matrix_common.c **** 
 112:quantum/matrix_common.c **** __attribute__((weak)) uint8_t matrix_scan(void) {
 699              		.loc 1 112 49 is_stmt 1 view -0
 700              		.cfi_startproc
 701              		@ args = 0, pretend = 0, frame = 0
 702              		@ frame_needed = 0, uses_anonymous_args = 0
 113:quantum/matrix_common.c ****     bool changed = matrix_scan_custom(raw_matrix);
 703              		.loc 1 113 5 view .LVU131
 112:quantum/matrix_common.c ****     bool changed = matrix_scan_custom(raw_matrix);
 704              		.loc 1 112 49 is_stmt 0 view .LVU132
 705 0000 38B5     		push	{r3, r4, r5, lr}
 706              		.cfi_def_cfa_offset 16
 707              		.cfi_offset 3, -16
 708              		.cfi_offset 4, -12
 709              		.cfi_offset 5, -8
 710              		.cfi_offset 14, -4
 711              		.loc 1 113 20 view .LVU133
 712 0002 074D     		ldr	r5, .L33
 713 0004 2846     		mov	r0, r5
 714 0006 FFF7FEFF 		bl	matrix_scan_custom
 715              	.LVL33:
 114:quantum/matrix_common.c **** 
 115:quantum/matrix_common.c ****     debounce(raw_matrix, matrix, MATRIX_ROWS, changed);
 716              		.loc 1 115 5 view .LVU134
 717 000a 0649     		ldr	r1, .L33+4
 718 000c 0346     		mov	r3, r0
 113:quantum/matrix_common.c **** 
 719              		.loc 1 113 20 view .LVU135
 720 000e 0446     		mov	r4, r0
 721              	.LVL34:
 722              		.loc 1 115 5 is_stmt 1 view .LVU136
 723 0010 0B22     		movs	r2, #11
 724 0012 2846     		mov	r0, r5
 725              	.LVL35:
 726              		.loc 1 115 5 is_stmt 0 view .LVU137
 727 0014 FFF7FEFF 		bl	debounce
 728              	.LVL36:
 116:quantum/matrix_common.c **** 
 117:quantum/matrix_common.c ****     matrix_scan_quantum();
 729              		.loc 1 117 5 is_stmt 1 view .LVU138
 730 0018 FFF7FEFF 		bl	matrix_scan_quantum
 731              	.LVL37:
 118:quantum/matrix_common.c ****     return changed;
 732              		.loc 1 118 5 view .LVU139
 119:quantum/matrix_common.c **** }
 733              		.loc 1 119 1 is_stmt 0 view .LVU140
 734 001c 2046     		mov	r0, r4
 735 001e 38BD     		pop	{r3, r4, r5, pc}
 736              	.L34:
 737              		.align	2
 738              	.L33:
 739 0020 00000000 		.word	raw_matrix
 740 0024 00000000 		.word	matrix
 741              		.cfi_endproc
 742              	.LFE308:
 744              		.section	.text.peek_matrix,"ax",%progbits
 745              		.align	1
 746              		.weak	peek_matrix
 747              		.syntax unified
 748              		.thumb
 749              		.thumb_func
 750              		.fpu fpv4-sp-d16
 752              	peek_matrix:
 753              	.LVL38:
 754              	.LFB309:
 120:quantum/matrix_common.c **** 
 121:quantum/matrix_common.c **** __attribute__((weak)) bool peek_matrix(uint8_t row_index, uint8_t col_index, bool raw) { return 0 !
 755              		.loc 1 121 88 is_stmt 1 view -0
 756              		.cfi_startproc
 757              		@ args = 0, pretend = 0, frame = 0
 758              		@ frame_needed = 0, uses_anonymous_args = 0
 759              		@ link register save eliminated.
 760              		.loc 1 121 90 view .LVU142
 761              		.loc 1 121 88 is_stmt 0 view .LVU143
 762 0000 0346     		mov	r3, r0
 763              		.loc 1 121 132 view .LVU144
 764 0002 2AB1     		cbz	r2, .L36
 765              		.loc 1 121 120 discriminator 1 view .LVU145
 766 0004 034A     		ldr	r2, .L39
 767              	.LVL39:
 768              	.L38:
 769              		.loc 1 121 132 discriminator 2 view .LVU146
 770 0006 D05C     		ldrb	r0, [r2, r3]	@ zero_extendqisi2
 771              	.LVL40:
 772              		.loc 1 121 99 discriminator 2 view .LVU147
 773 0008 0841     		asrs	r0, r0, r1
 774              		.loc 1 121 191 discriminator 2 view .LVU148
 775 000a 00F00100 		and	r0, r0, #1
 776 000e 7047     		bx	lr
 777              	.LVL41:
 778              	.L36:
 779              		.loc 1 121 140 discriminator 2 view .LVU149
 780 0010 014A     		ldr	r2, .L39+4
 781              	.LVL42:
 782              		.loc 1 121 140 discriminator 2 view .LVU150
 783 0012 F8E7     		b	.L38
 784              	.L40:
 785              		.align	2
 786              	.L39:
 787 0014 00000000 		.word	raw_matrix
 788 0018 00000000 		.word	matrix
 789              		.cfi_endproc
 790              	.LFE309:
 792              		.comm	matrix,11,1
 793              		.comm	raw_matrix,11,1
 794              		.text
 795              	.Letext0:
 796              		.file 3 "c:\\qmk_msys\\mingw64\\arm-none-eabi\\include\\machine\\_default_types.h"
 797              		.file 4 "c:\\qmk_msys\\mingw64\\arm-none-eabi\\include\\sys\\_stdint.h"
 798              		.file 5 "./lib/chibios/os/rt/include/chtime.h"
 799              		.file 6 "quantum/matrix.h"
 800              		.file 7 "quantum/debounce.h"
 801              		.file 8 "./lib/chibios/os/rt/include/chthreads.h"
 802              		.file 9 "quantum/bitwise.h"
 803              		.file 10 "lib/printf/printf.h"
 804              		.file 11 "quantum/sequencer/sequencer.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 matrix_common.c
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:18     .text.matrix_init_user:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:26     .text.matrix_init_user:0000000000000000 matrix_init_user
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:40     .text.matrix_init_kb:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:47     .text.matrix_init_kb:0000000000000000 matrix_init_kb
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:68     .text.matrix_scan_user:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:75     .text.matrix_scan_user:0000000000000000 matrix_scan_user
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:86     .text.matrix_scan_kb:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:93     .text.matrix_scan_kb:0000000000000000 matrix_scan_kb
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:114    .text.matrix_rows:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:121    .text.matrix_rows:0000000000000000 matrix_rows
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:136    .text.matrix_cols:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:143    .text.matrix_cols:0000000000000000 matrix_cols
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:158    .text.matrix_is_on:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:165    .text.matrix_is_on:0000000000000000 matrix_is_on
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:193    .text.matrix_is_on:0000000000000014 $d
                            *COM*:000000000000000b matrix
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:198    .text.matrix_get_row:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:205    .text.matrix_get_row:0000000000000000 matrix_get_row
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:223    .text.matrix_get_row:0000000000000008 $d
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:228    .text.matrix_is_modified:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:235    .text.matrix_is_modified:0000000000000000 matrix_is_modified
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:270    .text.matrix_print:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:277    .text.matrix_print:0000000000000000 matrix_print
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:362    .text.matrix_print:0000000000000044 $d
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:372    .text.matrix_key_count:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:379    .text.matrix_key_count:0000000000000000 matrix_key_count
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:445    .text.matrix_key_count:0000000000000020 $d
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:450    .text.matrix_io_delay:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:457    .text.matrix_io_delay:0000000000000000 matrix_io_delay
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:474    .text.matrix_output_select_delay:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:481    .text.matrix_output_select_delay:0000000000000000 matrix_output_select_delay
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:552    .text.matrix_output_unselect_delay:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:559    .text.matrix_output_unselect_delay:0000000000000000 matrix_output_unselect_delay
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:581    .text.matrix_init_custom:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:588    .text.matrix_init_custom:0000000000000000 matrix_init_custom
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:599    .text.matrix_scan_custom:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:606    .text.matrix_scan_custom:0000000000000000 matrix_scan_custom
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:624    .text.matrix_init:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:631    .text.matrix_init:0000000000000000 matrix_init
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:684    .text.matrix_init:000000000000002c $d
                            *COM*:000000000000000b raw_matrix
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:690    .text.matrix_scan:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:697    .text.matrix_scan:0000000000000000 matrix_scan
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:739    .text.matrix_scan:0000000000000020 $d
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:745    .text.peek_matrix:0000000000000000 $t
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:752    .text.peek_matrix:0000000000000000 peek_matrix
C:\Users\lhanj\AppData\Local\Temp\ccaYVQmb.s:787    .text.peek_matrix:0000000000000014 $d

UNDEFINED SYMBOLS
debounce_active
printf_
bitrev
bitpop
chThdSleep
debounce_init
matrix_init_quantum
debounce
matrix_scan_quantum
